(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&r(h)}).observe(document,{childList:!0,subtree:!0});function i(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=i(o);fetch(o.href,u)}})();var em={exports:{}},Vl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J0;function tR(){if(J0)return Vl;J0=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(r,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var d in o)d!=="key"&&(u[d]=o[d])}else u=o;return o=u.ref,{$$typeof:n,type:r,key:h,ref:o!==void 0?o:null,props:u}}return Vl.Fragment=t,Vl.jsx=i,Vl.jsxs=i,Vl}var t_;function eR(){return t_||(t_=1,em.exports=tR()),em.exports}var nt=eR(),nm={exports:{}},xt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e_;function nR(){if(e_)return xt;e_=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),E=Symbol.iterator;function A(I){return I===null||typeof I!="object"?null:(I=E&&I[E]||I["@@iterator"],typeof I=="function"?I:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,j={};function F(I,tt,lt){this.props=I,this.context=tt,this.refs=j,this.updater=lt||C}F.prototype.isReactComponent={},F.prototype.setState=function(I,tt){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,tt,"setState")},F.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function $(){}$.prototype=F.prototype;function Z(I,tt,lt){this.props=I,this.context=tt,this.refs=j,this.updater=lt||C}var Q=Z.prototype=new $;Q.constructor=Z,P(Q,F.prototype),Q.isPureReactComponent=!0;var ut=Array.isArray,it={H:null,A:null,T:null,S:null,V:null},ct=Object.prototype.hasOwnProperty;function V(I,tt,lt,rt,gt,Dt){return lt=Dt.ref,{$$typeof:n,type:I,key:tt,ref:lt!==void 0?lt:null,props:Dt}}function w(I,tt){return V(I.type,tt,void 0,void 0,void 0,I.props)}function R(I){return typeof I=="object"&&I!==null&&I.$$typeof===n}function M(I){var tt={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(lt){return tt[lt]})}var O=/\/+/g;function L(I,tt){return typeof I=="object"&&I!==null&&I.key!=null?M(""+I.key):tt.toString(36)}function D(){}function fe(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(D,D):(I.status="pending",I.then(function(tt){I.status==="pending"&&(I.status="fulfilled",I.value=tt)},function(tt){I.status==="pending"&&(I.status="rejected",I.reason=tt)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function ne(I,tt,lt,rt,gt){var Dt=typeof I;(Dt==="undefined"||Dt==="boolean")&&(I=null);var Tt=!1;if(I===null)Tt=!0;else switch(Dt){case"bigint":case"string":case"number":Tt=!0;break;case"object":switch(I.$$typeof){case n:case t:Tt=!0;break;case v:return Tt=I._init,ne(Tt(I._payload),tt,lt,rt,gt)}}if(Tt)return gt=gt(I),Tt=rt===""?"."+L(I,0):rt,ut(gt)?(lt="",Tt!=null&&(lt=Tt.replace(O,"$&/")+"/"),ne(gt,tt,lt,"",function(tn){return tn})):gt!=null&&(R(gt)&&(gt=w(gt,lt+(gt.key==null||I&&I.key===gt.key?"":(""+gt.key).replace(O,"$&/")+"/")+Tt)),tt.push(gt)),1;Tt=0;var Se=rt===""?".":rt+":";if(ut(I))for(var Xt=0;Xt<I.length;Xt++)rt=I[Xt],Dt=Se+L(rt,Xt),Tt+=ne(rt,tt,lt,Dt,gt);else if(Xt=A(I),typeof Xt=="function")for(I=Xt.call(I),Xt=0;!(rt=I.next()).done;)rt=rt.value,Dt=Se+L(rt,Xt++),Tt+=ne(rt,tt,lt,Dt,gt);else if(Dt==="object"){if(typeof I.then=="function")return ne(fe(I),tt,lt,rt,gt);throw tt=String(I),Error("Objects are not valid as a React child (found: "+(tt==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":tt)+"). If you meant to render a collection of children, use an array instead.")}return Tt}function K(I,tt,lt){if(I==null)return I;var rt=[],gt=0;return ne(I,rt,"","",function(Dt){return tt.call(lt,Dt,gt++)}),rt}function st(I){if(I._status===-1){var tt=I._result;tt=tt(),tt.then(function(lt){(I._status===0||I._status===-1)&&(I._status=1,I._result=lt)},function(lt){(I._status===0||I._status===-1)&&(I._status=2,I._result=lt)}),I._status===-1&&(I._status=0,I._result=tt)}if(I._status===1)return I._result.default;throw I._result}var ft=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var tt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(tt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)};function Mt(){}return xt.Children={map:K,forEach:function(I,tt,lt){K(I,function(){tt.apply(this,arguments)},lt)},count:function(I){var tt=0;return K(I,function(){tt++}),tt},toArray:function(I){return K(I,function(tt){return tt})||[]},only:function(I){if(!R(I))throw Error("React.Children.only expected to receive a single React element child.");return I}},xt.Component=F,xt.Fragment=i,xt.Profiler=o,xt.PureComponent=Z,xt.StrictMode=r,xt.Suspense=p,xt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=it,xt.__COMPILER_RUNTIME={__proto__:null,c:function(I){return it.H.useMemoCache(I)}},xt.cache=function(I){return function(){return I.apply(null,arguments)}},xt.cloneElement=function(I,tt,lt){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var rt=P({},I.props),gt=I.key,Dt=void 0;if(tt!=null)for(Tt in tt.ref!==void 0&&(Dt=void 0),tt.key!==void 0&&(gt=""+tt.key),tt)!ct.call(tt,Tt)||Tt==="key"||Tt==="__self"||Tt==="__source"||Tt==="ref"&&tt.ref===void 0||(rt[Tt]=tt[Tt]);var Tt=arguments.length-2;if(Tt===1)rt.children=lt;else if(1<Tt){for(var Se=Array(Tt),Xt=0;Xt<Tt;Xt++)Se[Xt]=arguments[Xt+2];rt.children=Se}return V(I.type,gt,void 0,void 0,Dt,rt)},xt.createContext=function(I){return I={$$typeof:h,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:u,_context:I},I},xt.createElement=function(I,tt,lt){var rt,gt={},Dt=null;if(tt!=null)for(rt in tt.key!==void 0&&(Dt=""+tt.key),tt)ct.call(tt,rt)&&rt!=="key"&&rt!=="__self"&&rt!=="__source"&&(gt[rt]=tt[rt]);var Tt=arguments.length-2;if(Tt===1)gt.children=lt;else if(1<Tt){for(var Se=Array(Tt),Xt=0;Xt<Tt;Xt++)Se[Xt]=arguments[Xt+2];gt.children=Se}if(I&&I.defaultProps)for(rt in Tt=I.defaultProps,Tt)gt[rt]===void 0&&(gt[rt]=Tt[rt]);return V(I,Dt,void 0,void 0,null,gt)},xt.createRef=function(){return{current:null}},xt.forwardRef=function(I){return{$$typeof:d,render:I}},xt.isValidElement=R,xt.lazy=function(I){return{$$typeof:v,_payload:{_status:-1,_result:I},_init:st}},xt.memo=function(I,tt){return{$$typeof:g,type:I,compare:tt===void 0?null:tt}},xt.startTransition=function(I){var tt=it.T,lt={};it.T=lt;try{var rt=I(),gt=it.S;gt!==null&&gt(lt,rt),typeof rt=="object"&&rt!==null&&typeof rt.then=="function"&&rt.then(Mt,ft)}catch(Dt){ft(Dt)}finally{it.T=tt}},xt.unstable_useCacheRefresh=function(){return it.H.useCacheRefresh()},xt.use=function(I){return it.H.use(I)},xt.useActionState=function(I,tt,lt){return it.H.useActionState(I,tt,lt)},xt.useCallback=function(I,tt){return it.H.useCallback(I,tt)},xt.useContext=function(I){return it.H.useContext(I)},xt.useDebugValue=function(){},xt.useDeferredValue=function(I,tt){return it.H.useDeferredValue(I,tt)},xt.useEffect=function(I,tt,lt){var rt=it.H;if(typeof lt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return rt.useEffect(I,tt)},xt.useId=function(){return it.H.useId()},xt.useImperativeHandle=function(I,tt,lt){return it.H.useImperativeHandle(I,tt,lt)},xt.useInsertionEffect=function(I,tt){return it.H.useInsertionEffect(I,tt)},xt.useLayoutEffect=function(I,tt){return it.H.useLayoutEffect(I,tt)},xt.useMemo=function(I,tt){return it.H.useMemo(I,tt)},xt.useOptimistic=function(I,tt){return it.H.useOptimistic(I,tt)},xt.useReducer=function(I,tt,lt){return it.H.useReducer(I,tt,lt)},xt.useRef=function(I){return it.H.useRef(I)},xt.useState=function(I){return it.H.useState(I)},xt.useSyncExternalStore=function(I,tt,lt){return it.H.useSyncExternalStore(I,tt,lt)},xt.useTransition=function(){return it.H.useTransition()},xt.version="19.1.0",xt}var n_;function Sp(){return n_||(n_=1,nm.exports=nR()),nm.exports}var at=Sp(),im={exports:{}},Il={},sm={exports:{}},rm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i_;function iR(){return i_||(i_=1,function(n){function t(K,st){var ft=K.length;K.push(st);t:for(;0<ft;){var Mt=ft-1>>>1,I=K[Mt];if(0<o(I,st))K[Mt]=st,K[ft]=I,ft=Mt;else break t}}function i(K){return K.length===0?null:K[0]}function r(K){if(K.length===0)return null;var st=K[0],ft=K.pop();if(ft!==st){K[0]=ft;t:for(var Mt=0,I=K.length,tt=I>>>1;Mt<tt;){var lt=2*(Mt+1)-1,rt=K[lt],gt=lt+1,Dt=K[gt];if(0>o(rt,ft))gt<I&&0>o(Dt,rt)?(K[Mt]=Dt,K[gt]=ft,Mt=gt):(K[Mt]=rt,K[lt]=ft,Mt=lt);else if(gt<I&&0>o(Dt,ft))K[Mt]=Dt,K[gt]=ft,Mt=gt;else break t}}return st}function o(K,st){var ft=K.sortIndex-st.sortIndex;return ft!==0?ft:K.id-st.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;n.unstable_now=function(){return u.now()}}else{var h=Date,d=h.now();n.unstable_now=function(){return h.now()-d}}var p=[],g=[],v=1,E=null,A=3,C=!1,P=!1,j=!1,F=!1,$=typeof setTimeout=="function"?setTimeout:null,Z=typeof clearTimeout=="function"?clearTimeout:null,Q=typeof setImmediate<"u"?setImmediate:null;function ut(K){for(var st=i(g);st!==null;){if(st.callback===null)r(g);else if(st.startTime<=K)r(g),st.sortIndex=st.expirationTime,t(p,st);else break;st=i(g)}}function it(K){if(j=!1,ut(K),!P)if(i(p)!==null)P=!0,ct||(ct=!0,L());else{var st=i(g);st!==null&&ne(it,st.startTime-K)}}var ct=!1,V=-1,w=5,R=-1;function M(){return F?!0:!(n.unstable_now()-R<w)}function O(){if(F=!1,ct){var K=n.unstable_now();R=K;var st=!0;try{t:{P=!1,j&&(j=!1,Z(V),V=-1),C=!0;var ft=A;try{e:{for(ut(K),E=i(p);E!==null&&!(E.expirationTime>K&&M());){var Mt=E.callback;if(typeof Mt=="function"){E.callback=null,A=E.priorityLevel;var I=Mt(E.expirationTime<=K);if(K=n.unstable_now(),typeof I=="function"){E.callback=I,ut(K),st=!0;break e}E===i(p)&&r(p),ut(K)}else r(p);E=i(p)}if(E!==null)st=!0;else{var tt=i(g);tt!==null&&ne(it,tt.startTime-K),st=!1}}break t}finally{E=null,A=ft,C=!1}st=void 0}}finally{st?L():ct=!1}}}var L;if(typeof Q=="function")L=function(){Q(O)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,fe=D.port2;D.port1.onmessage=O,L=function(){fe.postMessage(null)}}else L=function(){$(O,0)};function ne(K,st){V=$(function(){K(n.unstable_now())},st)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(K){K.callback=null},n.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<K?Math.floor(1e3/K):5},n.unstable_getCurrentPriorityLevel=function(){return A},n.unstable_next=function(K){switch(A){case 1:case 2:case 3:var st=3;break;default:st=A}var ft=A;A=st;try{return K()}finally{A=ft}},n.unstable_requestPaint=function(){F=!0},n.unstable_runWithPriority=function(K,st){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var ft=A;A=K;try{return st()}finally{A=ft}},n.unstable_scheduleCallback=function(K,st,ft){var Mt=n.unstable_now();switch(typeof ft=="object"&&ft!==null?(ft=ft.delay,ft=typeof ft=="number"&&0<ft?Mt+ft:Mt):ft=Mt,K){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=ft+I,K={id:v++,callback:st,priorityLevel:K,startTime:ft,expirationTime:I,sortIndex:-1},ft>Mt?(K.sortIndex=ft,t(g,K),i(p)===null&&K===i(g)&&(j?(Z(V),V=-1):j=!0,ne(it,ft-Mt))):(K.sortIndex=I,t(p,K),P||C||(P=!0,ct||(ct=!0,L()))),K},n.unstable_shouldYield=M,n.unstable_wrapCallback=function(K){var st=A;return function(){var ft=A;A=st;try{return K.apply(this,arguments)}finally{A=ft}}}}(rm)),rm}var s_;function sR(){return s_||(s_=1,sm.exports=iR()),sm.exports}var am={exports:{}},rn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r_;function rR(){if(r_)return rn;r_=1;var n=Sp();function t(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,v){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:E==null?null:""+E,children:p,containerInfo:g,implementation:v}}var h=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return rn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,rn.createPortal=function(p,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return u(p,g,null,v)},rn.flushSync=function(p){var g=h.T,v=r.p;try{if(h.T=null,r.p=2,p)return p()}finally{h.T=g,r.p=v,r.d.f()}},rn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(p,g))},rn.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},rn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var v=g.as,E=d(v,g.crossOrigin),A=typeof g.integrity=="string"?g.integrity:void 0,C=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?r.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:E,integrity:A,fetchPriority:C}):v==="script"&&r.d.X(p,{crossOrigin:E,integrity:A,fetchPriority:C,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},rn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=d(g.as,g.crossOrigin);r.d.M(p,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(p)},rn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,E=d(v,g.crossOrigin);r.d.L(p,v,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},rn.preloadModule=function(p,g){if(typeof p=="string")if(g){var v=d(g.as,g.crossOrigin);r.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(p)},rn.requestFormReset=function(p){r.d.r(p)},rn.unstable_batchedUpdates=function(p,g){return p(g)},rn.useFormState=function(p,g,v){return h.H.useFormState(p,g,v)},rn.useFormStatus=function(){return h.H.useHostTransitionStatus()},rn.version="19.1.0",rn}var a_;function aR(){if(a_)return am.exports;a_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),am.exports=rR(),am.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o_;function oR(){if(o_)return Il;o_=1;var n=sR(),t=Sp(),i=aR();function r(e){var s="https://react.dev/errors/"+e;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var s=e,a=e;if(e.alternate)for(;s.return;)s=s.return;else{e=s;do s=e,(s.flags&4098)!==0&&(a=s.return),e=s.return;while(e)}return s.tag===3?a:null}function h(e){if(e.tag===13){var s=e.memoizedState;if(s===null&&(e=e.alternate,e!==null&&(s=e.memoizedState)),s!==null)return s.dehydrated}return null}function d(e){if(u(e)!==e)throw Error(r(188))}function p(e){var s=e.alternate;if(!s){if(s=u(e),s===null)throw Error(r(188));return s!==e?null:e}for(var a=e,l=s;;){var f=a.return;if(f===null)break;var m=f.alternate;if(m===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===a)return d(f),e;if(m===l)return d(f),s;m=m.sibling}throw Error(r(188))}if(a.return!==l.return)a=f,l=m;else{for(var T=!1,S=f.child;S;){if(S===a){T=!0,a=f,l=m;break}if(S===l){T=!0,l=f,a=m;break}S=S.sibling}if(!T){for(S=m.child;S;){if(S===a){T=!0,a=m,l=f;break}if(S===l){T=!0,l=m,a=f;break}S=S.sibling}if(!T)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:s}function g(e){var s=e.tag;if(s===5||s===26||s===27||s===6)return e;for(e=e.child;e!==null;){if(s=g(e),s!==null)return s;e=e.sibling}return null}var v=Object.assign,E=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),$=Symbol.for("react.provider"),Z=Symbol.for("react.consumer"),Q=Symbol.for("react.context"),ut=Symbol.for("react.forward_ref"),it=Symbol.for("react.suspense"),ct=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function L(e){return e===null||typeof e!="object"?null:(e=O&&e[O]||e["@@iterator"],typeof e=="function"?e:null)}var D=Symbol.for("react.client.reference");function fe(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===D?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case P:return"Fragment";case F:return"Profiler";case j:return"StrictMode";case it:return"Suspense";case ct:return"SuspenseList";case R:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case C:return"Portal";case Q:return(e.displayName||"Context")+".Provider";case Z:return(e._context.displayName||"Context")+".Consumer";case ut:var s=e.render;return e=e.displayName,e||(e=s.displayName||s.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case V:return s=e.displayName||null,s!==null?s:fe(e.type)||"Memo";case w:s=e._payload,e=e._init;try{return fe(e(s))}catch{}}return null}var ne=Array.isArray,K=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,st=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft={pending:!1,data:null,method:null,action:null},Mt=[],I=-1;function tt(e){return{current:e}}function lt(e){0>I||(e.current=Mt[I],Mt[I]=null,I--)}function rt(e,s){I++,Mt[I]=e.current,e.current=s}var gt=tt(null),Dt=tt(null),Tt=tt(null),Se=tt(null);function Xt(e,s){switch(rt(Tt,s),rt(Dt,e),rt(gt,null),s.nodeType){case 9:case 11:e=(e=s.documentElement)&&(e=e.namespaceURI)?C0(e):0;break;default:if(e=s.tagName,s=s.namespaceURI)s=C0(s),e=x0(s,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}lt(gt),rt(gt,e)}function tn(){lt(gt),lt(Dt),lt(Tt)}function si(e){e.memoizedState!==null&&rt(Se,e);var s=gt.current,a=x0(s,e.type);s!==a&&(rt(Dt,e),rt(gt,a))}function Xn(e){Dt.current===e&&(lt(gt),lt(Dt)),Se.current===e&&(lt(Se),wl._currentValue=ft)}var Oi=Object.prototype.hasOwnProperty,yt=n.unstable_scheduleCallback,le=n.unstable_cancelCallback,At=n.unstable_shouldYield,ye=n.unstable_requestPaint,en=n.unstable_now,ds=n.unstable_getCurrentPriorityLevel,Pi=n.unstable_ImmediatePriority,$n=n.unstable_UserBlockingPriority,lr=n.unstable_NormalPriority,ef=n.unstable_LowPriority,sa=n.unstable_IdlePriority,bo=n.log,Au=n.unstable_setDisableYieldValue,de=null,Kt=null;function An(e){if(typeof bo=="function"&&Au(e),Kt&&typeof Kt.setStrictMode=="function")try{Kt.setStrictMode(de,e)}catch{}}var nn=Math.clz32?Math.clz32:ur,Su=Math.log,nf=Math.LN2;function ur(e){return e>>>=0,e===0?32:31-(Su(e)/nf|0)|0}var cr=256,hr=4194304;function Zn(e){var s=e&42;if(s!==0)return s;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ra(e,s,a){var l=e.pendingLanes;if(l===0)return 0;var f=0,m=e.suspendedLanes,T=e.pingedLanes;e=e.warmLanes;var S=l&134217727;return S!==0?(l=S&~m,l!==0?f=Zn(l):(T&=S,T!==0?f=Zn(T):a||(a=S&~e,a!==0&&(f=Zn(a))))):(S=l&~m,S!==0?f=Zn(S):T!==0?f=Zn(T):a||(a=l&~e,a!==0&&(f=Zn(a)))),f===0?0:s!==0&&s!==f&&(s&m)===0&&(m=f&-f,a=s&-s,m>=a||m===32&&(a&4194048)!==0)?s:f}function fr(e,s){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&s)===0}function wo(e,s){switch(e){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ro(){var e=cr;return cr<<=1,(cr&4194048)===0&&(cr=256),e}function Co(){var e=hr;return hr<<=1,(hr&62914560)===0&&(hr=4194304),e}function Li(e){for(var s=[],a=0;31>a;a++)s.push(e);return s}function Ui(e,s){e.pendingLanes|=s,s!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function xo(e,s,a,l,f,m){var T=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var S=e.entanglements,x=e.expirationTimes,z=e.hiddenUpdates;for(a=T&~a;0<a;){var Y=31-nn(a),W=1<<Y;S[Y]=0,x[Y]=-1;var q=z[Y];if(q!==null)for(z[Y]=null,Y=0;Y<q.length;Y++){var H=q[Y];H!==null&&(H.lane&=-536870913)}a&=~W}l!==0&&ri(e,l,0),m!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=m&~(T&~s))}function ri(e,s,a){e.pendingLanes|=s,e.suspendedLanes&=~s;var l=31-nn(s);e.entangledLanes|=s,e.entanglements[l]=e.entanglements[l]|1073741824|a&4194090}function Do(e,s){var a=e.entangledLanes|=s;for(e=e.entanglements;a;){var l=31-nn(a),f=1<<l;f&s|e[l]&s&&(e[l]|=s),a&=~f}}function ms(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function aa(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ps(){var e=st.p;return e!==0?e:(e=window.event,e===void 0?32:Y0(e.type))}function bu(e,s){var a=st.p;try{return st.p=e,s()}finally{st.p=a}}var re=Math.random().toString(36).slice(2),Ie="__reactFiber$"+re,be="__reactProps$"+re,Nn="__reactContainer$"+re,Vo="__reactEvents$"+re,sf="__reactListeners$"+re,gs="__reactHandles$"+re,wu="__reactResources$"+re,dr="__reactMarker$"+re;function ys(e){delete e[Ie],delete e[be],delete e[Vo],delete e[sf],delete e[gs]}function ki(e){var s=e[Ie];if(s)return s;for(var a=e.parentNode;a;){if(s=a[Nn]||a[Ie]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(e=M0(e);e!==null;){if(a=e[Ie])return a;e=M0(e)}return s}e=a,a=e.parentNode}return null}function ai(e){if(e=e[Ie]||e[Nn]){var s=e.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return e}return null}function oi(e){var s=e.tag;if(s===5||s===26||s===27||s===6)return e.stateNode;throw Error(r(33))}function cn(e){var s=e[wu];return s||(s=e[wu]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function ve(e){e[dr]=!0}var Io=new Set,oa={};function Wn(e,s){Bi(e,s),Bi(e+"Capture",s)}function Bi(e,s){for(oa[e]=s,e=0;e<s.length;e++)Io.add(s[e])}var Ru=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Cu={},mr={};function xu(e){return Oi.call(mr,e)?!0:Oi.call(Cu,e)?!1:Ru.test(e)?mr[e]=!0:(Cu[e]=!0,!1)}function vs(e,s,a){if(xu(s))if(a===null)e.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(s);return;case"boolean":var l=s.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(s);return}}e.setAttribute(s,""+a)}}function li(e,s,a){if(a===null)e.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttribute(s,""+a)}}function Ge(e,s,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(s,a,""+l)}}var pr,Du;function zi(e){if(pr===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);pr=s&&s[1]||"",Du=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+pr+e+Du}var la=!1;function ua(e,s){if(!e||la)return"";la=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(s){var W=function(){throw Error()};if(Object.defineProperty(W.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(W,[])}catch(H){var q=H}Reflect.construct(e,[],W)}else{try{W.call()}catch(H){q=H}e.call(W.prototype)}}else{try{throw Error()}catch(H){q=H}(W=e())&&typeof W.catch=="function"&&W.catch(function(){})}}catch(H){if(H&&q&&typeof H.stack=="string")return[H.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=l.DetermineComponentFrameRoot(),T=m[0],S=m[1];if(T&&S){var x=T.split(`
`),z=S.split(`
`);for(f=l=0;l<x.length&&!x[l].includes("DetermineComponentFrameRoot");)l++;for(;f<z.length&&!z[f].includes("DetermineComponentFrameRoot");)f++;if(l===x.length||f===z.length)for(l=x.length-1,f=z.length-1;1<=l&&0<=f&&x[l]!==z[f];)f--;for(;1<=l&&0<=f;l--,f--)if(x[l]!==z[f]){if(l!==1||f!==1)do if(l--,f--,0>f||x[l]!==z[f]){var Y=`
`+x[l].replace(" at new "," at ");return e.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",e.displayName)),Y}while(1<=l&&0<=f);break}}}finally{la=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?zi(a):""}function Mo(e){switch(e.tag){case 26:case 27:case 5:return zi(e.type);case 16:return zi("Lazy");case 13:return zi("Suspense");case 19:return zi("SuspenseList");case 0:case 15:return ua(e.type,!1);case 11:return ua(e.type.render,!1);case 1:return ua(e.type,!0);case 31:return zi("Activity");default:return""}}function ca(e){try{var s="";do s+=Mo(e),e=e.return;while(e);return s}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function hn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function No(e){var s=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function rf(e){var s=No(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,s),l=""+e[s];if(!e.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,m=a.set;return Object.defineProperty(e,s,{configurable:!0,get:function(){return f.call(this)},set:function(T){l=""+T,m.call(this,T)}}),Object.defineProperty(e,s,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(T){l=""+T},stopTracking:function(){e._valueTracker=null,delete e[s]}}}}function ha(e){e._valueTracker||(e._valueTracker=rf(e))}function Oo(e){if(!e)return!1;var s=e._valueTracker;if(!s)return!0;var a=s.getValue(),l="";return e&&(l=No(e)?e.checked?"true":"false":e.value),e=l,e!==a?(s.setValue(e),!0):!1}function gr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var af=/[\n"\\]/g;function we(e){return e.replace(af,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Sn(e,s,a,l,f,m,T,S){e.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.type=T:e.removeAttribute("type"),s!=null?T==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+hn(s)):e.value!==""+hn(s)&&(e.value=""+hn(s)):T!=="submit"&&T!=="reset"||e.removeAttribute("value"),s!=null?_s(e,T,hn(s)):a!=null?_s(e,T,hn(a)):l!=null&&e.removeAttribute("value"),f==null&&m!=null&&(e.defaultChecked=!!m),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?e.name=""+hn(S):e.removeAttribute("name")}function yr(e,s,a,l,f,m,T,S){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(e.type=m),s!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||s!=null))return;a=a!=null?""+hn(a):"",s=s!=null?""+hn(s):a,S||s===e.value||(e.value=s),e.defaultValue=s}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=S?e.checked:!!l,e.defaultChecked=!!l,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(e.name=T)}function _s(e,s,a){s==="number"&&gr(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function ji(e,s,a,l){if(e=e.options,s){s={};for(var f=0;f<a.length;f++)s["$"+a[f]]=!0;for(a=0;a<e.length;a++)f=s.hasOwnProperty("$"+e[a].value),e[a].selected!==f&&(e[a].selected=f),f&&l&&(e[a].defaultSelected=!0)}else{for(a=""+hn(a),s=null,f=0;f<e.length;f++){if(e[f].value===a){e[f].selected=!0,l&&(e[f].defaultSelected=!0);return}s!==null||e[f].disabled||(s=e[f])}s!==null&&(s.selected=!0)}}function $t(e,s,a){if(s!=null&&(s=""+hn(s),s!==e.value&&(e.value=s),a==null)){e.defaultValue!==s&&(e.defaultValue=s);return}e.defaultValue=a!=null?""+hn(a):""}function vr(e,s,a,l){if(s==null){if(l!=null){if(a!=null)throw Error(r(92));if(ne(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),s=a}a=hn(s),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l)}function On(e,s){if(s){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=s;return}}e.textContent=s}var _r=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Vu(e,s,a){var l=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="":l?e.setProperty(s,a):typeof a!="number"||a===0||_r.has(s)?s==="float"?e.cssFloat=a:e[s]=(""+a).trim():e[s]=a+"px"}function Po(e,s,a){if(s!=null&&typeof s!="object")throw Error(r(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||s!=null&&s.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var f in s)l=s[f],s.hasOwnProperty(f)&&a[f]!==l&&Vu(e,f,l)}else for(var m in s)s.hasOwnProperty(m)&&Vu(e,m,s[m])}function Lo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var of=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),lf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function fa(e){return lf.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var qi=null;function Pn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Fi=null,Hi=null;function Uo(e){var s=ai(e);if(s&&(e=s.stateNode)){var a=e[be]||null;t:switch(e=s.stateNode,s.type){case"input":if(Sn(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+we(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var l=a[s];if(l!==e&&l.form===e.form){var f=l[be]||null;if(!f)throw Error(r(90));Sn(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<a.length;s++)l=a[s],l.form===e.form&&Oo(l)}break t;case"textarea":$t(e,a.value,a.defaultValue);break t;case"select":s=a.value,s!=null&&ji(e,!!a.multiple,s,!1)}}}var ui=!1;function Iu(e,s,a){if(ui)return e(s,a);ui=!0;try{var l=e(s);return l}finally{if(ui=!1,(Fi!==null||Hi!==null)&&(bc(),Fi&&(s=Fi,e=Hi,Hi=Fi=null,Uo(s),e)))for(s=0;s<e.length;s++)Uo(e[s])}}function Tr(e,s){var a=e.stateNode;if(a===null)return null;var l=a[be]||null;if(l===null)return null;a=l[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,s,typeof a));return a}var Jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ln=!1;if(Jn)try{var Er={};Object.defineProperty(Er,"passive",{get:function(){Ln=!0}}),window.addEventListener("test",Er,Er),window.removeEventListener("test",Er,Er)}catch{Ln=!1}var ci=null,Ts=null,Gi=null;function ko(){if(Gi)return Gi;var e,s=Ts,a=s.length,l,f="value"in ci?ci.value:ci.textContent,m=f.length;for(e=0;e<a&&s[e]===f[e];e++);var T=a-e;for(l=1;l<=T&&s[a-l]===f[m-l];l++);return Gi=f.slice(e,1<l?1-l:void 0)}function hi(e){var s=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&s===13&&(e=13)):e=s,e===10&&(e=13),32<=e||e===13?e:0}function fi(){return!0}function Bo(){return!1}function ke(e){function s(a,l,f,m,T){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=m,this.target=T,this.currentTarget=null;for(var S in e)e.hasOwnProperty(S)&&(a=e[S],this[S]=a?a(m):m[S]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?fi:Bo,this.isPropagationStopped=Bo,this}return v(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=fi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=fi)},persist:function(){},isPersistent:fi}),s}var Ht={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},da=ke(Ht),Ar=v({},Ht,{view:0,detail:0}),Mu=ke(Ar),ma,pa,di,Sr=v({},Ar,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==di&&(di&&e.type==="mousemove"?(ma=e.screenX-di.screenX,pa=e.screenY-di.screenY):pa=ma=0,di=e),ma)},movementY:function(e){return"movementY"in e?e.movementY:pa}}),Un=ke(Sr),Nu=v({},Sr,{dataTransfer:0}),uf=ke(Nu),br=v({},Ar,{relatedTarget:0}),ga=ke(br),zo=v({},Ht,{animationName:0,elapsedTime:0,pseudoElement:0}),ya=ke(zo),Ou=v({},Ht,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),va=ke(Ou),cf=v({},Ht,{data:0}),jo=ke(cf),wr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Pu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Lu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qo(e){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(e):(e=Lu[e])?!!s[e]:!1}function Rr(){return qo}var Uu=v({},Ar,{key:function(e){if(e.key){var s=wr[e.key]||e.key;if(s!=="Unidentified")return s}return e.type==="keypress"?(e=hi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Pu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rr,charCode:function(e){return e.type==="keypress"?hi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?hi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),_a=ke(Uu),ku=v({},Sr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fo=ke(ku),Ki=v({},Ar,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rr}),Bu=ke(Ki),zu=v({},Ht,{propertyName:0,elapsedTime:0,pseudoElement:0}),ju=ke(zu),qu=v({},Sr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ta=ke(qu),fn=v({},Ht,{newState:0,oldState:0}),Fu=ke(fn),Hu=[9,13,27,32],mi=Jn&&"CompositionEvent"in window,c=null;Jn&&"documentMode"in document&&(c=document.documentMode);var y=Jn&&"TextEvent"in window&&!c,_=Jn&&(!mi||c&&8<c&&11>=c),b=" ",k=!1;function G(e,s){switch(e){case"keyup":return Hu.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ot(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ut=!1;function Me(e,s){switch(e){case"compositionend":return ot(s);case"keypress":return s.which!==32?null:(k=!0,b);case"textInput":return e=s.data,e===b&&k?null:e;default:return null}}function kt(e,s){if(Ut)return e==="compositionend"||!mi&&G(e,s)?(e=ko(),Gi=Ts=ci=null,Ut=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return _&&s.locale!=="ko"?null:s.data;default:return null}}var Be={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ne(e){var s=e&&e.nodeName&&e.nodeName.toLowerCase();return s==="input"?!!Be[e.type]:s==="textarea"}function Yi(e,s,a,l){Fi?Hi?Hi.push(l):Hi=[l]:Fi=l,s=Vc(s,"onChange"),0<s.length&&(a=new da("onChange","change",null,a,l),e.push({event:a,listeners:s}))}var Ke=null,pi=null;function Ho(e){A0(e,0)}function Gu(e){var s=oi(e);if(Oo(s))return e}function Fg(e,s){if(e==="change")return s}var Hg=!1;if(Jn){var hf;if(Jn){var ff="oninput"in document;if(!ff){var Gg=document.createElement("div");Gg.setAttribute("oninput","return;"),ff=typeof Gg.oninput=="function"}hf=ff}else hf=!1;Hg=hf&&(!document.documentMode||9<document.documentMode)}function Kg(){Ke&&(Ke.detachEvent("onpropertychange",Yg),pi=Ke=null)}function Yg(e){if(e.propertyName==="value"&&Gu(pi)){var s=[];Yi(s,pi,e,Pn(e)),Iu(Ho,s)}}function Vb(e,s,a){e==="focusin"?(Kg(),Ke=s,pi=a,Ke.attachEvent("onpropertychange",Yg)):e==="focusout"&&Kg()}function Ib(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Gu(pi)}function Mb(e,s){if(e==="click")return Gu(s)}function Nb(e,s){if(e==="input"||e==="change")return Gu(s)}function Ob(e,s){return e===s&&(e!==0||1/e===1/s)||e!==e&&s!==s}var bn=typeof Object.is=="function"?Object.is:Ob;function Go(e,s){if(bn(e,s))return!0;if(typeof e!="object"||e===null||typeof s!="object"||s===null)return!1;var a=Object.keys(e),l=Object.keys(s);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!Oi.call(s,f)||!bn(e[f],s[f]))return!1}return!0}function Qg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Xg(e,s){var a=Qg(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=s&&l>=s)return{node:a,offset:s-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Qg(a)}}function $g(e,s){return e&&s?e===s?!0:e&&e.nodeType===3?!1:s&&s.nodeType===3?$g(e,s.parentNode):"contains"in e?e.contains(s):e.compareDocumentPosition?!!(e.compareDocumentPosition(s)&16):!1:!1}function Zg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var s=gr(e.document);s instanceof e.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)e=s.contentWindow;else break;s=gr(e.document)}return s}function df(e){var s=e&&e.nodeName&&e.nodeName.toLowerCase();return s&&(s==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||s==="textarea"||e.contentEditable==="true")}var Pb=Jn&&"documentMode"in document&&11>=document.documentMode,Ea=null,mf=null,Ko=null,pf=!1;function Wg(e,s,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;pf||Ea==null||Ea!==gr(l)||(l=Ea,"selectionStart"in l&&df(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ko&&Go(Ko,l)||(Ko=l,l=Vc(mf,"onSelect"),0<l.length&&(s=new da("onSelect","select",null,s,a),e.push({event:s,listeners:l}),s.target=Ea)))}function Cr(e,s){var a={};return a[e.toLowerCase()]=s.toLowerCase(),a["Webkit"+e]="webkit"+s,a["Moz"+e]="moz"+s,a}var Aa={animationend:Cr("Animation","AnimationEnd"),animationiteration:Cr("Animation","AnimationIteration"),animationstart:Cr("Animation","AnimationStart"),transitionrun:Cr("Transition","TransitionRun"),transitionstart:Cr("Transition","TransitionStart"),transitioncancel:Cr("Transition","TransitionCancel"),transitionend:Cr("Transition","TransitionEnd")},gf={},Jg={};Jn&&(Jg=document.createElement("div").style,"AnimationEvent"in window||(delete Aa.animationend.animation,delete Aa.animationiteration.animation,delete Aa.animationstart.animation),"TransitionEvent"in window||delete Aa.transitionend.transition);function xr(e){if(gf[e])return gf[e];if(!Aa[e])return e;var s=Aa[e],a;for(a in s)if(s.hasOwnProperty(a)&&a in Jg)return gf[e]=s[a];return e}var ty=xr("animationend"),ey=xr("animationiteration"),ny=xr("animationstart"),Lb=xr("transitionrun"),Ub=xr("transitionstart"),kb=xr("transitioncancel"),iy=xr("transitionend"),sy=new Map,yf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");yf.push("scrollEnd");function ti(e,s){sy.set(e,s),Wn(s,[e])}var ry=new WeakMap;function kn(e,s){if(typeof e=="object"&&e!==null){var a=ry.get(e);return a!==void 0?a:(s={value:e,source:s,stack:ca(s)},ry.set(e,s),s)}return{value:e,source:s,stack:ca(s)}}var Bn=[],Sa=0,vf=0;function Ku(){for(var e=Sa,s=vf=Sa=0;s<e;){var a=Bn[s];Bn[s++]=null;var l=Bn[s];Bn[s++]=null;var f=Bn[s];Bn[s++]=null;var m=Bn[s];if(Bn[s++]=null,l!==null&&f!==null){var T=l.pending;T===null?f.next=f:(f.next=T.next,T.next=f),l.pending=f}m!==0&&ay(a,f,m)}}function Yu(e,s,a,l){Bn[Sa++]=e,Bn[Sa++]=s,Bn[Sa++]=a,Bn[Sa++]=l,vf|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function _f(e,s,a,l){return Yu(e,s,a,l),Qu(e)}function ba(e,s){return Yu(e,null,null,s),Qu(e)}function ay(e,s,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var f=!1,m=e.return;m!==null;)m.childLanes|=a,l=m.alternate,l!==null&&(l.childLanes|=a),m.tag===22&&(e=m.stateNode,e===null||e._visibility&1||(f=!0)),e=m,m=m.return;return e.tag===3?(m=e.stateNode,f&&s!==null&&(f=31-nn(a),e=m.hiddenUpdates,l=e[f],l===null?e[f]=[s]:l.push(s),s.lane=a|536870912),m):null}function Qu(e){if(50<yl)throw yl=0,wd=null,Error(r(185));for(var s=e.return;s!==null;)e=s,s=e.return;return e.tag===3?e.stateNode:null}var wa={};function Bb(e,s,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wn(e,s,a,l){return new Bb(e,s,a,l)}function Tf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Qi(e,s){var a=e.alternate;return a===null?(a=wn(e.tag,s,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=s,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,s=e.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function oy(e,s){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=s,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,s=a.dependencies,e.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),e}function Xu(e,s,a,l,f,m){var T=0;if(l=e,typeof e=="function")Tf(e)&&(T=1);else if(typeof e=="string")T=jw(e,a,gt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case R:return e=wn(31,a,s,f),e.elementType=R,e.lanes=m,e;case P:return Dr(a.children,f,m,s);case j:T=8,f|=24;break;case F:return e=wn(12,a,s,f|2),e.elementType=F,e.lanes=m,e;case it:return e=wn(13,a,s,f),e.elementType=it,e.lanes=m,e;case ct:return e=wn(19,a,s,f),e.elementType=ct,e.lanes=m,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case $:case Q:T=10;break t;case Z:T=9;break t;case ut:T=11;break t;case V:T=14;break t;case w:T=16,l=null;break t}T=29,a=Error(r(130,e===null?"null":typeof e,"")),l=null}return s=wn(T,a,s,f),s.elementType=e,s.type=l,s.lanes=m,s}function Dr(e,s,a,l){return e=wn(7,e,l,s),e.lanes=a,e}function Ef(e,s,a){return e=wn(6,e,null,s),e.lanes=a,e}function Af(e,s,a){return s=wn(4,e.children!==null?e.children:[],e.key,s),s.lanes=a,s.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},s}var Ra=[],Ca=0,$u=null,Zu=0,zn=[],jn=0,Vr=null,Xi=1,$i="";function Ir(e,s){Ra[Ca++]=Zu,Ra[Ca++]=$u,$u=e,Zu=s}function ly(e,s,a){zn[jn++]=Xi,zn[jn++]=$i,zn[jn++]=Vr,Vr=e;var l=Xi;e=$i;var f=32-nn(l)-1;l&=~(1<<f),a+=1;var m=32-nn(s)+f;if(30<m){var T=f-f%5;m=(l&(1<<T)-1).toString(32),l>>=T,f-=T,Xi=1<<32-nn(s)+f|a<<f|l,$i=m+e}else Xi=1<<m|a<<f|l,$i=e}function Sf(e){e.return!==null&&(Ir(e,1),ly(e,1,0))}function bf(e){for(;e===$u;)$u=Ra[--Ca],Ra[Ca]=null,Zu=Ra[--Ca],Ra[Ca]=null;for(;e===Vr;)Vr=zn[--jn],zn[jn]=null,$i=zn[--jn],zn[jn]=null,Xi=zn[--jn],zn[jn]=null}var dn=null,me=null,Ft=!1,Mr=null,gi=!1,wf=Error(r(519));function Nr(e){var s=Error(r(418,""));throw Xo(kn(s,e)),wf}function uy(e){var s=e.stateNode,a=e.type,l=e.memoizedProps;switch(s[Ie]=e,s[be]=l,a){case"dialog":Ot("cancel",s),Ot("close",s);break;case"iframe":case"object":case"embed":Ot("load",s);break;case"video":case"audio":for(a=0;a<_l.length;a++)Ot(_l[a],s);break;case"source":Ot("error",s);break;case"img":case"image":case"link":Ot("error",s),Ot("load",s);break;case"details":Ot("toggle",s);break;case"input":Ot("invalid",s),yr(s,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),ha(s);break;case"select":Ot("invalid",s);break;case"textarea":Ot("invalid",s),vr(s,l.value,l.defaultValue,l.children),ha(s)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||l.suppressHydrationWarning===!0||R0(s.textContent,a)?(l.popover!=null&&(Ot("beforetoggle",s),Ot("toggle",s)),l.onScroll!=null&&Ot("scroll",s),l.onScrollEnd!=null&&Ot("scrollend",s),l.onClick!=null&&(s.onclick=Ic),s=!0):s=!1,s||Nr(e)}function cy(e){for(dn=e.return;dn;)switch(dn.tag){case 5:case 13:gi=!1;return;case 27:case 3:gi=!0;return;default:dn=dn.return}}function Yo(e){if(e!==dn)return!1;if(!Ft)return cy(e),Ft=!0,!1;var s=e.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||jd(e.type,e.memoizedProps)),a=!a),a&&me&&Nr(e),cy(e),s===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));t:{for(e=e.nextSibling,s=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(s===0){me=ni(e.nextSibling);break t}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++;e=e.nextSibling}me=null}}else s===27?(s=me,Ls(e.type)?(e=Gd,Gd=null,me=e):me=s):me=dn?ni(e.stateNode.nextSibling):null;return!0}function Qo(){me=dn=null,Ft=!1}function hy(){var e=Mr;return e!==null&&(yn===null?yn=e:yn.push.apply(yn,e),Mr=null),e}function Xo(e){Mr===null?Mr=[e]:Mr.push(e)}var Rf=tt(null),Or=null,Zi=null;function Es(e,s,a){rt(Rf,s._currentValue),s._currentValue=a}function Wi(e){e._currentValue=Rf.current,lt(Rf)}function Cf(e,s,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&s)!==s?(e.childLanes|=s,l!==null&&(l.childLanes|=s)):l!==null&&(l.childLanes&s)!==s&&(l.childLanes|=s),e===a)break;e=e.return}}function xf(e,s,a,l){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var m=f.dependencies;if(m!==null){var T=f.child;m=m.firstContext;t:for(;m!==null;){var S=m;m=f;for(var x=0;x<s.length;x++)if(S.context===s[x]){m.lanes|=a,S=m.alternate,S!==null&&(S.lanes|=a),Cf(m.return,a,e),l||(T=null);break t}m=S.next}}else if(f.tag===18){if(T=f.return,T===null)throw Error(r(341));T.lanes|=a,m=T.alternate,m!==null&&(m.lanes|=a),Cf(T,a,e),T=null}else T=f.child;if(T!==null)T.return=f;else for(T=f;T!==null;){if(T===e){T=null;break}if(f=T.sibling,f!==null){f.return=T.return,T=f;break}T=T.return}f=T}}function $o(e,s,a,l){e=null;for(var f=s,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var T=f.alternate;if(T===null)throw Error(r(387));if(T=T.memoizedProps,T!==null){var S=f.type;bn(f.pendingProps.value,T.value)||(e!==null?e.push(S):e=[S])}}else if(f===Se.current){if(T=f.alternate,T===null)throw Error(r(387));T.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push(wl):e=[wl])}f=f.return}e!==null&&xf(s,e,a,l),s.flags|=262144}function Wu(e){for(e=e.firstContext;e!==null;){if(!bn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Pr(e){Or=e,Zi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function sn(e){return fy(Or,e)}function Ju(e,s){return Or===null&&Pr(e),fy(e,s)}function fy(e,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},Zi===null){if(e===null)throw Error(r(308));Zi=s,e.dependencies={lanes:0,firstContext:s},e.flags|=524288}else Zi=Zi.next=s;return a}var zb=typeof AbortController<"u"?AbortController:function(){var e=[],s=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){s.aborted=!0,e.forEach(function(a){return a()})}},jb=n.unstable_scheduleCallback,qb=n.unstable_NormalPriority,Oe={$$typeof:Q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Df(){return{controller:new zb,data:new Map,refCount:0}}function Zo(e){e.refCount--,e.refCount===0&&jb(qb,function(){e.controller.abort()})}var Wo=null,Vf=0,xa=0,Da=null;function Fb(e,s){if(Wo===null){var a=Wo=[];Vf=0,xa=Md(),Da={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Vf++,s.then(dy,dy),s}function dy(){if(--Vf===0&&Wo!==null){Da!==null&&(Da.status="fulfilled");var e=Wo;Wo=null,xa=0,Da=null;for(var s=0;s<e.length;s++)(0,e[s])()}}function Hb(e,s){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return e.then(function(){l.status="fulfilled",l.value=s;for(var f=0;f<a.length;f++)(0,a[f])(s)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var my=K.S;K.S=function(e,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&Fb(e,s),my!==null&&my(e,s)};var Lr=tt(null);function If(){var e=Lr.current;return e!==null?e:ee.pooledCache}function tc(e,s){s===null?rt(Lr,Lr.current):rt(Lr,s.pool)}function py(){var e=If();return e===null?null:{parent:Oe._currentValue,pool:e}}var Jo=Error(r(460)),gy=Error(r(474)),ec=Error(r(542)),Mf={then:function(){}};function yy(e){return e=e.status,e==="fulfilled"||e==="rejected"}function nc(){}function vy(e,s,a){switch(a=e[a],a===void 0?e.push(s):a!==s&&(s.then(nc,nc),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw e=s.reason,Ty(e),e;default:if(typeof s.status=="string")s.then(nc,nc);else{if(e=ee,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=s,e.status="pending",e.then(function(l){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=l}},function(l){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=l}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw e=s.reason,Ty(e),e}throw tl=s,Jo}}var tl=null;function _y(){if(tl===null)throw Error(r(459));var e=tl;return tl=null,e}function Ty(e){if(e===Jo||e===ec)throw Error(r(483))}var As=!1;function Nf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Of(e,s){e=e.updateQueue,s.updateQueue===e&&(s.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ss(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function bs(e,s,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Yt&2)!==0){var f=l.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),l.pending=s,s=Qu(e),ay(e,null,a),s}return Yu(e,l,s,a),Qu(e)}function el(e,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var l=s.lanes;l&=e.pendingLanes,a|=l,s.lanes=a,Do(e,a)}}function Pf(e,s){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var T={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?f=m=T:m=m.next=T,a=a.next}while(a!==null);m===null?f=m=s:m=m.next=s}else f=m=s;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=s:e.next=s,a.lastBaseUpdate=s}var Lf=!1;function nl(){if(Lf){var e=Da;if(e!==null)throw e}}function il(e,s,a,l){Lf=!1;var f=e.updateQueue;As=!1;var m=f.firstBaseUpdate,T=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var x=S,z=x.next;x.next=null,T===null?m=z:T.next=z,T=x;var Y=e.alternate;Y!==null&&(Y=Y.updateQueue,S=Y.lastBaseUpdate,S!==T&&(S===null?Y.firstBaseUpdate=z:S.next=z,Y.lastBaseUpdate=x))}if(m!==null){var W=f.baseState;T=0,Y=z=x=null,S=m;do{var q=S.lane&-536870913,H=q!==S.lane;if(H?(Bt&q)===q:(l&q)===q){q!==0&&q===xa&&(Lf=!0),Y!==null&&(Y=Y.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});t:{var bt=e,_t=S;q=s;var Jt=a;switch(_t.tag){case 1:if(bt=_t.payload,typeof bt=="function"){W=bt.call(Jt,W,q);break t}W=bt;break t;case 3:bt.flags=bt.flags&-65537|128;case 0:if(bt=_t.payload,q=typeof bt=="function"?bt.call(Jt,W,q):bt,q==null)break t;W=v({},W,q);break t;case 2:As=!0}}q=S.callback,q!==null&&(e.flags|=64,H&&(e.flags|=8192),H=f.callbacks,H===null?f.callbacks=[q]:H.push(q))}else H={lane:q,tag:S.tag,payload:S.payload,callback:S.callback,next:null},Y===null?(z=Y=H,x=W):Y=Y.next=H,T|=q;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;H=S,S=H.next,H.next=null,f.lastBaseUpdate=H,f.shared.pending=null}}while(!0);Y===null&&(x=W),f.baseState=x,f.firstBaseUpdate=z,f.lastBaseUpdate=Y,m===null&&(f.shared.lanes=0),Ms|=T,e.lanes=T,e.memoizedState=W}}function Ey(e,s){if(typeof e!="function")throw Error(r(191,e));e.call(s)}function Ay(e,s){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Ey(a[e],s)}var Va=tt(null),ic=tt(0);function Sy(e,s){e=rs,rt(ic,e),rt(Va,s),rs=e|s.baseLanes}function Uf(){rt(ic,rs),rt(Va,Va.current)}function kf(){rs=ic.current,lt(Va),lt(ic)}var ws=0,Vt=null,Zt=null,Re=null,sc=!1,Ia=!1,Ur=!1,rc=0,sl=0,Ma=null,Gb=0;function _e(){throw Error(r(321))}function Bf(e,s){if(s===null)return!1;for(var a=0;a<s.length&&a<e.length;a++)if(!bn(e[a],s[a]))return!1;return!0}function zf(e,s,a,l,f,m){return ws=m,Vt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,K.H=e===null||e.memoizedState===null?av:ov,Ur=!1,m=a(l,f),Ur=!1,Ia&&(m=wy(s,a,l,f)),by(e),m}function by(e){K.H=hc;var s=Zt!==null&&Zt.next!==null;if(ws=0,Re=Zt=Vt=null,sc=!1,sl=0,Ma=null,s)throw Error(r(300));e===null||ze||(e=e.dependencies,e!==null&&Wu(e)&&(ze=!0))}function wy(e,s,a,l){Vt=e;var f=0;do{if(Ia&&(Ma=null),sl=0,Ia=!1,25<=f)throw Error(r(301));if(f+=1,Re=Zt=null,e.updateQueue!=null){var m=e.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}K.H=Wb,m=s(a,l)}while(Ia);return m}function Kb(){var e=K.H,s=e.useState()[0];return s=typeof s.then=="function"?rl(s):s,e=e.useState()[0],(Zt!==null?Zt.memoizedState:null)!==e&&(Vt.flags|=1024),s}function jf(){var e=rc!==0;return rc=0,e}function qf(e,s,a){s.updateQueue=e.updateQueue,s.flags&=-2053,e.lanes&=~a}function Ff(e){if(sc){for(e=e.memoizedState;e!==null;){var s=e.queue;s!==null&&(s.pending=null),e=e.next}sc=!1}ws=0,Re=Zt=Vt=null,Ia=!1,sl=rc=0,Ma=null}function pn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Re===null?Vt.memoizedState=Re=e:Re=Re.next=e,Re}function Ce(){if(Zt===null){var e=Vt.alternate;e=e!==null?e.memoizedState:null}else e=Zt.next;var s=Re===null?Vt.memoizedState:Re.next;if(s!==null)Re=s,Zt=e;else{if(e===null)throw Vt.alternate===null?Error(r(467)):Error(r(310));Zt=e,e={memoizedState:Zt.memoizedState,baseState:Zt.baseState,baseQueue:Zt.baseQueue,queue:Zt.queue,next:null},Re===null?Vt.memoizedState=Re=e:Re=Re.next=e}return Re}function Hf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function rl(e){var s=sl;return sl+=1,Ma===null&&(Ma=[]),e=vy(Ma,e,s),s=Vt,(Re===null?s.memoizedState:Re.next)===null&&(s=s.alternate,K.H=s===null||s.memoizedState===null?av:ov),e}function ac(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return rl(e);if(e.$$typeof===Q)return sn(e)}throw Error(r(438,String(e)))}function Gf(e){var s=null,a=Vt.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var l=Vt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(s={data:l.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=Hf(),Vt.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(e),l=0;l<e;l++)a[l]=M;return s.index++,a}function Ji(e,s){return typeof s=="function"?s(e):s}function oc(e){var s=Ce();return Kf(s,Zt,e)}function Kf(e,s,a){var l=e.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var f=e.baseQueue,m=l.pending;if(m!==null){if(f!==null){var T=f.next;f.next=m.next,m.next=T}s.baseQueue=f=m,l.pending=null}if(m=e.baseState,f===null)e.memoizedState=m;else{s=f.next;var S=T=null,x=null,z=s,Y=!1;do{var W=z.lane&-536870913;if(W!==z.lane?(Bt&W)===W:(ws&W)===W){var q=z.revertLane;if(q===0)x!==null&&(x=x.next={lane:0,revertLane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),W===xa&&(Y=!0);else if((ws&q)===q){z=z.next,q===xa&&(Y=!0);continue}else W={lane:0,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},x===null?(S=x=W,T=m):x=x.next=W,Vt.lanes|=q,Ms|=q;W=z.action,Ur&&a(m,W),m=z.hasEagerState?z.eagerState:a(m,W)}else q={lane:W,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},x===null?(S=x=q,T=m):x=x.next=q,Vt.lanes|=W,Ms|=W;z=z.next}while(z!==null&&z!==s);if(x===null?T=m:x.next=S,!bn(m,e.memoizedState)&&(ze=!0,Y&&(a=Da,a!==null)))throw a;e.memoizedState=m,e.baseState=T,e.baseQueue=x,l.lastRenderedState=m}return f===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Yf(e){var s=Ce(),a=s.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var l=a.dispatch,f=a.pending,m=s.memoizedState;if(f!==null){a.pending=null;var T=f=f.next;do m=e(m,T.action),T=T.next;while(T!==f);bn(m,s.memoizedState)||(ze=!0),s.memoizedState=m,s.baseQueue===null&&(s.baseState=m),a.lastRenderedState=m}return[m,l]}function Ry(e,s,a){var l=Vt,f=Ce(),m=Ft;if(m){if(a===void 0)throw Error(r(407));a=a()}else a=s();var T=!bn((Zt||f).memoizedState,a);T&&(f.memoizedState=a,ze=!0),f=f.queue;var S=Dy.bind(null,l,f,e);if(al(2048,8,S,[e]),f.getSnapshot!==s||T||Re!==null&&Re.memoizedState.tag&1){if(l.flags|=2048,Na(9,lc(),xy.bind(null,l,f,a,s),null),ee===null)throw Error(r(349));m||(ws&124)!==0||Cy(l,s,a)}return a}function Cy(e,s,a){e.flags|=16384,e={getSnapshot:s,value:a},s=Vt.updateQueue,s===null?(s=Hf(),Vt.updateQueue=s,s.stores=[e]):(a=s.stores,a===null?s.stores=[e]:a.push(e))}function xy(e,s,a,l){s.value=a,s.getSnapshot=l,Vy(s)&&Iy(e)}function Dy(e,s,a){return a(function(){Vy(s)&&Iy(e)})}function Vy(e){var s=e.getSnapshot;e=e.value;try{var a=s();return!bn(e,a)}catch{return!0}}function Iy(e){var s=ba(e,2);s!==null&&Vn(s,e,2)}function Qf(e){var s=pn();if(typeof e=="function"){var a=e;if(e=a(),Ur){An(!0);try{a()}finally{An(!1)}}}return s.memoizedState=s.baseState=e,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:e},s}function My(e,s,a,l){return e.baseState=a,Kf(e,Zt,typeof l=="function"?l:Ji)}function Yb(e,s,a,l,f){if(cc(e))throw Error(r(485));if(e=s.action,e!==null){var m={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){m.listeners.push(T)}};K.T!==null?a(!0):m.isTransition=!1,l(m),a=s.pending,a===null?(m.next=s.pending=m,Ny(s,m)):(m.next=a.next,s.pending=a.next=m)}}function Ny(e,s){var a=s.action,l=s.payload,f=e.state;if(s.isTransition){var m=K.T,T={};K.T=T;try{var S=a(f,l),x=K.S;x!==null&&x(T,S),Oy(e,s,S)}catch(z){Xf(e,s,z)}finally{K.T=m}}else try{m=a(f,l),Oy(e,s,m)}catch(z){Xf(e,s,z)}}function Oy(e,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Py(e,s,l)},function(l){return Xf(e,s,l)}):Py(e,s,a)}function Py(e,s,a){s.status="fulfilled",s.value=a,Ly(s),e.state=a,s=e.pending,s!==null&&(a=s.next,a===s?e.pending=null:(a=a.next,s.next=a,Ny(e,a)))}function Xf(e,s,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do s.status="rejected",s.reason=a,Ly(s),s=s.next;while(s!==l)}e.action=null}function Ly(e){e=e.listeners;for(var s=0;s<e.length;s++)(0,e[s])()}function Uy(e,s){return s}function ky(e,s){if(Ft){var a=ee.formState;if(a!==null){t:{var l=Vt;if(Ft){if(me){e:{for(var f=me,m=gi;f.nodeType!==8;){if(!m){f=null;break e}if(f=ni(f.nextSibling),f===null){f=null;break e}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){me=ni(f.nextSibling),l=f.data==="F!";break t}}Nr(l)}l=!1}l&&(s=a[0])}}return a=pn(),a.memoizedState=a.baseState=s,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Uy,lastRenderedState:s},a.queue=l,a=iv.bind(null,Vt,l),l.dispatch=a,l=Qf(!1),m=td.bind(null,Vt,!1,l.queue),l=pn(),f={state:s,dispatch:null,action:e,pending:null},l.queue=f,a=Yb.bind(null,Vt,f,m,a),f.dispatch=a,l.memoizedState=e,[s,a,!1]}function By(e){var s=Ce();return zy(s,Zt,e)}function zy(e,s,a){if(s=Kf(e,s,Uy)[0],e=oc(Ji)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var l=rl(s)}catch(T){throw T===Jo?ec:T}else l=s;s=Ce();var f=s.queue,m=f.dispatch;return a!==s.memoizedState&&(Vt.flags|=2048,Na(9,lc(),Qb.bind(null,f,a),null)),[l,m,e]}function Qb(e,s){e.action=s}function jy(e){var s=Ce(),a=Zt;if(a!==null)return zy(s,a,e);Ce(),s=s.memoizedState,a=Ce();var l=a.queue.dispatch;return a.memoizedState=e,[s,l,!1]}function Na(e,s,a,l){return e={tag:e,create:a,deps:l,inst:s,next:null},s=Vt.updateQueue,s===null&&(s=Hf(),Vt.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,s.lastEffect=e),e}function lc(){return{destroy:void 0,resource:void 0}}function qy(){return Ce().memoizedState}function uc(e,s,a,l){var f=pn();l=l===void 0?null:l,Vt.flags|=e,f.memoizedState=Na(1|s,lc(),a,l)}function al(e,s,a,l){var f=Ce();l=l===void 0?null:l;var m=f.memoizedState.inst;Zt!==null&&l!==null&&Bf(l,Zt.memoizedState.deps)?f.memoizedState=Na(s,m,a,l):(Vt.flags|=e,f.memoizedState=Na(1|s,m,a,l))}function Fy(e,s){uc(8390656,8,e,s)}function Hy(e,s){al(2048,8,e,s)}function Gy(e,s){return al(4,2,e,s)}function Ky(e,s){return al(4,4,e,s)}function Yy(e,s){if(typeof s=="function"){e=e();var a=s(e);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return e=e(),s.current=e,function(){s.current=null}}function Qy(e,s,a){a=a!=null?a.concat([e]):null,al(4,4,Yy.bind(null,s,e),a)}function $f(){}function Xy(e,s){var a=Ce();s=s===void 0?null:s;var l=a.memoizedState;return s!==null&&Bf(s,l[1])?l[0]:(a.memoizedState=[e,s],e)}function $y(e,s){var a=Ce();s=s===void 0?null:s;var l=a.memoizedState;if(s!==null&&Bf(s,l[1]))return l[0];if(l=e(),Ur){An(!0);try{e()}finally{An(!1)}}return a.memoizedState=[l,s],l}function Zf(e,s,a){return a===void 0||(ws&1073741824)!==0?e.memoizedState=s:(e.memoizedState=a,e=Jv(),Vt.lanes|=e,Ms|=e,a)}function Zy(e,s,a,l){return bn(a,s)?a:Va.current!==null?(e=Zf(e,a,l),bn(e,s)||(ze=!0),e):(ws&42)===0?(ze=!0,e.memoizedState=a):(e=Jv(),Vt.lanes|=e,Ms|=e,s)}function Wy(e,s,a,l,f){var m=st.p;st.p=m!==0&&8>m?m:8;var T=K.T,S={};K.T=S,td(e,!1,s,a);try{var x=f(),z=K.S;if(z!==null&&z(S,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var Y=Hb(x,l);ol(e,s,Y,Dn(e))}else ol(e,s,l,Dn(e))}catch(W){ol(e,s,{then:function(){},status:"rejected",reason:W},Dn())}finally{st.p=m,K.T=T}}function Xb(){}function Wf(e,s,a,l){if(e.tag!==5)throw Error(r(476));var f=Jy(e).queue;Wy(e,f,s,ft,a===null?Xb:function(){return tv(e),a(l)})}function Jy(e){var s=e.memoizedState;if(s!==null)return s;s={memoizedState:ft,baseState:ft,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:ft},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:a},next:null},e.memoizedState=s,e=e.alternate,e!==null&&(e.memoizedState=s),s}function tv(e){var s=Jy(e).next.queue;ol(e,s,{},Dn())}function Jf(){return sn(wl)}function ev(){return Ce().memoizedState}function nv(){return Ce().memoizedState}function $b(e){for(var s=e.return;s!==null;){switch(s.tag){case 24:case 3:var a=Dn();e=Ss(a);var l=bs(s,e,a);l!==null&&(Vn(l,s,a),el(l,s,a)),s={cache:Df()},e.payload=s;return}s=s.return}}function Zb(e,s,a){var l=Dn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},cc(e)?sv(s,a):(a=_f(e,s,a,l),a!==null&&(Vn(a,e,l),rv(a,s,l)))}function iv(e,s,a){var l=Dn();ol(e,s,a,l)}function ol(e,s,a,l){var f={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(cc(e))sv(s,f);else{var m=e.alternate;if(e.lanes===0&&(m===null||m.lanes===0)&&(m=s.lastRenderedReducer,m!==null))try{var T=s.lastRenderedState,S=m(T,a);if(f.hasEagerState=!0,f.eagerState=S,bn(S,T))return Yu(e,s,f,0),ee===null&&Ku(),!1}catch{}finally{}if(a=_f(e,s,f,l),a!==null)return Vn(a,e,l),rv(a,s,l),!0}return!1}function td(e,s,a,l){if(l={lane:2,revertLane:Md(),action:l,hasEagerState:!1,eagerState:null,next:null},cc(e)){if(s)throw Error(r(479))}else s=_f(e,a,l,2),s!==null&&Vn(s,e,2)}function cc(e){var s=e.alternate;return e===Vt||s!==null&&s===Vt}function sv(e,s){Ia=sc=!0;var a=e.pending;a===null?s.next=s:(s.next=a.next,a.next=s),e.pending=s}function rv(e,s,a){if((a&4194048)!==0){var l=s.lanes;l&=e.pendingLanes,a|=l,s.lanes=a,Do(e,a)}}var hc={readContext:sn,use:ac,useCallback:_e,useContext:_e,useEffect:_e,useImperativeHandle:_e,useLayoutEffect:_e,useInsertionEffect:_e,useMemo:_e,useReducer:_e,useRef:_e,useState:_e,useDebugValue:_e,useDeferredValue:_e,useTransition:_e,useSyncExternalStore:_e,useId:_e,useHostTransitionStatus:_e,useFormState:_e,useActionState:_e,useOptimistic:_e,useMemoCache:_e,useCacheRefresh:_e},av={readContext:sn,use:ac,useCallback:function(e,s){return pn().memoizedState=[e,s===void 0?null:s],e},useContext:sn,useEffect:Fy,useImperativeHandle:function(e,s,a){a=a!=null?a.concat([e]):null,uc(4194308,4,Yy.bind(null,s,e),a)},useLayoutEffect:function(e,s){return uc(4194308,4,e,s)},useInsertionEffect:function(e,s){uc(4,2,e,s)},useMemo:function(e,s){var a=pn();s=s===void 0?null:s;var l=e();if(Ur){An(!0);try{e()}finally{An(!1)}}return a.memoizedState=[l,s],l},useReducer:function(e,s,a){var l=pn();if(a!==void 0){var f=a(s);if(Ur){An(!0);try{a(s)}finally{An(!1)}}}else f=s;return l.memoizedState=l.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},l.queue=e,e=e.dispatch=Zb.bind(null,Vt,e),[l.memoizedState,e]},useRef:function(e){var s=pn();return e={current:e},s.memoizedState=e},useState:function(e){e=Qf(e);var s=e.queue,a=iv.bind(null,Vt,s);return s.dispatch=a,[e.memoizedState,a]},useDebugValue:$f,useDeferredValue:function(e,s){var a=pn();return Zf(a,e,s)},useTransition:function(){var e=Qf(!1);return e=Wy.bind(null,Vt,e.queue,!0,!1),pn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,s,a){var l=Vt,f=pn();if(Ft){if(a===void 0)throw Error(r(407));a=a()}else{if(a=s(),ee===null)throw Error(r(349));(Bt&124)!==0||Cy(l,s,a)}f.memoizedState=a;var m={value:a,getSnapshot:s};return f.queue=m,Fy(Dy.bind(null,l,m,e),[e]),l.flags|=2048,Na(9,lc(),xy.bind(null,l,m,a,s),null),a},useId:function(){var e=pn(),s=ee.identifierPrefix;if(Ft){var a=$i,l=Xi;a=(l&~(1<<32-nn(l)-1)).toString(32)+a,s=""+s+"R"+a,a=rc++,0<a&&(s+="H"+a.toString(32)),s+=""}else a=Gb++,s=""+s+"r"+a.toString(32)+"";return e.memoizedState=s},useHostTransitionStatus:Jf,useFormState:ky,useActionState:ky,useOptimistic:function(e){var s=pn();s.memoizedState=s.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=td.bind(null,Vt,!0,a),a.dispatch=s,[e,s]},useMemoCache:Gf,useCacheRefresh:function(){return pn().memoizedState=$b.bind(null,Vt)}},ov={readContext:sn,use:ac,useCallback:Xy,useContext:sn,useEffect:Hy,useImperativeHandle:Qy,useInsertionEffect:Gy,useLayoutEffect:Ky,useMemo:$y,useReducer:oc,useRef:qy,useState:function(){return oc(Ji)},useDebugValue:$f,useDeferredValue:function(e,s){var a=Ce();return Zy(a,Zt.memoizedState,e,s)},useTransition:function(){var e=oc(Ji)[0],s=Ce().memoizedState;return[typeof e=="boolean"?e:rl(e),s]},useSyncExternalStore:Ry,useId:ev,useHostTransitionStatus:Jf,useFormState:By,useActionState:By,useOptimistic:function(e,s){var a=Ce();return My(a,Zt,e,s)},useMemoCache:Gf,useCacheRefresh:nv},Wb={readContext:sn,use:ac,useCallback:Xy,useContext:sn,useEffect:Hy,useImperativeHandle:Qy,useInsertionEffect:Gy,useLayoutEffect:Ky,useMemo:$y,useReducer:Yf,useRef:qy,useState:function(){return Yf(Ji)},useDebugValue:$f,useDeferredValue:function(e,s){var a=Ce();return Zt===null?Zf(a,e,s):Zy(a,Zt.memoizedState,e,s)},useTransition:function(){var e=Yf(Ji)[0],s=Ce().memoizedState;return[typeof e=="boolean"?e:rl(e),s]},useSyncExternalStore:Ry,useId:ev,useHostTransitionStatus:Jf,useFormState:jy,useActionState:jy,useOptimistic:function(e,s){var a=Ce();return Zt!==null?My(a,Zt,e,s):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Gf,useCacheRefresh:nv},Oa=null,ll=0;function fc(e){var s=ll;return ll+=1,Oa===null&&(Oa=[]),vy(Oa,e,s)}function ul(e,s){s=s.props.ref,e.ref=s!==void 0?s:null}function dc(e,s){throw s.$$typeof===E?Error(r(525)):(e=Object.prototype.toString.call(s),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":e)))}function lv(e){var s=e._init;return s(e._payload)}function uv(e){function s(U,N){if(e){var B=U.deletions;B===null?(U.deletions=[N],U.flags|=16):B.push(N)}}function a(U,N){if(!e)return null;for(;N!==null;)s(U,N),N=N.sibling;return null}function l(U){for(var N=new Map;U!==null;)U.key!==null?N.set(U.key,U):N.set(U.index,U),U=U.sibling;return N}function f(U,N){return U=Qi(U,N),U.index=0,U.sibling=null,U}function m(U,N,B){return U.index=B,e?(B=U.alternate,B!==null?(B=B.index,B<N?(U.flags|=67108866,N):B):(U.flags|=67108866,N)):(U.flags|=1048576,N)}function T(U){return e&&U.alternate===null&&(U.flags|=67108866),U}function S(U,N,B,X){return N===null||N.tag!==6?(N=Ef(B,U.mode,X),N.return=U,N):(N=f(N,B),N.return=U,N)}function x(U,N,B,X){var dt=B.type;return dt===P?Y(U,N,B.props.children,X,B.key):N!==null&&(N.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===w&&lv(dt)===N.type)?(N=f(N,B.props),ul(N,B),N.return=U,N):(N=Xu(B.type,B.key,B.props,null,U.mode,X),ul(N,B),N.return=U,N)}function z(U,N,B,X){return N===null||N.tag!==4||N.stateNode.containerInfo!==B.containerInfo||N.stateNode.implementation!==B.implementation?(N=Af(B,U.mode,X),N.return=U,N):(N=f(N,B.children||[]),N.return=U,N)}function Y(U,N,B,X,dt){return N===null||N.tag!==7?(N=Dr(B,U.mode,X,dt),N.return=U,N):(N=f(N,B),N.return=U,N)}function W(U,N,B){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=Ef(""+N,U.mode,B),N.return=U,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case A:return B=Xu(N.type,N.key,N.props,null,U.mode,B),ul(B,N),B.return=U,B;case C:return N=Af(N,U.mode,B),N.return=U,N;case w:var X=N._init;return N=X(N._payload),W(U,N,B)}if(ne(N)||L(N))return N=Dr(N,U.mode,B,null),N.return=U,N;if(typeof N.then=="function")return W(U,fc(N),B);if(N.$$typeof===Q)return W(U,Ju(U,N),B);dc(U,N)}return null}function q(U,N,B,X){var dt=N!==null?N.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return dt!==null?null:S(U,N,""+B,X);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case A:return B.key===dt?x(U,N,B,X):null;case C:return B.key===dt?z(U,N,B,X):null;case w:return dt=B._init,B=dt(B._payload),q(U,N,B,X)}if(ne(B)||L(B))return dt!==null?null:Y(U,N,B,X,null);if(typeof B.then=="function")return q(U,N,fc(B),X);if(B.$$typeof===Q)return q(U,N,Ju(U,B),X);dc(U,B)}return null}function H(U,N,B,X,dt){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return U=U.get(B)||null,S(N,U,""+X,dt);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case A:return U=U.get(X.key===null?B:X.key)||null,x(N,U,X,dt);case C:return U=U.get(X.key===null?B:X.key)||null,z(N,U,X,dt);case w:var It=X._init;return X=It(X._payload),H(U,N,B,X,dt)}if(ne(X)||L(X))return U=U.get(B)||null,Y(N,U,X,dt,null);if(typeof X.then=="function")return H(U,N,B,fc(X),dt);if(X.$$typeof===Q)return H(U,N,B,Ju(N,X),dt);dc(N,X)}return null}function bt(U,N,B,X){for(var dt=null,It=null,pt=N,Et=N=0,qe=null;pt!==null&&Et<B.length;Et++){pt.index>Et?(qe=pt,pt=null):qe=pt.sibling;var qt=q(U,pt,B[Et],X);if(qt===null){pt===null&&(pt=qe);break}e&&pt&&qt.alternate===null&&s(U,pt),N=m(qt,N,Et),It===null?dt=qt:It.sibling=qt,It=qt,pt=qe}if(Et===B.length)return a(U,pt),Ft&&Ir(U,Et),dt;if(pt===null){for(;Et<B.length;Et++)pt=W(U,B[Et],X),pt!==null&&(N=m(pt,N,Et),It===null?dt=pt:It.sibling=pt,It=pt);return Ft&&Ir(U,Et),dt}for(pt=l(pt);Et<B.length;Et++)qe=H(pt,U,Et,B[Et],X),qe!==null&&(e&&qe.alternate!==null&&pt.delete(qe.key===null?Et:qe.key),N=m(qe,N,Et),It===null?dt=qe:It.sibling=qe,It=qe);return e&&pt.forEach(function(js){return s(U,js)}),Ft&&Ir(U,Et),dt}function _t(U,N,B,X){if(B==null)throw Error(r(151));for(var dt=null,It=null,pt=N,Et=N=0,qe=null,qt=B.next();pt!==null&&!qt.done;Et++,qt=B.next()){pt.index>Et?(qe=pt,pt=null):qe=pt.sibling;var js=q(U,pt,qt.value,X);if(js===null){pt===null&&(pt=qe);break}e&&pt&&js.alternate===null&&s(U,pt),N=m(js,N,Et),It===null?dt=js:It.sibling=js,It=js,pt=qe}if(qt.done)return a(U,pt),Ft&&Ir(U,Et),dt;if(pt===null){for(;!qt.done;Et++,qt=B.next())qt=W(U,qt.value,X),qt!==null&&(N=m(qt,N,Et),It===null?dt=qt:It.sibling=qt,It=qt);return Ft&&Ir(U,Et),dt}for(pt=l(pt);!qt.done;Et++,qt=B.next())qt=H(pt,U,Et,qt.value,X),qt!==null&&(e&&qt.alternate!==null&&pt.delete(qt.key===null?Et:qt.key),N=m(qt,N,Et),It===null?dt=qt:It.sibling=qt,It=qt);return e&&pt.forEach(function(Jw){return s(U,Jw)}),Ft&&Ir(U,Et),dt}function Jt(U,N,B,X){if(typeof B=="object"&&B!==null&&B.type===P&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case A:t:{for(var dt=B.key;N!==null;){if(N.key===dt){if(dt=B.type,dt===P){if(N.tag===7){a(U,N.sibling),X=f(N,B.props.children),X.return=U,U=X;break t}}else if(N.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===w&&lv(dt)===N.type){a(U,N.sibling),X=f(N,B.props),ul(X,B),X.return=U,U=X;break t}a(U,N);break}else s(U,N);N=N.sibling}B.type===P?(X=Dr(B.props.children,U.mode,X,B.key),X.return=U,U=X):(X=Xu(B.type,B.key,B.props,null,U.mode,X),ul(X,B),X.return=U,U=X)}return T(U);case C:t:{for(dt=B.key;N!==null;){if(N.key===dt)if(N.tag===4&&N.stateNode.containerInfo===B.containerInfo&&N.stateNode.implementation===B.implementation){a(U,N.sibling),X=f(N,B.children||[]),X.return=U,U=X;break t}else{a(U,N);break}else s(U,N);N=N.sibling}X=Af(B,U.mode,X),X.return=U,U=X}return T(U);case w:return dt=B._init,B=dt(B._payload),Jt(U,N,B,X)}if(ne(B))return bt(U,N,B,X);if(L(B)){if(dt=L(B),typeof dt!="function")throw Error(r(150));return B=dt.call(B),_t(U,N,B,X)}if(typeof B.then=="function")return Jt(U,N,fc(B),X);if(B.$$typeof===Q)return Jt(U,N,Ju(U,B),X);dc(U,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,N!==null&&N.tag===6?(a(U,N.sibling),X=f(N,B),X.return=U,U=X):(a(U,N),X=Ef(B,U.mode,X),X.return=U,U=X),T(U)):a(U,N)}return function(U,N,B,X){try{ll=0;var dt=Jt(U,N,B,X);return Oa=null,dt}catch(pt){if(pt===Jo||pt===ec)throw pt;var It=wn(29,pt,null,U.mode);return It.lanes=X,It.return=U,It}finally{}}}var Pa=uv(!0),cv=uv(!1),qn=tt(null),yi=null;function Rs(e){var s=e.alternate;rt(Pe,Pe.current&1),rt(qn,e),yi===null&&(s===null||Va.current!==null||s.memoizedState!==null)&&(yi=e)}function hv(e){if(e.tag===22){if(rt(Pe,Pe.current),rt(qn,e),yi===null){var s=e.alternate;s!==null&&s.memoizedState!==null&&(yi=e)}}else Cs()}function Cs(){rt(Pe,Pe.current),rt(qn,qn.current)}function ts(e){lt(qn),yi===e&&(yi=null),lt(Pe)}var Pe=tt(0);function mc(e){for(var s=e;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Hd(a)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function ed(e,s,a,l){s=e.memoizedState,a=a(l,s),a=a==null?s:v({},s,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var nd={enqueueSetState:function(e,s,a){e=e._reactInternals;var l=Dn(),f=Ss(l);f.payload=s,a!=null&&(f.callback=a),s=bs(e,f,l),s!==null&&(Vn(s,e,l),el(s,e,l))},enqueueReplaceState:function(e,s,a){e=e._reactInternals;var l=Dn(),f=Ss(l);f.tag=1,f.payload=s,a!=null&&(f.callback=a),s=bs(e,f,l),s!==null&&(Vn(s,e,l),el(s,e,l))},enqueueForceUpdate:function(e,s){e=e._reactInternals;var a=Dn(),l=Ss(a);l.tag=2,s!=null&&(l.callback=s),s=bs(e,l,a),s!==null&&(Vn(s,e,a),el(s,e,a))}};function fv(e,s,a,l,f,m,T){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,m,T):s.prototype&&s.prototype.isPureReactComponent?!Go(a,l)||!Go(f,m):!0}function dv(e,s,a,l){e=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,l),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,l),s.state!==e&&nd.enqueueReplaceState(s,s.state,null)}function kr(e,s){var a=s;if("ref"in s){a={};for(var l in s)l!=="ref"&&(a[l]=s[l])}if(e=e.defaultProps){a===s&&(a=v({},a));for(var f in e)a[f]===void 0&&(a[f]=e[f])}return a}var pc=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function mv(e){pc(e)}function pv(e){console.error(e)}function gv(e){pc(e)}function gc(e,s){try{var a=e.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(l){setTimeout(function(){throw l})}}function yv(e,s,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function id(e,s,a){return a=Ss(a),a.tag=3,a.payload={element:null},a.callback=function(){gc(e,s)},a}function vv(e){return e=Ss(e),e.tag=3,e}function _v(e,s,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var m=l.value;e.payload=function(){return f(m)},e.callback=function(){yv(s,a,l)}}var T=a.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(e.callback=function(){yv(s,a,l),typeof f!="function"&&(Ns===null?Ns=new Set([this]):Ns.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function Jb(e,s,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(s=a.alternate,s!==null&&$o(s,a,f,!0),a=qn.current,a!==null){switch(a.tag){case 13:return yi===null?Cd():a.alternate===null&&pe===0&&(pe=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===Mf?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([l]):s.add(l),Dd(e,l,f)),!1;case 22:return a.flags|=65536,l===Mf?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([l]):a.add(l)),Dd(e,l,f)),!1}throw Error(r(435,a.tag))}return Dd(e,l,f),Cd(),!1}if(Ft)return s=qn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,l!==wf&&(e=Error(r(422),{cause:l}),Xo(kn(e,a)))):(l!==wf&&(s=Error(r(423),{cause:l}),Xo(kn(s,a))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,l=kn(l,a),f=id(e.stateNode,l,f),Pf(e,f),pe!==4&&(pe=2)),!1;var m=Error(r(520),{cause:l});if(m=kn(m,a),gl===null?gl=[m]:gl.push(m),pe!==4&&(pe=2),s===null)return!0;l=kn(l,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,e=f&-f,a.lanes|=e,e=id(a.stateNode,l,e),Pf(a,e),!1;case 1:if(s=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Ns===null||!Ns.has(m))))return a.flags|=65536,f&=-f,a.lanes|=f,f=vv(f),_v(f,e,a,l),Pf(a,f),!1}a=a.return}while(a!==null);return!1}var Tv=Error(r(461)),ze=!1;function Ye(e,s,a,l){s.child=e===null?cv(s,null,a,l):Pa(s,e.child,a,l)}function Ev(e,s,a,l,f){a=a.render;var m=s.ref;if("ref"in l){var T={};for(var S in l)S!=="ref"&&(T[S]=l[S])}else T=l;return Pr(s),l=zf(e,s,a,T,m,f),S=jf(),e!==null&&!ze?(qf(e,s,f),es(e,s,f)):(Ft&&S&&Sf(s),s.flags|=1,Ye(e,s,l,f),s.child)}function Av(e,s,a,l,f){if(e===null){var m=a.type;return typeof m=="function"&&!Tf(m)&&m.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=m,Sv(e,s,m,l,f)):(e=Xu(a.type,null,l,s,s.mode,f),e.ref=s.ref,e.return=s,s.child=e)}if(m=e.child,!hd(e,f)){var T=m.memoizedProps;if(a=a.compare,a=a!==null?a:Go,a(T,l)&&e.ref===s.ref)return es(e,s,f)}return s.flags|=1,e=Qi(m,l),e.ref=s.ref,e.return=s,s.child=e}function Sv(e,s,a,l,f){if(e!==null){var m=e.memoizedProps;if(Go(m,l)&&e.ref===s.ref)if(ze=!1,s.pendingProps=l=m,hd(e,f))(e.flags&131072)!==0&&(ze=!0);else return s.lanes=e.lanes,es(e,s,f)}return sd(e,s,a,l,f)}function bv(e,s,a){var l=s.pendingProps,f=l.children,m=e!==null?e.memoizedState:null;if(l.mode==="hidden"){if((s.flags&128)!==0){if(l=m!==null?m.baseLanes|a:a,e!==null){for(f=s.child=e.child,m=0;f!==null;)m=m|f.lanes|f.childLanes,f=f.sibling;s.childLanes=m&~l}else s.childLanes=0,s.child=null;return wv(e,s,l,a)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},e!==null&&tc(s,m!==null?m.cachePool:null),m!==null?Sy(s,m):Uf(),hv(s);else return s.lanes=s.childLanes=536870912,wv(e,s,m!==null?m.baseLanes|a:a,a)}else m!==null?(tc(s,m.cachePool),Sy(s,m),Cs(),s.memoizedState=null):(e!==null&&tc(s,null),Uf(),Cs());return Ye(e,s,f,a),s.child}function wv(e,s,a,l){var f=If();return f=f===null?null:{parent:Oe._currentValue,pool:f},s.memoizedState={baseLanes:a,cachePool:f},e!==null&&tc(s,null),Uf(),hv(s),e!==null&&$o(e,s,l,!0),null}function yc(e,s){var a=s.ref;if(a===null)e!==null&&e.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(s.flags|=4194816)}}function sd(e,s,a,l,f){return Pr(s),a=zf(e,s,a,l,void 0,f),l=jf(),e!==null&&!ze?(qf(e,s,f),es(e,s,f)):(Ft&&l&&Sf(s),s.flags|=1,Ye(e,s,a,f),s.child)}function Rv(e,s,a,l,f,m){return Pr(s),s.updateQueue=null,a=wy(s,l,a,f),by(e),l=jf(),e!==null&&!ze?(qf(e,s,m),es(e,s,m)):(Ft&&l&&Sf(s),s.flags|=1,Ye(e,s,a,m),s.child)}function Cv(e,s,a,l,f){if(Pr(s),s.stateNode===null){var m=wa,T=a.contextType;typeof T=="object"&&T!==null&&(m=sn(T)),m=new a(l,m),s.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=nd,s.stateNode=m,m._reactInternals=s,m=s.stateNode,m.props=l,m.state=s.memoizedState,m.refs={},Nf(s),T=a.contextType,m.context=typeof T=="object"&&T!==null?sn(T):wa,m.state=s.memoizedState,T=a.getDerivedStateFromProps,typeof T=="function"&&(ed(s,a,T,l),m.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(T=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),T!==m.state&&nd.enqueueReplaceState(m,m.state,null),il(s,l,m,f),nl(),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308),l=!0}else if(e===null){m=s.stateNode;var S=s.memoizedProps,x=kr(a,S);m.props=x;var z=m.context,Y=a.contextType;T=wa,typeof Y=="object"&&Y!==null&&(T=sn(Y));var W=a.getDerivedStateFromProps;Y=typeof W=="function"||typeof m.getSnapshotBeforeUpdate=="function",S=s.pendingProps!==S,Y||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(S||z!==T)&&dv(s,m,l,T),As=!1;var q=s.memoizedState;m.state=q,il(s,l,m,f),nl(),z=s.memoizedState,S||q!==z||As?(typeof W=="function"&&(ed(s,a,W,l),z=s.memoizedState),(x=As||fv(s,a,x,l,q,z,T))?(Y||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(s.flags|=4194308)):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=l,s.memoizedState=z),m.props=l,m.state=z,m.context=T,l=x):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),l=!1)}else{m=s.stateNode,Of(e,s),T=s.memoizedProps,Y=kr(a,T),m.props=Y,W=s.pendingProps,q=m.context,z=a.contextType,x=wa,typeof z=="object"&&z!==null&&(x=sn(z)),S=a.getDerivedStateFromProps,(z=typeof S=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(T!==W||q!==x)&&dv(s,m,l,x),As=!1,q=s.memoizedState,m.state=q,il(s,l,m,f),nl();var H=s.memoizedState;T!==W||q!==H||As||e!==null&&e.dependencies!==null&&Wu(e.dependencies)?(typeof S=="function"&&(ed(s,a,S,l),H=s.memoizedState),(Y=As||fv(s,a,Y,l,q,H,x)||e!==null&&e.dependencies!==null&&Wu(e.dependencies))?(z||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(l,H,x),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(l,H,x)),typeof m.componentDidUpdate=="function"&&(s.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof m.componentDidUpdate!="function"||T===e.memoizedProps&&q===e.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===e.memoizedProps&&q===e.memoizedState||(s.flags|=1024),s.memoizedProps=l,s.memoizedState=H),m.props=l,m.state=H,m.context=x,l=Y):(typeof m.componentDidUpdate!="function"||T===e.memoizedProps&&q===e.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===e.memoizedProps&&q===e.memoizedState||(s.flags|=1024),l=!1)}return m=l,yc(e,s),l=(s.flags&128)!==0,m||l?(m=s.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:m.render(),s.flags|=1,e!==null&&l?(s.child=Pa(s,e.child,null,f),s.child=Pa(s,null,a,f)):Ye(e,s,a,f),s.memoizedState=m.state,e=s.child):e=es(e,s,f),e}function xv(e,s,a,l){return Qo(),s.flags|=256,Ye(e,s,a,l),s.child}var rd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ad(e){return{baseLanes:e,cachePool:py()}}function od(e,s,a){return e=e!==null?e.childLanes&~a:0,s&&(e|=Fn),e}function Dv(e,s,a){var l=s.pendingProps,f=!1,m=(s.flags&128)!==0,T;if((T=m)||(T=e!==null&&e.memoizedState===null?!1:(Pe.current&2)!==0),T&&(f=!0,s.flags&=-129),T=(s.flags&32)!==0,s.flags&=-33,e===null){if(Ft){if(f?Rs(s):Cs(),Ft){var S=me,x;if(x=S){t:{for(x=S,S=gi;x.nodeType!==8;){if(!S){S=null;break t}if(x=ni(x.nextSibling),x===null){S=null;break t}}S=x}S!==null?(s.memoizedState={dehydrated:S,treeContext:Vr!==null?{id:Xi,overflow:$i}:null,retryLane:536870912,hydrationErrors:null},x=wn(18,null,null,0),x.stateNode=S,x.return=s,s.child=x,dn=s,me=null,x=!0):x=!1}x||Nr(s)}if(S=s.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return Hd(S)?s.lanes=32:s.lanes=536870912,null;ts(s)}return S=l.children,l=l.fallback,f?(Cs(),f=s.mode,S=vc({mode:"hidden",children:S},f),l=Dr(l,f,a,null),S.return=s,l.return=s,S.sibling=l,s.child=S,f=s.child,f.memoizedState=ad(a),f.childLanes=od(e,T,a),s.memoizedState=rd,l):(Rs(s),ld(s,S))}if(x=e.memoizedState,x!==null&&(S=x.dehydrated,S!==null)){if(m)s.flags&256?(Rs(s),s.flags&=-257,s=ud(e,s,a)):s.memoizedState!==null?(Cs(),s.child=e.child,s.flags|=128,s=null):(Cs(),f=l.fallback,S=s.mode,l=vc({mode:"visible",children:l.children},S),f=Dr(f,S,a,null),f.flags|=2,l.return=s,f.return=s,l.sibling=f,s.child=l,Pa(s,e.child,null,a),l=s.child,l.memoizedState=ad(a),l.childLanes=od(e,T,a),s.memoizedState=rd,s=f);else if(Rs(s),Hd(S)){if(T=S.nextSibling&&S.nextSibling.dataset,T)var z=T.dgst;T=z,l=Error(r(419)),l.stack="",l.digest=T,Xo({value:l,source:null,stack:null}),s=ud(e,s,a)}else if(ze||$o(e,s,a,!1),T=(a&e.childLanes)!==0,ze||T){if(T=ee,T!==null&&(l=a&-a,l=(l&42)!==0?1:ms(l),l=(l&(T.suspendedLanes|a))!==0?0:l,l!==0&&l!==x.retryLane))throw x.retryLane=l,ba(e,l),Vn(T,e,l),Tv;S.data==="$?"||Cd(),s=ud(e,s,a)}else S.data==="$?"?(s.flags|=192,s.child=e.child,s=null):(e=x.treeContext,me=ni(S.nextSibling),dn=s,Ft=!0,Mr=null,gi=!1,e!==null&&(zn[jn++]=Xi,zn[jn++]=$i,zn[jn++]=Vr,Xi=e.id,$i=e.overflow,Vr=s),s=ld(s,l.children),s.flags|=4096);return s}return f?(Cs(),f=l.fallback,S=s.mode,x=e.child,z=x.sibling,l=Qi(x,{mode:"hidden",children:l.children}),l.subtreeFlags=x.subtreeFlags&65011712,z!==null?f=Qi(z,f):(f=Dr(f,S,a,null),f.flags|=2),f.return=s,l.return=s,l.sibling=f,s.child=l,l=f,f=s.child,S=e.child.memoizedState,S===null?S=ad(a):(x=S.cachePool,x!==null?(z=Oe._currentValue,x=x.parent!==z?{parent:z,pool:z}:x):x=py(),S={baseLanes:S.baseLanes|a,cachePool:x}),f.memoizedState=S,f.childLanes=od(e,T,a),s.memoizedState=rd,l):(Rs(s),a=e.child,e=a.sibling,a=Qi(a,{mode:"visible",children:l.children}),a.return=s,a.sibling=null,e!==null&&(T=s.deletions,T===null?(s.deletions=[e],s.flags|=16):T.push(e)),s.child=a,s.memoizedState=null,a)}function ld(e,s){return s=vc({mode:"visible",children:s},e.mode),s.return=e,e.child=s}function vc(e,s){return e=wn(22,e,null,s),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function ud(e,s,a){return Pa(s,e.child,null,a),e=ld(s,s.pendingProps.children),e.flags|=2,s.memoizedState=null,e}function Vv(e,s,a){e.lanes|=s;var l=e.alternate;l!==null&&(l.lanes|=s),Cf(e.return,s,a)}function cd(e,s,a,l,f){var m=e.memoizedState;m===null?e.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f}:(m.isBackwards=s,m.rendering=null,m.renderingStartTime=0,m.last=l,m.tail=a,m.tailMode=f)}function Iv(e,s,a){var l=s.pendingProps,f=l.revealOrder,m=l.tail;if(Ye(e,s,l.children,a),l=Pe.current,(l&2)!==0)l=l&1|2,s.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=s.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Vv(e,a,s);else if(e.tag===19)Vv(e,a,s);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===s)break t;for(;e.sibling===null;){if(e.return===null||e.return===s)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch(rt(Pe,l),f){case"forwards":for(a=s.child,f=null;a!==null;)e=a.alternate,e!==null&&mc(e)===null&&(f=a),a=a.sibling;a=f,a===null?(f=s.child,s.child=null):(f=a.sibling,a.sibling=null),cd(s,!1,f,a,m);break;case"backwards":for(a=null,f=s.child,s.child=null;f!==null;){if(e=f.alternate,e!==null&&mc(e)===null){s.child=f;break}e=f.sibling,f.sibling=a,a=f,f=e}cd(s,!0,a,null,m);break;case"together":cd(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function es(e,s,a){if(e!==null&&(s.dependencies=e.dependencies),Ms|=s.lanes,(a&s.childLanes)===0)if(e!==null){if($o(e,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(e!==null&&s.child!==e.child)throw Error(r(153));if(s.child!==null){for(e=s.child,a=Qi(e,e.pendingProps),s.child=a,a.return=s;e.sibling!==null;)e=e.sibling,a=a.sibling=Qi(e,e.pendingProps),a.return=s;a.sibling=null}return s.child}function hd(e,s){return(e.lanes&s)!==0?!0:(e=e.dependencies,!!(e!==null&&Wu(e)))}function tw(e,s,a){switch(s.tag){case 3:Xt(s,s.stateNode.containerInfo),Es(s,Oe,e.memoizedState.cache),Qo();break;case 27:case 5:si(s);break;case 4:Xt(s,s.stateNode.containerInfo);break;case 10:Es(s,s.type,s.memoizedProps.value);break;case 13:var l=s.memoizedState;if(l!==null)return l.dehydrated!==null?(Rs(s),s.flags|=128,null):(a&s.child.childLanes)!==0?Dv(e,s,a):(Rs(s),e=es(e,s,a),e!==null?e.sibling:null);Rs(s);break;case 19:var f=(e.flags&128)!==0;if(l=(a&s.childLanes)!==0,l||($o(e,s,a,!1),l=(a&s.childLanes)!==0),f){if(l)return Iv(e,s,a);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),rt(Pe,Pe.current),l)break;return null;case 22:case 23:return s.lanes=0,bv(e,s,a);case 24:Es(s,Oe,e.memoizedState.cache)}return es(e,s,a)}function Mv(e,s,a){if(e!==null)if(e.memoizedProps!==s.pendingProps)ze=!0;else{if(!hd(e,a)&&(s.flags&128)===0)return ze=!1,tw(e,s,a);ze=(e.flags&131072)!==0}else ze=!1,Ft&&(s.flags&1048576)!==0&&ly(s,Zu,s.index);switch(s.lanes=0,s.tag){case 16:t:{e=s.pendingProps;var l=s.elementType,f=l._init;if(l=f(l._payload),s.type=l,typeof l=="function")Tf(l)?(e=kr(l,e),s.tag=1,s=Cv(null,s,l,e,a)):(s.tag=0,s=sd(null,s,l,e,a));else{if(l!=null){if(f=l.$$typeof,f===ut){s.tag=11,s=Ev(null,s,l,e,a);break t}else if(f===V){s.tag=14,s=Av(null,s,l,e,a);break t}}throw s=fe(l)||l,Error(r(306,s,""))}}return s;case 0:return sd(e,s,s.type,s.pendingProps,a);case 1:return l=s.type,f=kr(l,s.pendingProps),Cv(e,s,l,f,a);case 3:t:{if(Xt(s,s.stateNode.containerInfo),e===null)throw Error(r(387));l=s.pendingProps;var m=s.memoizedState;f=m.element,Of(e,s),il(s,l,null,a);var T=s.memoizedState;if(l=T.cache,Es(s,Oe,l),l!==m.cache&&xf(s,[Oe],a,!0),nl(),l=T.element,m.isDehydrated)if(m={element:l,isDehydrated:!1,cache:T.cache},s.updateQueue.baseState=m,s.memoizedState=m,s.flags&256){s=xv(e,s,l,a);break t}else if(l!==f){f=kn(Error(r(424)),s),Xo(f),s=xv(e,s,l,a);break t}else{switch(e=s.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(me=ni(e.firstChild),dn=s,Ft=!0,Mr=null,gi=!0,a=cv(s,null,l,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Qo(),l===f){s=es(e,s,a);break t}Ye(e,s,l,a)}s=s.child}return s;case 26:return yc(e,s),e===null?(a=L0(s.type,null,s.pendingProps,null))?s.memoizedState=a:Ft||(a=s.type,e=s.pendingProps,l=Mc(Tt.current).createElement(a),l[Ie]=s,l[be]=e,Xe(l,a,e),ve(l),s.stateNode=l):s.memoizedState=L0(s.type,e.memoizedProps,s.pendingProps,e.memoizedState),null;case 27:return si(s),e===null&&Ft&&(l=s.stateNode=N0(s.type,s.pendingProps,Tt.current),dn=s,gi=!0,f=me,Ls(s.type)?(Gd=f,me=ni(l.firstChild)):me=f),Ye(e,s,s.pendingProps.children,a),yc(e,s),e===null&&(s.flags|=4194304),s.child;case 5:return e===null&&Ft&&((f=l=me)&&(l=xw(l,s.type,s.pendingProps,gi),l!==null?(s.stateNode=l,dn=s,me=ni(l.firstChild),gi=!1,f=!0):f=!1),f||Nr(s)),si(s),f=s.type,m=s.pendingProps,T=e!==null?e.memoizedProps:null,l=m.children,jd(f,m)?l=null:T!==null&&jd(f,T)&&(s.flags|=32),s.memoizedState!==null&&(f=zf(e,s,Kb,null,null,a),wl._currentValue=f),yc(e,s),Ye(e,s,l,a),s.child;case 6:return e===null&&Ft&&((e=a=me)&&(a=Dw(a,s.pendingProps,gi),a!==null?(s.stateNode=a,dn=s,me=null,e=!0):e=!1),e||Nr(s)),null;case 13:return Dv(e,s,a);case 4:return Xt(s,s.stateNode.containerInfo),l=s.pendingProps,e===null?s.child=Pa(s,null,l,a):Ye(e,s,l,a),s.child;case 11:return Ev(e,s,s.type,s.pendingProps,a);case 7:return Ye(e,s,s.pendingProps,a),s.child;case 8:return Ye(e,s,s.pendingProps.children,a),s.child;case 12:return Ye(e,s,s.pendingProps.children,a),s.child;case 10:return l=s.pendingProps,Es(s,s.type,l.value),Ye(e,s,l.children,a),s.child;case 9:return f=s.type._context,l=s.pendingProps.children,Pr(s),f=sn(f),l=l(f),s.flags|=1,Ye(e,s,l,a),s.child;case 14:return Av(e,s,s.type,s.pendingProps,a);case 15:return Sv(e,s,s.type,s.pendingProps,a);case 19:return Iv(e,s,a);case 31:return l=s.pendingProps,a=s.mode,l={mode:l.mode,children:l.children},e===null?(a=vc(l,a),a.ref=s.ref,s.child=a,a.return=s,s=a):(a=Qi(e.child,l),a.ref=s.ref,s.child=a,a.return=s,s=a),s;case 22:return bv(e,s,a);case 24:return Pr(s),l=sn(Oe),e===null?(f=If(),f===null&&(f=ee,m=Df(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=a),f=m),s.memoizedState={parent:l,cache:f},Nf(s),Es(s,Oe,f)):((e.lanes&a)!==0&&(Of(e,s),il(s,null,null,a),nl()),f=e.memoizedState,m=s.memoizedState,f.parent!==l?(f={parent:l,cache:l},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),Es(s,Oe,l)):(l=m.cache,Es(s,Oe,l),l!==f.cache&&xf(s,[Oe],a,!0))),Ye(e,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function ns(e){e.flags|=4}function Nv(e,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!j0(s)){if(s=qn.current,s!==null&&((Bt&4194048)===Bt?yi!==null:(Bt&62914560)!==Bt&&(Bt&536870912)===0||s!==yi))throw tl=Mf,gy;e.flags|=8192}}function _c(e,s){s!==null&&(e.flags|=4),e.flags&16384&&(s=e.tag!==22?Co():536870912,e.lanes|=s,Ba|=s)}function cl(e,s){if(!Ft)switch(e.tailMode){case"hidden":s=e.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function ue(e){var s=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(s)for(var f=e.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=l,e.childLanes=a,s}function ew(e,s,a){var l=s.pendingProps;switch(bf(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ue(s),null;case 1:return ue(s),null;case 3:return a=s.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),Wi(Oe),tn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Yo(s)?ns(s):e===null||e.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,hy())),ue(s),null;case 26:return a=s.memoizedState,e===null?(ns(s),a!==null?(ue(s),Nv(s,a)):(ue(s),s.flags&=-16777217)):a?a!==e.memoizedState?(ns(s),ue(s),Nv(s,a)):(ue(s),s.flags&=-16777217):(e.memoizedProps!==l&&ns(s),ue(s),s.flags&=-16777217),null;case 27:Xn(s),a=Tt.current;var f=s.type;if(e!==null&&s.stateNode!=null)e.memoizedProps!==l&&ns(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return ue(s),null}e=gt.current,Yo(s)?uy(s):(e=N0(f,l,a),s.stateNode=e,ns(s))}return ue(s),null;case 5:if(Xn(s),a=s.type,e!==null&&s.stateNode!=null)e.memoizedProps!==l&&ns(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return ue(s),null}if(e=gt.current,Yo(s))uy(s);else{switch(f=Mc(Tt.current),e){case 1:e=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=f.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?f.createElement(a,{is:l.is}):f.createElement(a)}}e[Ie]=s,e[be]=l;t:for(f=s.child;f!==null;){if(f.tag===5||f.tag===6)e.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===s)break t;for(;f.sibling===null;){if(f.return===null||f.return===s)break t;f=f.return}f.sibling.return=f.return,f=f.sibling}s.stateNode=e;t:switch(Xe(e,a,l),a){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&ns(s)}}return ue(s),s.flags&=-16777217,null;case 6:if(e&&s.stateNode!=null)e.memoizedProps!==l&&ns(s);else{if(typeof l!="string"&&s.stateNode===null)throw Error(r(166));if(e=Tt.current,Yo(s)){if(e=s.stateNode,a=s.memoizedProps,l=null,f=dn,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}e[Ie]=s,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||R0(e.nodeValue,a)),e||Nr(s)}else e=Mc(e).createTextNode(l),e[Ie]=s,s.stateNode=e}return ue(s),null;case 13:if(l=s.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=Yo(s),l!==null&&l.dehydrated!==null){if(e===null){if(!f)throw Error(r(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[Ie]=s}else Qo(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ue(s),f=!1}else f=hy(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=f),f=!0;if(!f)return s.flags&256?(ts(s),s):(ts(s),null)}if(ts(s),(s.flags&128)!==0)return s.lanes=a,s;if(a=l!==null,e=e!==null&&e.memoizedState!==null,a){l=s.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var m=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==f&&(l.flags|=2048)}return a!==e&&a&&(s.child.flags|=8192),_c(s,s.updateQueue),ue(s),null;case 4:return tn(),e===null&&Ld(s.stateNode.containerInfo),ue(s),null;case 10:return Wi(s.type),ue(s),null;case 19:if(lt(Pe),f=s.memoizedState,f===null)return ue(s),null;if(l=(s.flags&128)!==0,m=f.rendering,m===null)if(l)cl(f,!1);else{if(pe!==0||e!==null&&(e.flags&128)!==0)for(e=s.child;e!==null;){if(m=mc(e),m!==null){for(s.flags|=128,cl(f,!1),e=m.updateQueue,s.updateQueue=e,_c(s,e),s.subtreeFlags=0,e=a,a=s.child;a!==null;)oy(a,e),a=a.sibling;return rt(Pe,Pe.current&1|2),s.child}e=e.sibling}f.tail!==null&&en()>Ac&&(s.flags|=128,l=!0,cl(f,!1),s.lanes=4194304)}else{if(!l)if(e=mc(m),e!==null){if(s.flags|=128,l=!0,e=e.updateQueue,s.updateQueue=e,_c(s,e),cl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!m.alternate&&!Ft)return ue(s),null}else 2*en()-f.renderingStartTime>Ac&&a!==536870912&&(s.flags|=128,l=!0,cl(f,!1),s.lanes=4194304);f.isBackwards?(m.sibling=s.child,s.child=m):(e=f.last,e!==null?e.sibling=m:s.child=m,f.last=m)}return f.tail!==null?(s=f.tail,f.rendering=s,f.tail=s.sibling,f.renderingStartTime=en(),s.sibling=null,e=Pe.current,rt(Pe,l?e&1|2:e&1),s):(ue(s),null);case 22:case 23:return ts(s),kf(),l=s.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(s.flags|=8192):l&&(s.flags|=8192),l?(a&536870912)!==0&&(s.flags&128)===0&&(ue(s),s.subtreeFlags&6&&(s.flags|=8192)):ue(s),a=s.updateQueue,a!==null&&_c(s,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),l!==a&&(s.flags|=2048),e!==null&&lt(Lr),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),Wi(Oe),ue(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function nw(e,s){switch(bf(s),s.tag){case 1:return e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 3:return Wi(Oe),tn(),e=s.flags,(e&65536)!==0&&(e&128)===0?(s.flags=e&-65537|128,s):null;case 26:case 27:case 5:return Xn(s),null;case 13:if(ts(s),e=s.memoizedState,e!==null&&e.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Qo()}return e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 19:return lt(Pe),null;case 4:return tn(),null;case 10:return Wi(s.type),null;case 22:case 23:return ts(s),kf(),e!==null&&lt(Lr),e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 24:return Wi(Oe),null;case 25:return null;default:return null}}function Ov(e,s){switch(bf(s),s.tag){case 3:Wi(Oe),tn();break;case 26:case 27:case 5:Xn(s);break;case 4:tn();break;case 13:ts(s);break;case 19:lt(Pe);break;case 10:Wi(s.type);break;case 22:case 23:ts(s),kf(),e!==null&&lt(Lr);break;case 24:Wi(Oe)}}function hl(e,s){try{var a=s.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&e)===e){l=void 0;var m=a.create,T=a.inst;l=m(),T.destroy=l}a=a.next}while(a!==f)}}catch(S){te(s,s.return,S)}}function xs(e,s,a){try{var l=s.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var m=f.next;l=m;do{if((l.tag&e)===e){var T=l.inst,S=T.destroy;if(S!==void 0){T.destroy=void 0,f=s;var x=a,z=S;try{z()}catch(Y){te(f,x,Y)}}}l=l.next}while(l!==m)}}catch(Y){te(s,s.return,Y)}}function Pv(e){var s=e.updateQueue;if(s!==null){var a=e.stateNode;try{Ay(s,a)}catch(l){te(e,e.return,l)}}}function Lv(e,s,a){a.props=kr(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){te(e,s,l)}}function fl(e,s){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(f){te(e,s,f)}}function vi(e,s){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){te(e,s,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){te(e,s,f)}else a.current=null}function Uv(e){var s=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){te(e,e.return,f)}}function fd(e,s,a){try{var l=e.stateNode;Sw(l,e.type,a,s),l[be]=s}catch(f){te(e,e.return,f)}}function kv(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ls(e.type)||e.tag===4}function dd(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||kv(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ls(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function md(e,s,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(e),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=Ic));else if(l!==4&&(l===27&&Ls(e.type)&&(a=e.stateNode,s=null),e=e.child,e!==null))for(md(e,s,a),e=e.sibling;e!==null;)md(e,s,a),e=e.sibling}function Tc(e,s,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,s?a.insertBefore(e,s):a.appendChild(e);else if(l!==4&&(l===27&&Ls(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Tc(e,s,a),e=e.sibling;e!==null;)Tc(e,s,a),e=e.sibling}function Bv(e){var s=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,f=s.attributes;f.length;)s.removeAttributeNode(f[0]);Xe(s,l,a),s[Ie]=e,s[be]=a}catch(m){te(e,e.return,m)}}var is=!1,Te=!1,pd=!1,zv=typeof WeakSet=="function"?WeakSet:Set,je=null;function iw(e,s){if(e=e.containerInfo,Bd=kc,e=Zg(e),df(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,m=l.focusNode;l=l.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break t}var T=0,S=-1,x=-1,z=0,Y=0,W=e,q=null;e:for(;;){for(var H;W!==a||f!==0&&W.nodeType!==3||(S=T+f),W!==m||l!==0&&W.nodeType!==3||(x=T+l),W.nodeType===3&&(T+=W.nodeValue.length),(H=W.firstChild)!==null;)q=W,W=H;for(;;){if(W===e)break e;if(q===a&&++z===f&&(S=T),q===m&&++Y===l&&(x=T),(H=W.nextSibling)!==null)break;W=q,q=W.parentNode}W=H}a=S===-1||x===-1?null:{start:S,end:x}}else a=null}a=a||{start:0,end:0}}else a=null;for(zd={focusedElem:e,selectionRange:a},kc=!1,je=s;je!==null;)if(s=je,e=s.child,(s.subtreeFlags&1024)!==0&&e!==null)e.return=s,je=e;else for(;je!==null;){switch(s=je,m=s.alternate,e=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&m!==null){e=void 0,a=s,f=m.memoizedProps,m=m.memoizedState,l=a.stateNode;try{var bt=kr(a.type,f,a.elementType===a.type);e=l.getSnapshotBeforeUpdate(bt,m),l.__reactInternalSnapshotBeforeUpdate=e}catch(_t){te(a,a.return,_t)}}break;case 3:if((e&1024)!==0){if(e=s.stateNode.containerInfo,a=e.nodeType,a===9)Fd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Fd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=s.sibling,e!==null){e.return=s.return,je=e;break}je=s.return}}function jv(e,s,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Ds(e,a),l&4&&hl(5,a);break;case 1:if(Ds(e,a),l&4)if(e=a.stateNode,s===null)try{e.componentDidMount()}catch(T){te(a,a.return,T)}else{var f=kr(a.type,s.memoizedProps);s=s.memoizedState;try{e.componentDidUpdate(f,s,e.__reactInternalSnapshotBeforeUpdate)}catch(T){te(a,a.return,T)}}l&64&&Pv(a),l&512&&fl(a,a.return);break;case 3:if(Ds(e,a),l&64&&(e=a.updateQueue,e!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{Ay(e,s)}catch(T){te(a,a.return,T)}}break;case 27:s===null&&l&4&&Bv(a);case 26:case 5:Ds(e,a),s===null&&l&4&&Uv(a),l&512&&fl(a,a.return);break;case 12:Ds(e,a);break;case 13:Ds(e,a),l&4&&Hv(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=fw.bind(null,a),Vw(e,a))));break;case 22:if(l=a.memoizedState!==null||is,!l){s=s!==null&&s.memoizedState!==null||Te,f=is;var m=Te;is=l,(Te=s)&&!m?Vs(e,a,(a.subtreeFlags&8772)!==0):Ds(e,a),is=f,Te=m}break;case 30:break;default:Ds(e,a)}}function qv(e){var s=e.alternate;s!==null&&(e.alternate=null,qv(s)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(s=e.stateNode,s!==null&&ys(s)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ae=null,gn=!1;function ss(e,s,a){for(a=a.child;a!==null;)Fv(e,s,a),a=a.sibling}function Fv(e,s,a){if(Kt&&typeof Kt.onCommitFiberUnmount=="function")try{Kt.onCommitFiberUnmount(de,a)}catch{}switch(a.tag){case 26:Te||vi(a,s),ss(e,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Te||vi(a,s);var l=ae,f=gn;Ls(a.type)&&(ae=a.stateNode,gn=!1),ss(e,s,a),El(a.stateNode),ae=l,gn=f;break;case 5:Te||vi(a,s);case 6:if(l=ae,f=gn,ae=null,ss(e,s,a),ae=l,gn=f,ae!==null)if(gn)try{(ae.nodeType===9?ae.body:ae.nodeName==="HTML"?ae.ownerDocument.body:ae).removeChild(a.stateNode)}catch(m){te(a,s,m)}else try{ae.removeChild(a.stateNode)}catch(m){te(a,s,m)}break;case 18:ae!==null&&(gn?(e=ae,I0(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Dl(e)):I0(ae,a.stateNode));break;case 4:l=ae,f=gn,ae=a.stateNode.containerInfo,gn=!0,ss(e,s,a),ae=l,gn=f;break;case 0:case 11:case 14:case 15:Te||xs(2,a,s),Te||xs(4,a,s),ss(e,s,a);break;case 1:Te||(vi(a,s),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Lv(a,s,l)),ss(e,s,a);break;case 21:ss(e,s,a);break;case 22:Te=(l=Te)||a.memoizedState!==null,ss(e,s,a),Te=l;break;default:ss(e,s,a)}}function Hv(e,s){if(s.memoizedState===null&&(e=s.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Dl(e)}catch(a){te(s,s.return,a)}}function sw(e){switch(e.tag){case 13:case 19:var s=e.stateNode;return s===null&&(s=e.stateNode=new zv),s;case 22:return e=e.stateNode,s=e._retryCache,s===null&&(s=e._retryCache=new zv),s;default:throw Error(r(435,e.tag))}}function gd(e,s){var a=sw(e);s.forEach(function(l){var f=dw.bind(null,e,l);a.has(l)||(a.add(l),l.then(f,f))})}function Rn(e,s){var a=s.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],m=e,T=s,S=T;t:for(;S!==null;){switch(S.tag){case 27:if(Ls(S.type)){ae=S.stateNode,gn=!1;break t}break;case 5:ae=S.stateNode,gn=!1;break t;case 3:case 4:ae=S.stateNode.containerInfo,gn=!0;break t}S=S.return}if(ae===null)throw Error(r(160));Fv(m,T,f),ae=null,gn=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)Gv(s,e),s=s.sibling}var ei=null;function Gv(e,s){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Rn(s,e),Cn(e),l&4&&(xs(3,e,e.return),hl(3,e),xs(5,e,e.return));break;case 1:Rn(s,e),Cn(e),l&512&&(Te||a===null||vi(a,a.return)),l&64&&is&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=ei;if(Rn(s,e),Cn(e),l&512&&(Te||a===null||vi(a,a.return)),l&4){var m=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,f=f.ownerDocument||f;e:switch(l){case"title":m=f.getElementsByTagName("title")[0],(!m||m[dr]||m[Ie]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(l),f.head.insertBefore(m,f.querySelector("head > title"))),Xe(m,l,a),m[Ie]=e,ve(m),l=m;break t;case"link":var T=B0("link","href",f).get(l+(a.href||""));if(T){for(var S=0;S<T.length;S++)if(m=T[S],m.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){T.splice(S,1);break e}}m=f.createElement(l),Xe(m,l,a),f.head.appendChild(m);break;case"meta":if(T=B0("meta","content",f).get(l+(a.content||""))){for(S=0;S<T.length;S++)if(m=T[S],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){T.splice(S,1);break e}}m=f.createElement(l),Xe(m,l,a),f.head.appendChild(m);break;default:throw Error(r(468,l))}m[Ie]=e,ve(m),l=m}e.stateNode=l}else z0(f,e.type,e.stateNode);else e.stateNode=k0(f,l,e.memoizedProps);else m!==l?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,l===null?z0(f,e.type,e.stateNode):k0(f,l,e.memoizedProps)):l===null&&e.stateNode!==null&&fd(e,e.memoizedProps,a.memoizedProps)}break;case 27:Rn(s,e),Cn(e),l&512&&(Te||a===null||vi(a,a.return)),a!==null&&l&4&&fd(e,e.memoizedProps,a.memoizedProps);break;case 5:if(Rn(s,e),Cn(e),l&512&&(Te||a===null||vi(a,a.return)),e.flags&32){f=e.stateNode;try{On(f,"")}catch(H){te(e,e.return,H)}}l&4&&e.stateNode!=null&&(f=e.memoizedProps,fd(e,f,a!==null?a.memoizedProps:f)),l&1024&&(pd=!0);break;case 6:if(Rn(s,e),Cn(e),l&4){if(e.stateNode===null)throw Error(r(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(H){te(e,e.return,H)}}break;case 3:if(Pc=null,f=ei,ei=Nc(s.containerInfo),Rn(s,e),ei=f,Cn(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Dl(s.containerInfo)}catch(H){te(e,e.return,H)}pd&&(pd=!1,Kv(e));break;case 4:l=ei,ei=Nc(e.stateNode.containerInfo),Rn(s,e),Cn(e),ei=l;break;case 12:Rn(s,e),Cn(e);break;case 13:Rn(s,e),Cn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Ad=en()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,gd(e,l)));break;case 22:f=e.memoizedState!==null;var x=a!==null&&a.memoizedState!==null,z=is,Y=Te;if(is=z||f,Te=Y||x,Rn(s,e),Te=Y,is=z,Cn(e),l&8192)t:for(s=e.stateNode,s._visibility=f?s._visibility&-2:s._visibility|1,f&&(a===null||x||is||Te||Br(e)),a=null,s=e;;){if(s.tag===5||s.tag===26){if(a===null){x=a=s;try{if(m=x.stateNode,f)T=m.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{S=x.stateNode;var W=x.memoizedProps.style,q=W!=null&&W.hasOwnProperty("display")?W.display:null;S.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(H){te(x,x.return,H)}}}else if(s.tag===6){if(a===null){x=s;try{x.stateNode.nodeValue=f?"":x.memoizedProps}catch(H){te(x,x.return,H)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===e)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break t;for(;s.sibling===null;){if(s.return===null||s.return===e)break t;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,gd(e,a))));break;case 19:Rn(s,e),Cn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,gd(e,l)));break;case 30:break;case 21:break;default:Rn(s,e),Cn(e)}}function Cn(e){var s=e.flags;if(s&2){try{for(var a,l=e.return;l!==null;){if(kv(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var f=a.stateNode,m=dd(e);Tc(e,m,f);break;case 5:var T=a.stateNode;a.flags&32&&(On(T,""),a.flags&=-33);var S=dd(e);Tc(e,S,T);break;case 3:case 4:var x=a.stateNode.containerInfo,z=dd(e);md(e,z,x);break;default:throw Error(r(161))}}catch(Y){te(e,e.return,Y)}e.flags&=-3}s&4096&&(e.flags&=-4097)}function Kv(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var s=e;Kv(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),e=e.sibling}}function Ds(e,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)jv(e,s.alternate,s),s=s.sibling}function Br(e){for(e=e.child;e!==null;){var s=e;switch(s.tag){case 0:case 11:case 14:case 15:xs(4,s,s.return),Br(s);break;case 1:vi(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&Lv(s,s.return,a),Br(s);break;case 27:El(s.stateNode);case 26:case 5:vi(s,s.return),Br(s);break;case 22:s.memoizedState===null&&Br(s);break;case 30:Br(s);break;default:Br(s)}e=e.sibling}}function Vs(e,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var l=s.alternate,f=e,m=s,T=m.flags;switch(m.tag){case 0:case 11:case 15:Vs(f,m,a),hl(4,m);break;case 1:if(Vs(f,m,a),l=m,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(z){te(l,l.return,z)}if(l=m,f=l.updateQueue,f!==null){var S=l.stateNode;try{var x=f.shared.hiddenCallbacks;if(x!==null)for(f.shared.hiddenCallbacks=null,f=0;f<x.length;f++)Ey(x[f],S)}catch(z){te(l,l.return,z)}}a&&T&64&&Pv(m),fl(m,m.return);break;case 27:Bv(m);case 26:case 5:Vs(f,m,a),a&&l===null&&T&4&&Uv(m),fl(m,m.return);break;case 12:Vs(f,m,a);break;case 13:Vs(f,m,a),a&&T&4&&Hv(f,m);break;case 22:m.memoizedState===null&&Vs(f,m,a),fl(m,m.return);break;case 30:break;default:Vs(f,m,a)}s=s.sibling}}function yd(e,s){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(e=s.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Zo(a))}function vd(e,s){e=null,s.alternate!==null&&(e=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==e&&(s.refCount++,e!=null&&Zo(e))}function _i(e,s,a,l){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Yv(e,s,a,l),s=s.sibling}function Yv(e,s,a,l){var f=s.flags;switch(s.tag){case 0:case 11:case 15:_i(e,s,a,l),f&2048&&hl(9,s);break;case 1:_i(e,s,a,l);break;case 3:_i(e,s,a,l),f&2048&&(e=null,s.alternate!==null&&(e=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==e&&(s.refCount++,e!=null&&Zo(e)));break;case 12:if(f&2048){_i(e,s,a,l),e=s.stateNode;try{var m=s.memoizedProps,T=m.id,S=m.onPostCommit;typeof S=="function"&&S(T,s.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(x){te(s,s.return,x)}}else _i(e,s,a,l);break;case 13:_i(e,s,a,l);break;case 23:break;case 22:m=s.stateNode,T=s.alternate,s.memoizedState!==null?m._visibility&2?_i(e,s,a,l):dl(e,s):m._visibility&2?_i(e,s,a,l):(m._visibility|=2,La(e,s,a,l,(s.subtreeFlags&10256)!==0)),f&2048&&yd(T,s);break;case 24:_i(e,s,a,l),f&2048&&vd(s.alternate,s);break;default:_i(e,s,a,l)}}function La(e,s,a,l,f){for(f=f&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var m=e,T=s,S=a,x=l,z=T.flags;switch(T.tag){case 0:case 11:case 15:La(m,T,S,x,f),hl(8,T);break;case 23:break;case 22:var Y=T.stateNode;T.memoizedState!==null?Y._visibility&2?La(m,T,S,x,f):dl(m,T):(Y._visibility|=2,La(m,T,S,x,f)),f&&z&2048&&yd(T.alternate,T);break;case 24:La(m,T,S,x,f),f&&z&2048&&vd(T.alternate,T);break;default:La(m,T,S,x,f)}s=s.sibling}}function dl(e,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=e,l=s,f=l.flags;switch(l.tag){case 22:dl(a,l),f&2048&&yd(l.alternate,l);break;case 24:dl(a,l),f&2048&&vd(l.alternate,l);break;default:dl(a,l)}s=s.sibling}}var ml=8192;function Ua(e){if(e.subtreeFlags&ml)for(e=e.child;e!==null;)Qv(e),e=e.sibling}function Qv(e){switch(e.tag){case 26:Ua(e),e.flags&ml&&e.memoizedState!==null&&Fw(ei,e.memoizedState,e.memoizedProps);break;case 5:Ua(e);break;case 3:case 4:var s=ei;ei=Nc(e.stateNode.containerInfo),Ua(e),ei=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=ml,ml=16777216,Ua(e),ml=s):Ua(e));break;default:Ua(e)}}function Xv(e){var s=e.alternate;if(s!==null&&(e=s.child,e!==null)){s.child=null;do s=e.sibling,e.sibling=null,e=s;while(e!==null)}}function pl(e){var s=e.deletions;if((e.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];je=l,Zv(l,e)}Xv(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)$v(e),e=e.sibling}function $v(e){switch(e.tag){case 0:case 11:case 15:pl(e),e.flags&2048&&xs(9,e,e.return);break;case 3:pl(e);break;case 12:pl(e);break;case 22:var s=e.stateNode;e.memoizedState!==null&&s._visibility&2&&(e.return===null||e.return.tag!==13)?(s._visibility&=-3,Ec(e)):pl(e);break;default:pl(e)}}function Ec(e){var s=e.deletions;if((e.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];je=l,Zv(l,e)}Xv(e)}for(e=e.child;e!==null;){switch(s=e,s.tag){case 0:case 11:case 15:xs(8,s,s.return),Ec(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,Ec(s));break;default:Ec(s)}e=e.sibling}}function Zv(e,s){for(;je!==null;){var a=je;switch(a.tag){case 0:case 11:case 15:xs(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Zo(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,je=l;else t:for(a=e;je!==null;){l=je;var f=l.sibling,m=l.return;if(qv(l),l===a){je=null;break t}if(f!==null){f.return=m,je=f;break t}je=m}}}var rw={getCacheForType:function(e){var s=sn(Oe),a=s.data.get(e);return a===void 0&&(a=e(),s.data.set(e,a)),a}},aw=typeof WeakMap=="function"?WeakMap:Map,Yt=0,ee=null,Nt=null,Bt=0,Qt=0,xn=null,Is=!1,ka=!1,_d=!1,rs=0,pe=0,Ms=0,zr=0,Td=0,Fn=0,Ba=0,gl=null,yn=null,Ed=!1,Ad=0,Ac=1/0,Sc=null,Ns=null,Qe=0,Os=null,za=null,ja=0,Sd=0,bd=null,Wv=null,yl=0,wd=null;function Dn(){if((Yt&2)!==0&&Bt!==0)return Bt&-Bt;if(K.T!==null){var e=xa;return e!==0?e:Md()}return ps()}function Jv(){Fn===0&&(Fn=(Bt&536870912)===0||Ft?Ro():536870912);var e=qn.current;return e!==null&&(e.flags|=32),Fn}function Vn(e,s,a){(e===ee&&(Qt===2||Qt===9)||e.cancelPendingCommit!==null)&&(qa(e,0),Ps(e,Bt,Fn,!1)),Ui(e,a),((Yt&2)===0||e!==ee)&&(e===ee&&((Yt&2)===0&&(zr|=a),pe===4&&Ps(e,Bt,Fn,!1)),Ti(e))}function t0(e,s,a){if((Yt&6)!==0)throw Error(r(327));var l=!a&&(s&124)===0&&(s&e.expiredLanes)===0||fr(e,s),f=l?uw(e,s):xd(e,s,!0),m=l;do{if(f===0){ka&&!l&&Ps(e,s,0,!1);break}else{if(a=e.current.alternate,m&&!ow(a)){f=xd(e,s,!1),m=!1;continue}if(f===2){if(m=s,e.errorRecoveryDisabledLanes&m)var T=0;else T=e.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){s=T;t:{var S=e;f=gl;var x=S.current.memoizedState.isDehydrated;if(x&&(qa(S,T).flags|=256),T=xd(S,T,!1),T!==2){if(_d&&!x){S.errorRecoveryDisabledLanes|=m,zr|=m,f=4;break t}m=yn,yn=f,m!==null&&(yn===null?yn=m:yn.push.apply(yn,m))}f=T}if(m=!1,f!==2)continue}}if(f===1){qa(e,0),Ps(e,s,0,!0);break}t:{switch(l=e,m=f,m){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Ps(l,s,Fn,!Is);break t;case 2:yn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(f=Ad+300-en(),10<f)){if(Ps(l,s,Fn,!Is),ra(l,0,!0)!==0)break t;l.timeoutHandle=D0(e0.bind(null,l,a,yn,Sc,Ed,s,Fn,zr,Ba,Is,m,2,-0,0),f);break t}e0(l,a,yn,Sc,Ed,s,Fn,zr,Ba,Is,m,0,-0,0)}}break}while(!0);Ti(e)}function e0(e,s,a,l,f,m,T,S,x,z,Y,W,q,H){if(e.timeoutHandle=-1,W=s.subtreeFlags,(W&8192||(W&16785408)===16785408)&&(bl={stylesheets:null,count:0,unsuspend:qw},Qv(s),W=Hw(),W!==null)){e.cancelPendingCommit=W(l0.bind(null,e,s,m,a,l,f,T,S,x,Y,1,q,H)),Ps(e,m,T,!z);return}l0(e,s,m,a,l,f,T,S,x)}function ow(e){for(var s=e;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],m=f.getSnapshot;f=f.value;try{if(!bn(m(),f))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ps(e,s,a,l){s&=~Td,s&=~zr,e.suspendedLanes|=s,e.pingedLanes&=~s,l&&(e.warmLanes|=s),l=e.expirationTimes;for(var f=s;0<f;){var m=31-nn(f),T=1<<m;l[m]=-1,f&=~T}a!==0&&ri(e,a,s)}function bc(){return(Yt&6)===0?(vl(0),!1):!0}function Rd(){if(Nt!==null){if(Qt===0)var e=Nt.return;else e=Nt,Zi=Or=null,Ff(e),Oa=null,ll=0,e=Nt;for(;e!==null;)Ov(e.alternate,e),e=e.return;Nt=null}}function qa(e,s){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,ww(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Rd(),ee=e,Nt=a=Qi(e.current,null),Bt=s,Qt=0,xn=null,Is=!1,ka=fr(e,s),_d=!1,Ba=Fn=Td=zr=Ms=pe=0,yn=gl=null,Ed=!1,(s&8)!==0&&(s|=s&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=s;0<l;){var f=31-nn(l),m=1<<f;s|=e[f],l&=~m}return rs=s,Ku(),a}function n0(e,s){Vt=null,K.H=hc,s===Jo||s===ec?(s=_y(),Qt=3):s===gy?(s=_y(),Qt=4):Qt=s===Tv?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,xn=s,Nt===null&&(pe=1,gc(e,kn(s,e.current)))}function i0(){var e=K.H;return K.H=hc,e===null?hc:e}function s0(){var e=K.A;return K.A=rw,e}function Cd(){pe=4,Is||(Bt&4194048)!==Bt&&qn.current!==null||(ka=!0),(Ms&134217727)===0&&(zr&134217727)===0||ee===null||Ps(ee,Bt,Fn,!1)}function xd(e,s,a){var l=Yt;Yt|=2;var f=i0(),m=s0();(ee!==e||Bt!==s)&&(Sc=null,qa(e,s)),s=!1;var T=pe;t:do try{if(Qt!==0&&Nt!==null){var S=Nt,x=xn;switch(Qt){case 8:Rd(),T=6;break t;case 3:case 2:case 9:case 6:qn.current===null&&(s=!0);var z=Qt;if(Qt=0,xn=null,Fa(e,S,x,z),a&&ka){T=0;break t}break;default:z=Qt,Qt=0,xn=null,Fa(e,S,x,z)}}lw(),T=pe;break}catch(Y){n0(e,Y)}while(!0);return s&&e.shellSuspendCounter++,Zi=Or=null,Yt=l,K.H=f,K.A=m,Nt===null&&(ee=null,Bt=0,Ku()),T}function lw(){for(;Nt!==null;)r0(Nt)}function uw(e,s){var a=Yt;Yt|=2;var l=i0(),f=s0();ee!==e||Bt!==s?(Sc=null,Ac=en()+500,qa(e,s)):ka=fr(e,s);t:do try{if(Qt!==0&&Nt!==null){s=Nt;var m=xn;e:switch(Qt){case 1:Qt=0,xn=null,Fa(e,s,m,1);break;case 2:case 9:if(yy(m)){Qt=0,xn=null,a0(s);break}s=function(){Qt!==2&&Qt!==9||ee!==e||(Qt=7),Ti(e)},m.then(s,s);break t;case 3:Qt=7;break t;case 4:Qt=5;break t;case 7:yy(m)?(Qt=0,xn=null,a0(s)):(Qt=0,xn=null,Fa(e,s,m,7));break;case 5:var T=null;switch(Nt.tag){case 26:T=Nt.memoizedState;case 5:case 27:var S=Nt;if(!T||j0(T)){Qt=0,xn=null;var x=S.sibling;if(x!==null)Nt=x;else{var z=S.return;z!==null?(Nt=z,wc(z)):Nt=null}break e}}Qt=0,xn=null,Fa(e,s,m,5);break;case 6:Qt=0,xn=null,Fa(e,s,m,6);break;case 8:Rd(),pe=6;break t;default:throw Error(r(462))}}cw();break}catch(Y){n0(e,Y)}while(!0);return Zi=Or=null,K.H=l,K.A=f,Yt=a,Nt!==null?0:(ee=null,Bt=0,Ku(),pe)}function cw(){for(;Nt!==null&&!At();)r0(Nt)}function r0(e){var s=Mv(e.alternate,e,rs);e.memoizedProps=e.pendingProps,s===null?wc(e):Nt=s}function a0(e){var s=e,a=s.alternate;switch(s.tag){case 15:case 0:s=Rv(a,s,s.pendingProps,s.type,void 0,Bt);break;case 11:s=Rv(a,s,s.pendingProps,s.type.render,s.ref,Bt);break;case 5:Ff(s);default:Ov(a,s),s=Nt=oy(s,rs),s=Mv(a,s,rs)}e.memoizedProps=e.pendingProps,s===null?wc(e):Nt=s}function Fa(e,s,a,l){Zi=Or=null,Ff(s),Oa=null,ll=0;var f=s.return;try{if(Jb(e,f,s,a,Bt)){pe=1,gc(e,kn(a,e.current)),Nt=null;return}}catch(m){if(f!==null)throw Nt=f,m;pe=1,gc(e,kn(a,e.current)),Nt=null;return}s.flags&32768?(Ft||l===1?e=!0:ka||(Bt&536870912)!==0?e=!1:(Is=e=!0,(l===2||l===9||l===3||l===6)&&(l=qn.current,l!==null&&l.tag===13&&(l.flags|=16384))),o0(s,e)):wc(s)}function wc(e){var s=e;do{if((s.flags&32768)!==0){o0(s,Is);return}e=s.return;var a=ew(s.alternate,s,rs);if(a!==null){Nt=a;return}if(s=s.sibling,s!==null){Nt=s;return}Nt=s=e}while(s!==null);pe===0&&(pe=5)}function o0(e,s){do{var a=nw(e.alternate,e);if(a!==null){a.flags&=32767,Nt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(e=e.sibling,e!==null)){Nt=e;return}Nt=e=a}while(e!==null);pe=6,Nt=null}function l0(e,s,a,l,f,m,T,S,x){e.cancelPendingCommit=null;do Rc();while(Qe!==0);if((Yt&6)!==0)throw Error(r(327));if(s!==null){if(s===e.current)throw Error(r(177));if(m=s.lanes|s.childLanes,m|=vf,xo(e,a,m,T,S,x),e===ee&&(Nt=ee=null,Bt=0),za=s,Os=e,ja=a,Sd=m,bd=f,Wv=l,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,mw(lr,function(){return d0(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||l){l=K.T,K.T=null,f=st.p,st.p=2,T=Yt,Yt|=4;try{iw(e,s,a)}finally{Yt=T,st.p=f,K.T=l}}Qe=1,u0(),c0(),h0()}}function u0(){if(Qe===1){Qe=0;var e=Os,s=za,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=K.T,K.T=null;var l=st.p;st.p=2;var f=Yt;Yt|=4;try{Gv(s,e);var m=zd,T=Zg(e.containerInfo),S=m.focusedElem,x=m.selectionRange;if(T!==S&&S&&S.ownerDocument&&$g(S.ownerDocument.documentElement,S)){if(x!==null&&df(S)){var z=x.start,Y=x.end;if(Y===void 0&&(Y=z),"selectionStart"in S)S.selectionStart=z,S.selectionEnd=Math.min(Y,S.value.length);else{var W=S.ownerDocument||document,q=W&&W.defaultView||window;if(q.getSelection){var H=q.getSelection(),bt=S.textContent.length,_t=Math.min(x.start,bt),Jt=x.end===void 0?_t:Math.min(x.end,bt);!H.extend&&_t>Jt&&(T=Jt,Jt=_t,_t=T);var U=Xg(S,_t),N=Xg(S,Jt);if(U&&N&&(H.rangeCount!==1||H.anchorNode!==U.node||H.anchorOffset!==U.offset||H.focusNode!==N.node||H.focusOffset!==N.offset)){var B=W.createRange();B.setStart(U.node,U.offset),H.removeAllRanges(),_t>Jt?(H.addRange(B),H.extend(N.node,N.offset)):(B.setEnd(N.node,N.offset),H.addRange(B))}}}}for(W=[],H=S;H=H.parentNode;)H.nodeType===1&&W.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<W.length;S++){var X=W[S];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}kc=!!Bd,zd=Bd=null}finally{Yt=f,st.p=l,K.T=a}}e.current=s,Qe=2}}function c0(){if(Qe===2){Qe=0;var e=Os,s=za,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=K.T,K.T=null;var l=st.p;st.p=2;var f=Yt;Yt|=4;try{jv(e,s.alternate,s)}finally{Yt=f,st.p=l,K.T=a}}Qe=3}}function h0(){if(Qe===4||Qe===3){Qe=0,ye();var e=Os,s=za,a=ja,l=Wv;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Qe=5:(Qe=0,za=Os=null,f0(e,e.pendingLanes));var f=e.pendingLanes;if(f===0&&(Ns=null),aa(a),s=s.stateNode,Kt&&typeof Kt.onCommitFiberRoot=="function")try{Kt.onCommitFiberRoot(de,s,void 0,(s.current.flags&128)===128)}catch{}if(l!==null){s=K.T,f=st.p,st.p=2,K.T=null;try{for(var m=e.onRecoverableError,T=0;T<l.length;T++){var S=l[T];m(S.value,{componentStack:S.stack})}}finally{K.T=s,st.p=f}}(ja&3)!==0&&Rc(),Ti(e),f=e.pendingLanes,(a&4194090)!==0&&(f&42)!==0?e===wd?yl++:(yl=0,wd=e):yl=0,vl(0)}}function f0(e,s){(e.pooledCacheLanes&=s)===0&&(s=e.pooledCache,s!=null&&(e.pooledCache=null,Zo(s)))}function Rc(e){return u0(),c0(),h0(),d0()}function d0(){if(Qe!==5)return!1;var e=Os,s=Sd;Sd=0;var a=aa(ja),l=K.T,f=st.p;try{st.p=32>a?32:a,K.T=null,a=bd,bd=null;var m=Os,T=ja;if(Qe=0,za=Os=null,ja=0,(Yt&6)!==0)throw Error(r(331));var S=Yt;if(Yt|=4,$v(m.current),Yv(m,m.current,T,a),Yt=S,vl(0,!1),Kt&&typeof Kt.onPostCommitFiberRoot=="function")try{Kt.onPostCommitFiberRoot(de,m)}catch{}return!0}finally{st.p=f,K.T=l,f0(e,s)}}function m0(e,s,a){s=kn(a,s),s=id(e.stateNode,s,2),e=bs(e,s,2),e!==null&&(Ui(e,2),Ti(e))}function te(e,s,a){if(e.tag===3)m0(e,e,a);else for(;s!==null;){if(s.tag===3){m0(s,e,a);break}else if(s.tag===1){var l=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ns===null||!Ns.has(l))){e=kn(a,e),a=vv(2),l=bs(s,a,2),l!==null&&(_v(a,l,s,e),Ui(l,2),Ti(l));break}}s=s.return}}function Dd(e,s,a){var l=e.pingCache;if(l===null){l=e.pingCache=new aw;var f=new Set;l.set(s,f)}else f=l.get(s),f===void 0&&(f=new Set,l.set(s,f));f.has(a)||(_d=!0,f.add(a),e=hw.bind(null,e,s,a),s.then(e,e))}function hw(e,s,a){var l=e.pingCache;l!==null&&l.delete(s),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,ee===e&&(Bt&a)===a&&(pe===4||pe===3&&(Bt&62914560)===Bt&&300>en()-Ad?(Yt&2)===0&&qa(e,0):Td|=a,Ba===Bt&&(Ba=0)),Ti(e)}function p0(e,s){s===0&&(s=Co()),e=ba(e,s),e!==null&&(Ui(e,s),Ti(e))}function fw(e){var s=e.memoizedState,a=0;s!==null&&(a=s.retryLane),p0(e,a)}function dw(e,s){var a=0;switch(e.tag){case 13:var l=e.stateNode,f=e.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(s),p0(e,a)}function mw(e,s){return yt(e,s)}var Cc=null,Ha=null,Vd=!1,xc=!1,Id=!1,jr=0;function Ti(e){e!==Ha&&e.next===null&&(Ha===null?Cc=Ha=e:Ha=Ha.next=e),xc=!0,Vd||(Vd=!0,gw())}function vl(e,s){if(!Id&&xc){Id=!0;do for(var a=!1,l=Cc;l!==null;){if(e!==0){var f=l.pendingLanes;if(f===0)var m=0;else{var T=l.suspendedLanes,S=l.pingedLanes;m=(1<<31-nn(42|e)+1)-1,m&=f&~(T&~S),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(a=!0,_0(l,m))}else m=Bt,m=ra(l,l===ee?m:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(m&3)===0||fr(l,m)||(a=!0,_0(l,m));l=l.next}while(a);Id=!1}}function pw(){g0()}function g0(){xc=Vd=!1;var e=0;jr!==0&&(bw()&&(e=jr),jr=0);for(var s=en(),a=null,l=Cc;l!==null;){var f=l.next,m=y0(l,s);m===0?(l.next=null,a===null?Cc=f:a.next=f,f===null&&(Ha=a)):(a=l,(e!==0||(m&3)!==0)&&(xc=!0)),l=f}vl(e)}function y0(e,s){for(var a=e.suspendedLanes,l=e.pingedLanes,f=e.expirationTimes,m=e.pendingLanes&-62914561;0<m;){var T=31-nn(m),S=1<<T,x=f[T];x===-1?((S&a)===0||(S&l)!==0)&&(f[T]=wo(S,s)):x<=s&&(e.expiredLanes|=S),m&=~S}if(s=ee,a=Bt,a=ra(e,e===s?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===s&&(Qt===2||Qt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&le(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||fr(e,a)){if(s=a&-a,s===e.callbackPriority)return s;switch(l!==null&&le(l),aa(a)){case 2:case 8:a=$n;break;case 32:a=lr;break;case 268435456:a=sa;break;default:a=lr}return l=v0.bind(null,e),a=yt(a,l),e.callbackPriority=s,e.callbackNode=a,s}return l!==null&&l!==null&&le(l),e.callbackPriority=2,e.callbackNode=null,2}function v0(e,s){if(Qe!==0&&Qe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Rc()&&e.callbackNode!==a)return null;var l=Bt;return l=ra(e,e===ee?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(t0(e,l,s),y0(e,en()),e.callbackNode!=null&&e.callbackNode===a?v0.bind(null,e):null)}function _0(e,s){if(Rc())return null;t0(e,s,!0)}function gw(){Rw(function(){(Yt&6)!==0?yt(Pi,pw):g0()})}function Md(){return jr===0&&(jr=Ro()),jr}function T0(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:fa(""+e)}function E0(e,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,e.id&&a.setAttribute("form",e.id),s.parentNode.insertBefore(a,s),e=new FormData(e),a.parentNode.removeChild(a),e}function yw(e,s,a,l,f){if(s==="submit"&&a&&a.stateNode===f){var m=T0((f[be]||null).action),T=l.submitter;T&&(s=(s=T[be]||null)?T0(s.formAction):T.getAttribute("formAction"),s!==null&&(m=s,T=null));var S=new da("action","action",null,l,f);e.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(jr!==0){var x=T?E0(f,T):new FormData(f);Wf(a,{pending:!0,data:x,method:f.method,action:m},null,x)}}else typeof m=="function"&&(S.preventDefault(),x=T?E0(f,T):new FormData(f),Wf(a,{pending:!0,data:x,method:f.method,action:m},m,x))},currentTarget:f}]})}}for(var Nd=0;Nd<yf.length;Nd++){var Od=yf[Nd],vw=Od.toLowerCase(),_w=Od[0].toUpperCase()+Od.slice(1);ti(vw,"on"+_w)}ti(ty,"onAnimationEnd"),ti(ey,"onAnimationIteration"),ti(ny,"onAnimationStart"),ti("dblclick","onDoubleClick"),ti("focusin","onFocus"),ti("focusout","onBlur"),ti(Lb,"onTransitionRun"),ti(Ub,"onTransitionStart"),ti(kb,"onTransitionCancel"),ti(iy,"onTransitionEnd"),Bi("onMouseEnter",["mouseout","mouseover"]),Bi("onMouseLeave",["mouseout","mouseover"]),Bi("onPointerEnter",["pointerout","pointerover"]),Bi("onPointerLeave",["pointerout","pointerover"]),Wn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Wn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Wn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Wn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Wn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Wn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _l="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Tw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(_l));function A0(e,s){s=(s&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],f=l.event;l=l.listeners;t:{var m=void 0;if(s)for(var T=l.length-1;0<=T;T--){var S=l[T],x=S.instance,z=S.currentTarget;if(S=S.listener,x!==m&&f.isPropagationStopped())break t;m=S,f.currentTarget=z;try{m(f)}catch(Y){pc(Y)}f.currentTarget=null,m=x}else for(T=0;T<l.length;T++){if(S=l[T],x=S.instance,z=S.currentTarget,S=S.listener,x!==m&&f.isPropagationStopped())break t;m=S,f.currentTarget=z;try{m(f)}catch(Y){pc(Y)}f.currentTarget=null,m=x}}}}function Ot(e,s){var a=s[Vo];a===void 0&&(a=s[Vo]=new Set);var l=e+"__bubble";a.has(l)||(S0(s,e,2,!1),a.add(l))}function Pd(e,s,a){var l=0;s&&(l|=4),S0(a,e,l,s)}var Dc="_reactListening"+Math.random().toString(36).slice(2);function Ld(e){if(!e[Dc]){e[Dc]=!0,Io.forEach(function(a){a!=="selectionchange"&&(Tw.has(a)||Pd(a,!1,e),Pd(a,!0,e))});var s=e.nodeType===9?e:e.ownerDocument;s===null||s[Dc]||(s[Dc]=!0,Pd("selectionchange",!1,s))}}function S0(e,s,a,l){switch(Y0(s)){case 2:var f=Yw;break;case 8:f=Qw;break;default:f=$d}a=f.bind(null,s,a,e),f=void 0,!Ln||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),l?f!==void 0?e.addEventListener(s,a,{capture:!0,passive:f}):e.addEventListener(s,a,!0):f!==void 0?e.addEventListener(s,a,{passive:f}):e.addEventListener(s,a,!1)}function Ud(e,s,a,l,f){var m=l;if((s&1)===0&&(s&2)===0&&l!==null)t:for(;;){if(l===null)return;var T=l.tag;if(T===3||T===4){var S=l.stateNode.containerInfo;if(S===f)break;if(T===4)for(T=l.return;T!==null;){var x=T.tag;if((x===3||x===4)&&T.stateNode.containerInfo===f)return;T=T.return}for(;S!==null;){if(T=ki(S),T===null)return;if(x=T.tag,x===5||x===6||x===26||x===27){l=m=T;continue t}S=S.parentNode}}l=l.return}Iu(function(){var z=m,Y=Pn(a),W=[];t:{var q=sy.get(e);if(q!==void 0){var H=da,bt=e;switch(e){case"keypress":if(hi(a)===0)break t;case"keydown":case"keyup":H=_a;break;case"focusin":bt="focus",H=ga;break;case"focusout":bt="blur",H=ga;break;case"beforeblur":case"afterblur":H=ga;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Un;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=uf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=Bu;break;case ty:case ey:case ny:H=ya;break;case iy:H=ju;break;case"scroll":case"scrollend":H=Mu;break;case"wheel":H=Ta;break;case"copy":case"cut":case"paste":H=va;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Fo;break;case"toggle":case"beforetoggle":H=Fu}var _t=(s&4)!==0,Jt=!_t&&(e==="scroll"||e==="scrollend"),U=_t?q!==null?q+"Capture":null:q;_t=[];for(var N=z,B;N!==null;){var X=N;if(B=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||B===null||U===null||(X=Tr(N,U),X!=null&&_t.push(Tl(N,X,B))),Jt)break;N=N.return}0<_t.length&&(q=new H(q,bt,null,a,Y),W.push({event:q,listeners:_t}))}}if((s&7)===0){t:{if(q=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",q&&a!==qi&&(bt=a.relatedTarget||a.fromElement)&&(ki(bt)||bt[Nn]))break t;if((H||q)&&(q=Y.window===Y?Y:(q=Y.ownerDocument)?q.defaultView||q.parentWindow:window,H?(bt=a.relatedTarget||a.toElement,H=z,bt=bt?ki(bt):null,bt!==null&&(Jt=u(bt),_t=bt.tag,bt!==Jt||_t!==5&&_t!==27&&_t!==6)&&(bt=null)):(H=null,bt=z),H!==bt)){if(_t=Un,X="onMouseLeave",U="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(_t=Fo,X="onPointerLeave",U="onPointerEnter",N="pointer"),Jt=H==null?q:oi(H),B=bt==null?q:oi(bt),q=new _t(X,N+"leave",H,a,Y),q.target=Jt,q.relatedTarget=B,X=null,ki(Y)===z&&(_t=new _t(U,N+"enter",bt,a,Y),_t.target=B,_t.relatedTarget=Jt,X=_t),Jt=X,H&&bt)e:{for(_t=H,U=bt,N=0,B=_t;B;B=Ga(B))N++;for(B=0,X=U;X;X=Ga(X))B++;for(;0<N-B;)_t=Ga(_t),N--;for(;0<B-N;)U=Ga(U),B--;for(;N--;){if(_t===U||U!==null&&_t===U.alternate)break e;_t=Ga(_t),U=Ga(U)}_t=null}else _t=null;H!==null&&b0(W,q,H,_t,!1),bt!==null&&Jt!==null&&b0(W,Jt,bt,_t,!0)}}t:{if(q=z?oi(z):window,H=q.nodeName&&q.nodeName.toLowerCase(),H==="select"||H==="input"&&q.type==="file")var dt=Fg;else if(Ne(q))if(Hg)dt=Nb;else{dt=Ib;var It=Vb}else H=q.nodeName,!H||H.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?z&&Lo(z.elementType)&&(dt=Fg):dt=Mb;if(dt&&(dt=dt(e,z))){Yi(W,dt,a,Y);break t}It&&It(e,q,z),e==="focusout"&&z&&q.type==="number"&&z.memoizedProps.value!=null&&_s(q,"number",q.value)}switch(It=z?oi(z):window,e){case"focusin":(Ne(It)||It.contentEditable==="true")&&(Ea=It,mf=z,Ko=null);break;case"focusout":Ko=mf=Ea=null;break;case"mousedown":pf=!0;break;case"contextmenu":case"mouseup":case"dragend":pf=!1,Wg(W,a,Y);break;case"selectionchange":if(Pb)break;case"keydown":case"keyup":Wg(W,a,Y)}var pt;if(mi)t:{switch(e){case"compositionstart":var Et="onCompositionStart";break t;case"compositionend":Et="onCompositionEnd";break t;case"compositionupdate":Et="onCompositionUpdate";break t}Et=void 0}else Ut?G(e,a)&&(Et="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Et="onCompositionStart");Et&&(_&&a.locale!=="ko"&&(Ut||Et!=="onCompositionStart"?Et==="onCompositionEnd"&&Ut&&(pt=ko()):(ci=Y,Ts="value"in ci?ci.value:ci.textContent,Ut=!0)),It=Vc(z,Et),0<It.length&&(Et=new jo(Et,e,null,a,Y),W.push({event:Et,listeners:It}),pt?Et.data=pt:(pt=ot(a),pt!==null&&(Et.data=pt)))),(pt=y?Me(e,a):kt(e,a))&&(Et=Vc(z,"onBeforeInput"),0<Et.length&&(It=new jo("onBeforeInput","beforeinput",null,a,Y),W.push({event:It,listeners:Et}),It.data=pt)),yw(W,e,z,a,Y)}A0(W,s)})}function Tl(e,s,a){return{instance:e,listener:s,currentTarget:a}}function Vc(e,s){for(var a=s+"Capture",l=[];e!==null;){var f=e,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=Tr(e,a),f!=null&&l.unshift(Tl(e,f,m)),f=Tr(e,s),f!=null&&l.push(Tl(e,f,m))),e.tag===3)return l;e=e.return}return[]}function Ga(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function b0(e,s,a,l,f){for(var m=s._reactName,T=[];a!==null&&a!==l;){var S=a,x=S.alternate,z=S.stateNode;if(S=S.tag,x!==null&&x===l)break;S!==5&&S!==26&&S!==27||z===null||(x=z,f?(z=Tr(a,m),z!=null&&T.unshift(Tl(a,z,x))):f||(z=Tr(a,m),z!=null&&T.push(Tl(a,z,x)))),a=a.return}T.length!==0&&e.push({event:s,listeners:T})}var Ew=/\r\n?/g,Aw=/\u0000|\uFFFD/g;function w0(e){return(typeof e=="string"?e:""+e).replace(Ew,`
`).replace(Aw,"")}function R0(e,s){return s=w0(s),w0(e)===s}function Ic(){}function Wt(e,s,a,l,f,m){switch(a){case"children":typeof l=="string"?s==="body"||s==="textarea"&&l===""||On(e,l):(typeof l=="number"||typeof l=="bigint")&&s!=="body"&&On(e,""+l);break;case"className":li(e,"class",l);break;case"tabIndex":li(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":li(e,a,l);break;case"style":Po(e,l,m);break;case"data":if(s!=="object"){li(e,"data",l);break}case"src":case"href":if(l===""&&(s!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=fa(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(s!=="input"&&Wt(e,s,"name",f.name,f,null),Wt(e,s,"formEncType",f.formEncType,f,null),Wt(e,s,"formMethod",f.formMethod,f,null),Wt(e,s,"formTarget",f.formTarget,f,null)):(Wt(e,s,"encType",f.encType,f,null),Wt(e,s,"method",f.method,f,null),Wt(e,s,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=fa(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=Ic);break;case"onScroll":l!=null&&Ot("scroll",e);break;case"onScrollEnd":l!=null&&Ot("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=fa(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Ot("beforetoggle",e),Ot("toggle",e),vs(e,"popover",l);break;case"xlinkActuate":Ge(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ge(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ge(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ge(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ge(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ge(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ge(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ge(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ge(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":vs(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=of.get(a)||a,vs(e,a,l))}}function kd(e,s,a,l,f,m){switch(a){case"style":Po(e,l,m);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof l=="string"?On(e,l):(typeof l=="number"||typeof l=="bigint")&&On(e,""+l);break;case"onScroll":l!=null&&Ot("scroll",e);break;case"onScrollEnd":l!=null&&Ot("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Ic);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!oa.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),s=a.slice(2,f?a.length-7:void 0),m=e[be]||null,m=m!=null?m[a]:null,typeof m=="function"&&e.removeEventListener(s,m,f),typeof l=="function")){typeof m!="function"&&m!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(s,l,f);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):vs(e,a,l)}}}function Xe(e,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ot("error",e),Ot("load",e);var l=!1,f=!1,m;for(m in a)if(a.hasOwnProperty(m)){var T=a[m];if(T!=null)switch(m){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Wt(e,s,m,T,a,null)}}f&&Wt(e,s,"srcSet",a.srcSet,a,null),l&&Wt(e,s,"src",a.src,a,null);return;case"input":Ot("invalid",e);var S=m=T=f=null,x=null,z=null;for(l in a)if(a.hasOwnProperty(l)){var Y=a[l];if(Y!=null)switch(l){case"name":f=Y;break;case"type":T=Y;break;case"checked":x=Y;break;case"defaultChecked":z=Y;break;case"value":m=Y;break;case"defaultValue":S=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(r(137,s));break;default:Wt(e,s,l,Y,a,null)}}yr(e,m,S,x,z,T,f,!1),ha(e);return;case"select":Ot("invalid",e),l=T=m=null;for(f in a)if(a.hasOwnProperty(f)&&(S=a[f],S!=null))switch(f){case"value":m=S;break;case"defaultValue":T=S;break;case"multiple":l=S;default:Wt(e,s,f,S,a,null)}s=m,a=T,e.multiple=!!l,s!=null?ji(e,!!l,s,!1):a!=null&&ji(e,!!l,a,!0);return;case"textarea":Ot("invalid",e),m=f=l=null;for(T in a)if(a.hasOwnProperty(T)&&(S=a[T],S!=null))switch(T){case"value":l=S;break;case"defaultValue":f=S;break;case"children":m=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(r(91));break;default:Wt(e,s,T,S,a,null)}vr(e,l,f,m),ha(e);return;case"option":for(x in a)if(a.hasOwnProperty(x)&&(l=a[x],l!=null))switch(x){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Wt(e,s,x,l,a,null)}return;case"dialog":Ot("beforetoggle",e),Ot("toggle",e),Ot("cancel",e),Ot("close",e);break;case"iframe":case"object":Ot("load",e);break;case"video":case"audio":for(l=0;l<_l.length;l++)Ot(_l[l],e);break;case"image":Ot("error",e),Ot("load",e);break;case"details":Ot("toggle",e);break;case"embed":case"source":case"link":Ot("error",e),Ot("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(l=a[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Wt(e,s,z,l,a,null)}return;default:if(Lo(s)){for(Y in a)a.hasOwnProperty(Y)&&(l=a[Y],l!==void 0&&kd(e,s,Y,l,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(l=a[S],l!=null&&Wt(e,s,S,l,a,null))}function Sw(e,s,a,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,T=null,S=null,x=null,z=null,Y=null;for(H in a){var W=a[H];if(a.hasOwnProperty(H)&&W!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":x=W;default:l.hasOwnProperty(H)||Wt(e,s,H,null,l,W)}}for(var q in l){var H=l[q];if(W=a[q],l.hasOwnProperty(q)&&(H!=null||W!=null))switch(q){case"type":m=H;break;case"name":f=H;break;case"checked":z=H;break;case"defaultChecked":Y=H;break;case"value":T=H;break;case"defaultValue":S=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,s));break;default:H!==W&&Wt(e,s,q,H,l,W)}}Sn(e,T,S,x,z,Y,m,f);return;case"select":H=T=S=q=null;for(m in a)if(x=a[m],a.hasOwnProperty(m)&&x!=null)switch(m){case"value":break;case"multiple":H=x;default:l.hasOwnProperty(m)||Wt(e,s,m,null,l,x)}for(f in l)if(m=l[f],x=a[f],l.hasOwnProperty(f)&&(m!=null||x!=null))switch(f){case"value":q=m;break;case"defaultValue":S=m;break;case"multiple":T=m;default:m!==x&&Wt(e,s,f,m,l,x)}s=S,a=T,l=H,q!=null?ji(e,!!a,q,!1):!!l!=!!a&&(s!=null?ji(e,!!a,s,!0):ji(e,!!a,a?[]:"",!1));return;case"textarea":H=q=null;for(S in a)if(f=a[S],a.hasOwnProperty(S)&&f!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:Wt(e,s,S,null,l,f)}for(T in l)if(f=l[T],m=a[T],l.hasOwnProperty(T)&&(f!=null||m!=null))switch(T){case"value":q=f;break;case"defaultValue":H=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==m&&Wt(e,s,T,f,l,m)}$t(e,q,H);return;case"option":for(var bt in a)if(q=a[bt],a.hasOwnProperty(bt)&&q!=null&&!l.hasOwnProperty(bt))switch(bt){case"selected":e.selected=!1;break;default:Wt(e,s,bt,null,l,q)}for(x in l)if(q=l[x],H=a[x],l.hasOwnProperty(x)&&q!==H&&(q!=null||H!=null))switch(x){case"selected":e.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:Wt(e,s,x,q,l,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _t in a)q=a[_t],a.hasOwnProperty(_t)&&q!=null&&!l.hasOwnProperty(_t)&&Wt(e,s,_t,null,l,q);for(z in l)if(q=l[z],H=a[z],l.hasOwnProperty(z)&&q!==H&&(q!=null||H!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(137,s));break;default:Wt(e,s,z,q,l,H)}return;default:if(Lo(s)){for(var Jt in a)q=a[Jt],a.hasOwnProperty(Jt)&&q!==void 0&&!l.hasOwnProperty(Jt)&&kd(e,s,Jt,void 0,l,q);for(Y in l)q=l[Y],H=a[Y],!l.hasOwnProperty(Y)||q===H||q===void 0&&H===void 0||kd(e,s,Y,q,l,H);return}}for(var U in a)q=a[U],a.hasOwnProperty(U)&&q!=null&&!l.hasOwnProperty(U)&&Wt(e,s,U,null,l,q);for(W in l)q=l[W],H=a[W],!l.hasOwnProperty(W)||q===H||q==null&&H==null||Wt(e,s,W,q,l,H)}var Bd=null,zd=null;function Mc(e){return e.nodeType===9?e:e.ownerDocument}function C0(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function x0(e,s){if(e===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&s==="foreignObject"?0:e}function jd(e,s){return e==="textarea"||e==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var qd=null;function bw(){var e=window.event;return e&&e.type==="popstate"?e===qd?!1:(qd=e,!0):(qd=null,!1)}var D0=typeof setTimeout=="function"?setTimeout:void 0,ww=typeof clearTimeout=="function"?clearTimeout:void 0,V0=typeof Promise=="function"?Promise:void 0,Rw=typeof queueMicrotask=="function"?queueMicrotask:typeof V0<"u"?function(e){return V0.resolve(null).then(e).catch(Cw)}:D0;function Cw(e){setTimeout(function(){throw e})}function Ls(e){return e==="head"}function I0(e,s){var a=s,l=0,f=0;do{var m=a.nextSibling;if(e.removeChild(a),m&&m.nodeType===8)if(a=m.data,a==="/$"){if(0<l&&8>l){a=l;var T=e.ownerDocument;if(a&1&&El(T.documentElement),a&2&&El(T.body),a&4)for(a=T.head,El(a),T=a.firstChild;T;){var S=T.nextSibling,x=T.nodeName;T[dr]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&T.rel.toLowerCase()==="stylesheet"||a.removeChild(T),T=S}}if(f===0){e.removeChild(m),Dl(s);return}f--}else a==="$"||a==="$?"||a==="$!"?f++:l=a.charCodeAt(0)-48;else l=0;a=m}while(a);Dl(s)}function Fd(e){var s=e.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Fd(a),ys(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function xw(e,s,a,l){for(;e.nodeType===1;){var f=a;if(e.nodeName.toLowerCase()!==s.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[dr])switch(s){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(m=e.getAttribute("rel"),m==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(m!==f.rel||e.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(m=e.getAttribute("src"),(m!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(s==="input"&&e.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===m)return e}else return e;if(e=ni(e.nextSibling),e===null)break}return null}function Dw(e,s,a){if(s==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=ni(e.nextSibling),e===null))return null;return e}function Hd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function Vw(e,s){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")s();else{var l=function(){s(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function ni(e){for(;e!=null;e=e.nextSibling){var s=e.nodeType;if(s===1||s===3)break;if(s===8){if(s=e.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return e}var Gd=null;function M0(e){e=e.previousSibling;for(var s=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return e;s--}else a==="/$"&&s++}e=e.previousSibling}return null}function N0(e,s,a){switch(s=Mc(a),e){case"html":if(e=s.documentElement,!e)throw Error(r(452));return e;case"head":if(e=s.head,!e)throw Error(r(453));return e;case"body":if(e=s.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function El(e){for(var s=e.attributes;s.length;)e.removeAttributeNode(s[0]);ys(e)}var Hn=new Map,O0=new Set;function Nc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var as=st.d;st.d={f:Iw,r:Mw,D:Nw,C:Ow,L:Pw,m:Lw,X:kw,S:Uw,M:Bw};function Iw(){var e=as.f(),s=bc();return e||s}function Mw(e){var s=ai(e);s!==null&&s.tag===5&&s.type==="form"?tv(s):as.r(e)}var Ka=typeof document>"u"?null:document;function P0(e,s,a){var l=Ka;if(l&&typeof s=="string"&&s){var f=we(s);f='link[rel="'+e+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),O0.has(f)||(O0.add(f),e={rel:e,crossOrigin:a,href:s},l.querySelector(f)===null&&(s=l.createElement("link"),Xe(s,"link",e),ve(s),l.head.appendChild(s)))}}function Nw(e){as.D(e),P0("dns-prefetch",e,null)}function Ow(e,s){as.C(e,s),P0("preconnect",e,s)}function Pw(e,s,a){as.L(e,s,a);var l=Ka;if(l&&e&&s){var f='link[rel="preload"][as="'+we(s)+'"]';s==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+we(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+we(a.imageSizes)+'"]')):f+='[href="'+we(e)+'"]';var m=f;switch(s){case"style":m=Ya(e);break;case"script":m=Qa(e)}Hn.has(m)||(e=v({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:e,as:s},a),Hn.set(m,e),l.querySelector(f)!==null||s==="style"&&l.querySelector(Al(m))||s==="script"&&l.querySelector(Sl(m))||(s=l.createElement("link"),Xe(s,"link",e),ve(s),l.head.appendChild(s)))}}function Lw(e,s){as.m(e,s);var a=Ka;if(a&&e){var l=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+we(l)+'"][href="'+we(e)+'"]',m=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Qa(e)}if(!Hn.has(m)&&(e=v({rel:"modulepreload",href:e},s),Hn.set(m,e),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Sl(m)))return}l=a.createElement("link"),Xe(l,"link",e),ve(l),a.head.appendChild(l)}}}function Uw(e,s,a){as.S(e,s,a);var l=Ka;if(l&&e){var f=cn(l).hoistableStyles,m=Ya(e);s=s||"default";var T=f.get(m);if(!T){var S={loading:0,preload:null};if(T=l.querySelector(Al(m)))S.loading=5;else{e=v({rel:"stylesheet",href:e,"data-precedence":s},a),(a=Hn.get(m))&&Kd(e,a);var x=T=l.createElement("link");ve(x),Xe(x,"link",e),x._p=new Promise(function(z,Y){x.onload=z,x.onerror=Y}),x.addEventListener("load",function(){S.loading|=1}),x.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Oc(T,s,l)}T={type:"stylesheet",instance:T,count:1,state:S},f.set(m,T)}}}function kw(e,s){as.X(e,s);var a=Ka;if(a&&e){var l=cn(a).hoistableScripts,f=Qa(e),m=l.get(f);m||(m=a.querySelector(Sl(f)),m||(e=v({src:e,async:!0},s),(s=Hn.get(f))&&Yd(e,s),m=a.createElement("script"),ve(m),Xe(m,"link",e),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(f,m))}}function Bw(e,s){as.M(e,s);var a=Ka;if(a&&e){var l=cn(a).hoistableScripts,f=Qa(e),m=l.get(f);m||(m=a.querySelector(Sl(f)),m||(e=v({src:e,async:!0,type:"module"},s),(s=Hn.get(f))&&Yd(e,s),m=a.createElement("script"),ve(m),Xe(m,"link",e),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(f,m))}}function L0(e,s,a,l){var f=(f=Tt.current)?Nc(f):null;if(!f)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=Ya(a.href),a=cn(f).hoistableStyles,l=a.get(s),l||(l={type:"style",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Ya(a.href);var m=cn(f).hoistableStyles,T=m.get(e);if(T||(f=f.ownerDocument||f,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(e,T),(m=f.querySelector(Al(e)))&&!m._p&&(T.instance=m,T.state.loading=5),Hn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Hn.set(e,a),m||zw(f,e,a,T.state))),s&&l===null)throw Error(r(528,""));return T}if(s&&l!==null)throw Error(r(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Qa(a),a=cn(f).hoistableScripts,l=a.get(s),l||(l={type:"script",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Ya(e){return'href="'+we(e)+'"'}function Al(e){return'link[rel="stylesheet"]['+e+"]"}function U0(e){return v({},e,{"data-precedence":e.precedence,precedence:null})}function zw(e,s,a,l){e.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=e.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),Xe(s,"link",a),ve(s),e.head.appendChild(s))}function Qa(e){return'[src="'+we(e)+'"]'}function Sl(e){return"script[async]"+e}function k0(e,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var l=e.querySelector('style[data-href~="'+we(a.href)+'"]');if(l)return s.instance=l,ve(l),l;var f=v({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),ve(l),Xe(l,"style",f),Oc(l,a.precedence,e),s.instance=l;case"stylesheet":f=Ya(a.href);var m=e.querySelector(Al(f));if(m)return s.state.loading|=4,s.instance=m,ve(m),m;l=U0(a),(f=Hn.get(f))&&Kd(l,f),m=(e.ownerDocument||e).createElement("link"),ve(m);var T=m;return T._p=new Promise(function(S,x){T.onload=S,T.onerror=x}),Xe(m,"link",l),s.state.loading|=4,Oc(m,a.precedence,e),s.instance=m;case"script":return m=Qa(a.src),(f=e.querySelector(Sl(m)))?(s.instance=f,ve(f),f):(l=a,(f=Hn.get(m))&&(l=v({},a),Yd(l,f)),e=e.ownerDocument||e,f=e.createElement("script"),ve(f),Xe(f,"link",l),e.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(l=s.instance,s.state.loading|=4,Oc(l,a.precedence,e));return s.instance}function Oc(e,s,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,m=f,T=0;T<l.length;T++){var S=l[T];if(S.dataset.precedence===s)m=S;else if(m!==f)break}m?m.parentNode.insertBefore(e,m.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(e,s.firstChild))}function Kd(e,s){e.crossOrigin==null&&(e.crossOrigin=s.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=s.referrerPolicy),e.title==null&&(e.title=s.title)}function Yd(e,s){e.crossOrigin==null&&(e.crossOrigin=s.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=s.referrerPolicy),e.integrity==null&&(e.integrity=s.integrity)}var Pc=null;function B0(e,s,a){if(Pc===null){var l=new Map,f=Pc=new Map;f.set(a,l)}else f=Pc,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),f=0;f<a.length;f++){var m=a[f];if(!(m[dr]||m[Ie]||e==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var T=m.getAttribute(s)||"";T=e+T;var S=l.get(T);S?S.push(m):l.set(T,[m])}}return l}function z0(e,s,a){e=e.ownerDocument||e,e.head.insertBefore(a,s==="title"?e.querySelector("head > title"):null)}function jw(e,s,a){if(a===1||s.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return e=s.disabled,typeof s.precedence=="string"&&e==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function j0(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var bl=null;function qw(){}function Fw(e,s,a){if(bl===null)throw Error(r(475));var l=bl;if(s.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var f=Ya(a.href),m=e.querySelector(Al(f));if(m){e=m._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=Lc.bind(l),e.then(l,l)),s.state.loading|=4,s.instance=m,ve(m);return}m=e.ownerDocument||e,a=U0(a),(f=Hn.get(f))&&Kd(a,f),m=m.createElement("link"),ve(m);var T=m;T._p=new Promise(function(S,x){T.onload=S,T.onerror=x}),Xe(m,"link",a),s.instance=m}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(s,e),(e=s.state.preload)&&(s.state.loading&3)===0&&(l.count++,s=Lc.bind(l),e.addEventListener("load",s),e.addEventListener("error",s))}}function Hw(){if(bl===null)throw Error(r(475));var e=bl;return e.stylesheets&&e.count===0&&Qd(e,e.stylesheets),0<e.count?function(s){var a=setTimeout(function(){if(e.stylesheets&&Qd(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(a)}}:null}function Lc(){if(this.count--,this.count===0){if(this.stylesheets)Qd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Uc=null;function Qd(e,s){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Uc=new Map,s.forEach(Gw,e),Uc=null,Lc.call(e))}function Gw(e,s){if(!(s.state.loading&4)){var a=Uc.get(e);if(a)var l=a.get(null);else{a=new Map,Uc.set(e,a);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var T=f[m];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(a.set(T.dataset.precedence,T),l=T)}l&&a.set(null,l)}f=s.instance,T=f.getAttribute("data-precedence"),m=a.get(T)||l,m===l&&a.set(null,f),a.set(T,f),this.count++,l=Lc.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),m?m.parentNode.insertBefore(f,m.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),s.state.loading|=4}}var wl={$$typeof:Q,Provider:null,Consumer:null,_currentValue:ft,_currentValue2:ft,_threadCount:0};function Kw(e,s,a,l,f,m,T,S){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Li(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Li(0),this.hiddenUpdates=Li(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function q0(e,s,a,l,f,m,T,S,x,z,Y,W){return e=new Kw(e,s,a,T,S,x,z,W),s=1,m===!0&&(s|=24),m=wn(3,null,null,s),e.current=m,m.stateNode=e,s=Df(),s.refCount++,e.pooledCache=s,s.refCount++,m.memoizedState={element:l,isDehydrated:a,cache:s},Nf(m),e}function F0(e){return e?(e=wa,e):wa}function H0(e,s,a,l,f,m){f=F0(f),l.context===null?l.context=f:l.pendingContext=f,l=Ss(s),l.payload={element:a},m=m===void 0?null:m,m!==null&&(l.callback=m),a=bs(e,l,s),a!==null&&(Vn(a,e,s),el(a,e,s))}function G0(e,s){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<s?a:s}}function Xd(e,s){G0(e,s),(e=e.alternate)&&G0(e,s)}function K0(e){if(e.tag===13){var s=ba(e,67108864);s!==null&&Vn(s,e,67108864),Xd(e,67108864)}}var kc=!0;function Yw(e,s,a,l){var f=K.T;K.T=null;var m=st.p;try{st.p=2,$d(e,s,a,l)}finally{st.p=m,K.T=f}}function Qw(e,s,a,l){var f=K.T;K.T=null;var m=st.p;try{st.p=8,$d(e,s,a,l)}finally{st.p=m,K.T=f}}function $d(e,s,a,l){if(kc){var f=Zd(l);if(f===null)Ud(e,s,l,Bc,a),Q0(e,l);else if($w(f,e,s,a,l))l.stopPropagation();else if(Q0(e,l),s&4&&-1<Xw.indexOf(e)){for(;f!==null;){var m=ai(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var T=Zn(m.pendingLanes);if(T!==0){var S=m;for(S.pendingLanes|=2,S.entangledLanes|=2;T;){var x=1<<31-nn(T);S.entanglements[1]|=x,T&=~x}Ti(m),(Yt&6)===0&&(Ac=en()+500,vl(0))}}break;case 13:S=ba(m,2),S!==null&&Vn(S,m,2),bc(),Xd(m,2)}if(m=Zd(l),m===null&&Ud(e,s,l,Bc,a),m===f)break;f=m}f!==null&&l.stopPropagation()}else Ud(e,s,l,null,a)}}function Zd(e){return e=Pn(e),Wd(e)}var Bc=null;function Wd(e){if(Bc=null,e=ki(e),e!==null){var s=u(e);if(s===null)e=null;else{var a=s.tag;if(a===13){if(e=h(s),e!==null)return e;e=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;e=null}else s!==e&&(e=null)}}return Bc=e,null}function Y0(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ds()){case Pi:return 2;case $n:return 8;case lr:case ef:return 32;case sa:return 268435456;default:return 32}default:return 32}}var Jd=!1,Us=null,ks=null,Bs=null,Rl=new Map,Cl=new Map,zs=[],Xw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Q0(e,s){switch(e){case"focusin":case"focusout":Us=null;break;case"dragenter":case"dragleave":ks=null;break;case"mouseover":case"mouseout":Bs=null;break;case"pointerover":case"pointerout":Rl.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cl.delete(s.pointerId)}}function xl(e,s,a,l,f,m){return e===null||e.nativeEvent!==m?(e={blockedOn:s,domEventName:a,eventSystemFlags:l,nativeEvent:m,targetContainers:[f]},s!==null&&(s=ai(s),s!==null&&K0(s)),e):(e.eventSystemFlags|=l,s=e.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),e)}function $w(e,s,a,l,f){switch(s){case"focusin":return Us=xl(Us,e,s,a,l,f),!0;case"dragenter":return ks=xl(ks,e,s,a,l,f),!0;case"mouseover":return Bs=xl(Bs,e,s,a,l,f),!0;case"pointerover":var m=f.pointerId;return Rl.set(m,xl(Rl.get(m)||null,e,s,a,l,f)),!0;case"gotpointercapture":return m=f.pointerId,Cl.set(m,xl(Cl.get(m)||null,e,s,a,l,f)),!0}return!1}function X0(e){var s=ki(e.target);if(s!==null){var a=u(s);if(a!==null){if(s=a.tag,s===13){if(s=h(a),s!==null){e.blockedOn=s,bu(e.priority,function(){if(a.tag===13){var l=Dn();l=ms(l);var f=ba(a,l);f!==null&&Vn(f,a,l),Xd(a,l)}});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function zc(e){if(e.blockedOn!==null)return!1;for(var s=e.targetContainers;0<s.length;){var a=Zd(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);qi=l,a.target.dispatchEvent(l),qi=null}else return s=ai(a),s!==null&&K0(s),e.blockedOn=a,!1;s.shift()}return!0}function $0(e,s,a){zc(e)&&a.delete(s)}function Zw(){Jd=!1,Us!==null&&zc(Us)&&(Us=null),ks!==null&&zc(ks)&&(ks=null),Bs!==null&&zc(Bs)&&(Bs=null),Rl.forEach($0),Cl.forEach($0)}function jc(e,s){e.blockedOn===s&&(e.blockedOn=null,Jd||(Jd=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Zw)))}var qc=null;function Z0(e){qc!==e&&(qc=e,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){qc===e&&(qc=null);for(var s=0;s<e.length;s+=3){var a=e[s],l=e[s+1],f=e[s+2];if(typeof l!="function"){if(Wd(l||a)===null)continue;break}var m=ai(a);m!==null&&(e.splice(s,3),s-=3,Wf(m,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function Dl(e){function s(x){return jc(x,e)}Us!==null&&jc(Us,e),ks!==null&&jc(ks,e),Bs!==null&&jc(Bs,e),Rl.forEach(s),Cl.forEach(s);for(var a=0;a<zs.length;a++){var l=zs[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<zs.length&&(a=zs[0],a.blockedOn===null);)X0(a),a.blockedOn===null&&zs.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],m=a[l+1],T=f[be]||null;if(typeof m=="function")T||Z0(a);else if(T){var S=null;if(m&&m.hasAttribute("formAction")){if(f=m,T=m[be]||null)S=T.formAction;else if(Wd(f)!==null)continue}else S=T.action;typeof S=="function"?a[l+1]=S:(a.splice(l,3),l-=3),Z0(a)}}}function tm(e){this._internalRoot=e}Fc.prototype.render=tm.prototype.render=function(e){var s=this._internalRoot;if(s===null)throw Error(r(409));var a=s.current,l=Dn();H0(a,l,e,s,null,null)},Fc.prototype.unmount=tm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var s=e.containerInfo;H0(e.current,2,null,e,null,null),bc(),s[Nn]=null}};function Fc(e){this._internalRoot=e}Fc.prototype.unstable_scheduleHydration=function(e){if(e){var s=ps();e={blockedOn:null,target:e,priority:s};for(var a=0;a<zs.length&&s!==0&&s<zs[a].priority;a++);zs.splice(a,0,e),a===0&&X0(e)}};var W0=t.version;if(W0!=="19.1.0")throw Error(r(527,W0,"19.1.0"));st.findDOMNode=function(e){var s=e._reactInternals;if(s===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=p(s),e=e!==null?g(e):null,e=e===null?null:e.stateNode,e};var Ww={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hc.isDisabled&&Hc.supportsFiber)try{de=Hc.inject(Ww),Kt=Hc}catch{}}return Il.createRoot=function(e,s){if(!o(e))throw Error(r(299));var a=!1,l="",f=mv,m=pv,T=gv,S=null;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(l=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(m=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(S=s.unstable_transitionCallbacks)),s=q0(e,1,!1,null,null,a,l,f,m,T,S,null),e[Nn]=s.current,Ld(e),new tm(s)},Il.hydrateRoot=function(e,s,a){if(!o(e))throw Error(r(299));var l=!1,f="",m=mv,T=pv,S=gv,x=null,z=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(T=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(x=a.unstable_transitionCallbacks),a.formState!==void 0&&(z=a.formState)),s=q0(e,1,!0,s,a??null,l,f,m,T,S,x,z),s.context=F0(null),a=s.current,l=Dn(),l=ms(l),f=Ss(l),f.callback=null,bs(a,f,l),a=l,s.current.lanes=a,Ui(s,a),Ti(s),e[Nn]=s.current,Ld(e),new Fc(s)},Il.version="19.1.0",Il}var l_;function lR(){if(l_)return im.exports;l_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),im.exports=oR(),im.exports}var uR=lR();const bp=at.createContext({});function wp(n){const t=at.useRef(null);return t.current===null&&(t.current=n()),t.current}const Rp=typeof window<"u",zE=Rp?at.useLayoutEffect:at.useEffect,Vh=at.createContext(null);function Cp(n,t){n.indexOf(t)===-1&&n.push(t)}function xp(n,t){const i=n.indexOf(t);i>-1&&n.splice(i,1)}const os=(n,t,i)=>i>t?t:i<n?n:i;let Dp=()=>{};const ls={},jE=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function qE(n){return typeof n=="object"&&n!==null}const FE=n=>/^0[^.\s]+$/u.test(n);function Vp(n){let t;return()=>(t===void 0&&(t=n()),t)}const Qn=n=>n,cR=(n,t)=>i=>t(n(i)),hu=(...n)=>n.reduce(cR),Ql=(n,t,i)=>{const r=t-n;return r===0?1:(i-n)/r};class Ip{constructor(){this.subscriptions=[]}add(t){return Cp(this.subscriptions,t),()=>xp(this.subscriptions,t)}notify(t,i,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,i,r);else for(let u=0;u<o;u++){const h=this.subscriptions[u];h&&h(t,i,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ai=n=>n*1e3,Si=n=>n/1e3;function HE(n,t){return t?n*(1e3/t):0}const GE=(n,t,i)=>(((1-3*i+3*t)*n+(3*i-6*t))*n+3*t)*n,hR=1e-7,fR=12;function dR(n,t,i,r,o){let u,h,d=0;do h=t+(i-t)/2,u=GE(h,r,o)-n,u>0?i=h:t=h;while(Math.abs(u)>hR&&++d<fR);return h}function fu(n,t,i,r){if(n===t&&i===r)return Qn;const o=u=>dR(u,0,1,n,i);return u=>u===0||u===1?u:GE(o(u),t,r)}const KE=n=>t=>t<=.5?n(2*t)/2:(2-n(2*(1-t)))/2,YE=n=>t=>1-n(1-t),QE=fu(.33,1.53,.69,.99),Mp=YE(QE),XE=KE(Mp),$E=n=>(n*=2)<1?.5*Mp(n):.5*(2-Math.pow(2,-10*(n-1))),Np=n=>1-Math.sin(Math.acos(n)),ZE=YE(Np),WE=KE(Np),mR=fu(.42,0,1,1),pR=fu(0,0,.58,1),JE=fu(.42,0,.58,1),gR=n=>Array.isArray(n)&&typeof n[0]!="number",t1=n=>Array.isArray(n)&&typeof n[0]=="number",yR={linear:Qn,easeIn:mR,easeInOut:JE,easeOut:pR,circIn:Np,circInOut:WE,circOut:ZE,backIn:Mp,backInOut:XE,backOut:QE,anticipate:$E},vR=n=>typeof n=="string",u_=n=>{if(t1(n)){Dp(n.length===4);const[t,i,r,o]=n;return fu(t,i,r,o)}else if(vR(n))return yR[n];return n},Gc=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],c_={value:null};function _R(n,t){let i=new Set,r=new Set,o=!1,u=!1;const h=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1},p=0;function g(E){h.has(E)&&(v.schedule(E),n()),p++,E(d)}const v={schedule:(E,A=!1,C=!1)=>{const j=C&&o?i:r;return A&&h.add(E),j.has(E)||j.add(E),E},cancel:E=>{r.delete(E),h.delete(E)},process:E=>{if(d=E,o){u=!0;return}o=!0,[i,r]=[r,i],i.forEach(g),t&&c_.value&&c_.value.frameloop[t].push(p),p=0,i.clear(),o=!1,u&&(u=!1,v.process(E))}};return v}const TR=40;function e1(n,t){let i=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},u=()=>i=!0,h=Gc.reduce((Q,ut)=>(Q[ut]=_R(u,t?ut:void 0),Q),{}),{setup:d,read:p,resolveKeyframes:g,preUpdate:v,update:E,preRender:A,render:C,postRender:P}=h,j=()=>{const Q=ls.useManualTiming?o.timestamp:performance.now();i=!1,ls.useManualTiming||(o.delta=r?1e3/60:Math.max(Math.min(Q-o.timestamp,TR),1)),o.timestamp=Q,o.isProcessing=!0,d.process(o),p.process(o),g.process(o),v.process(o),E.process(o),A.process(o),C.process(o),P.process(o),o.isProcessing=!1,i&&t&&(r=!1,n(j))},F=()=>{i=!0,r=!0,o.isProcessing||n(j)};return{schedule:Gc.reduce((Q,ut)=>{const it=h[ut];return Q[ut]=(ct,V=!1,w=!1)=>(i||F(),it.schedule(ct,V,w)),Q},{}),cancel:Q=>{for(let ut=0;ut<Gc.length;ut++)h[Gc[ut]].cancel(Q)},state:o,steps:h}}const{schedule:oe,cancel:Xs,state:$e,steps:om}=e1(typeof requestAnimationFrame<"u"?requestAnimationFrame:Qn,!0);let eh;function ER(){eh=void 0}const Tn={now:()=>(eh===void 0&&Tn.set($e.isProcessing||ls.useManualTiming?$e.timestamp:performance.now()),eh),set:n=>{eh=n,queueMicrotask(ER)}},n1=n=>t=>typeof t=="string"&&t.startsWith(n),Op=n1("--"),AR=n1("var(--"),Pp=n=>AR(n)?SR.test(n.split("/*")[0].trim()):!1,SR=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,yo={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},Xl={...yo,transform:n=>os(0,1,n)},Kc={...yo,default:1},Ul=n=>Math.round(n*1e5)/1e5,Lp=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function bR(n){return n==null}const wR=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Up=(n,t)=>i=>!!(typeof i=="string"&&wR.test(i)&&i.startsWith(n)||t&&!bR(i)&&Object.prototype.hasOwnProperty.call(i,t)),i1=(n,t,i)=>r=>{if(typeof r!="string")return r;const[o,u,h,d]=r.match(Lp);return{[n]:parseFloat(o),[t]:parseFloat(u),[i]:parseFloat(h),alpha:d!==void 0?parseFloat(d):1}},RR=n=>os(0,255,n),lm={...yo,transform:n=>Math.round(RR(n))},Kr={test:Up("rgb","red"),parse:i1("red","green","blue"),transform:({red:n,green:t,blue:i,alpha:r=1})=>"rgba("+lm.transform(n)+", "+lm.transform(t)+", "+lm.transform(i)+", "+Ul(Xl.transform(r))+")"};function CR(n){let t="",i="",r="",o="";return n.length>5?(t=n.substring(1,3),i=n.substring(3,5),r=n.substring(5,7),o=n.substring(7,9)):(t=n.substring(1,2),i=n.substring(2,3),r=n.substring(3,4),o=n.substring(4,5),t+=t,i+=i,r+=r,o+=o),{red:parseInt(t,16),green:parseInt(i,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const Nm={test:Up("#"),parse:CR,transform:Kr.transform},du=n=>({test:t=>typeof t=="string"&&t.endsWith(n)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${n}`}),qs=du("deg"),bi=du("%"),wt=du("px"),xR=du("vh"),DR=du("vw"),h_={...bi,parse:n=>bi.parse(n)/100,transform:n=>bi.transform(n*100)},Ja={test:Up("hsl","hue"),parse:i1("hue","saturation","lightness"),transform:({hue:n,saturation:t,lightness:i,alpha:r=1})=>"hsla("+Math.round(n)+", "+bi.transform(Ul(t))+", "+bi.transform(Ul(i))+", "+Ul(Xl.transform(r))+")"},De={test:n=>Kr.test(n)||Nm.test(n)||Ja.test(n),parse:n=>Kr.test(n)?Kr.parse(n):Ja.test(n)?Ja.parse(n):Nm.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?Kr.transform(n):Ja.transform(n),getAnimatableNone:n=>{const t=De.parse(n);return t.alpha=0,De.transform(t)}},VR=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function IR(n){var t,i;return isNaN(n)&&typeof n=="string"&&(((t=n.match(Lp))==null?void 0:t.length)||0)+(((i=n.match(VR))==null?void 0:i.length)||0)>0}const s1="number",r1="color",MR="var",NR="var(",f_="${}",OR=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function $l(n){const t=n.toString(),i=[],r={color:[],number:[],var:[]},o=[];let u=0;const d=t.replace(OR,p=>(De.test(p)?(r.color.push(u),o.push(r1),i.push(De.parse(p))):p.startsWith(NR)?(r.var.push(u),o.push(MR),i.push(p)):(r.number.push(u),o.push(s1),i.push(parseFloat(p))),++u,f_)).split(f_);return{values:i,split:d,indexes:r,types:o}}function a1(n){return $l(n).values}function o1(n){const{split:t,types:i}=$l(n),r=t.length;return o=>{let u="";for(let h=0;h<r;h++)if(u+=t[h],o[h]!==void 0){const d=i[h];d===s1?u+=Ul(o[h]):d===r1?u+=De.transform(o[h]):u+=o[h]}return u}}const PR=n=>typeof n=="number"?0:De.test(n)?De.getAnimatableNone(n):n;function LR(n){const t=a1(n);return o1(n)(t.map(PR))}const $s={test:IR,parse:a1,createTransformer:o1,getAnimatableNone:LR};function um(n,t,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?n+(t-n)*6*i:i<1/2?t:i<2/3?n+(t-n)*(2/3-i)*6:n}function UR({hue:n,saturation:t,lightness:i,alpha:r}){n/=360,t/=100,i/=100;let o=0,u=0,h=0;if(!t)o=u=h=i;else{const d=i<.5?i*(1+t):i+t-i*t,p=2*i-d;o=um(p,d,n+1/3),u=um(p,d,n),h=um(p,d,n-1/3)}return{red:Math.round(o*255),green:Math.round(u*255),blue:Math.round(h*255),alpha:r}}function hh(n,t){return i=>i>0?t:n}const ce=(n,t,i)=>n+(t-n)*i,cm=(n,t,i)=>{const r=n*n,o=i*(t*t-r)+r;return o<0?0:Math.sqrt(o)},kR=[Nm,Kr,Ja],BR=n=>kR.find(t=>t.test(n));function d_(n){const t=BR(n);if(!t)return!1;let i=t.parse(n);return t===Ja&&(i=UR(i)),i}const m_=(n,t)=>{const i=d_(n),r=d_(t);if(!i||!r)return hh(n,t);const o={...i};return u=>(o.red=cm(i.red,r.red,u),o.green=cm(i.green,r.green,u),o.blue=cm(i.blue,r.blue,u),o.alpha=ce(i.alpha,r.alpha,u),Kr.transform(o))},Om=new Set(["none","hidden"]);function zR(n,t){return Om.has(n)?i=>i<=0?n:t:i=>i>=1?t:n}function jR(n,t){return i=>ce(n,t,i)}function kp(n){return typeof n=="number"?jR:typeof n=="string"?Pp(n)?hh:De.test(n)?m_:HR:Array.isArray(n)?l1:typeof n=="object"?De.test(n)?m_:qR:hh}function l1(n,t){const i=[...n],r=i.length,o=n.map((u,h)=>kp(u)(u,t[h]));return u=>{for(let h=0;h<r;h++)i[h]=o[h](u);return i}}function qR(n,t){const i={...n,...t},r={};for(const o in i)n[o]!==void 0&&t[o]!==void 0&&(r[o]=kp(n[o])(n[o],t[o]));return o=>{for(const u in r)i[u]=r[u](o);return i}}function FR(n,t){const i=[],r={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){const u=t.types[o],h=n.indexes[u][r[u]],d=n.values[h]??0;i[o]=d,r[u]++}return i}const HR=(n,t)=>{const i=$s.createTransformer(t),r=$l(n),o=$l(t);return r.indexes.var.length===o.indexes.var.length&&r.indexes.color.length===o.indexes.color.length&&r.indexes.number.length>=o.indexes.number.length?Om.has(n)&&!o.values.length||Om.has(t)&&!r.values.length?zR(n,t):hu(l1(FR(r,o),o.values),i):hh(n,t)};function u1(n,t,i){return typeof n=="number"&&typeof t=="number"&&typeof i=="number"?ce(n,t,i):kp(n)(n,t)}const GR=n=>{const t=({timestamp:i})=>n(i);return{start:(i=!0)=>oe.update(t,i),stop:()=>Xs(t),now:()=>$e.isProcessing?$e.timestamp:Tn.now()}},c1=(n,t,i=10)=>{let r="";const o=Math.max(Math.round(t/i),2);for(let u=0;u<o;u++)r+=Math.round(n(u/(o-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},fh=2e4;function Bp(n){let t=0;const i=50;let r=n.next(t);for(;!r.done&&t<fh;)t+=i,r=n.next(t);return t>=fh?1/0:t}function KR(n,t=100,i){const r=i({...n,keyframes:[0,t]}),o=Math.min(Bp(r),fh);return{type:"keyframes",ease:u=>r.next(o*u).value/t,duration:Si(o)}}const YR=5;function h1(n,t,i){const r=Math.max(t-YR,0);return HE(i-n(r),t-r)}const ge={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},hm=.001;function QR({duration:n=ge.duration,bounce:t=ge.bounce,velocity:i=ge.velocity,mass:r=ge.mass}){let o,u,h=1-t;h=os(ge.minDamping,ge.maxDamping,h),n=os(ge.minDuration,ge.maxDuration,Si(n)),h<1?(o=g=>{const v=g*h,E=v*n,A=v-i,C=Pm(g,h),P=Math.exp(-E);return hm-A/C*P},u=g=>{const E=g*h*n,A=E*i+i,C=Math.pow(h,2)*Math.pow(g,2)*n,P=Math.exp(-E),j=Pm(Math.pow(g,2),h);return(-o(g)+hm>0?-1:1)*((A-C)*P)/j}):(o=g=>{const v=Math.exp(-g*n),E=(g-i)*n+1;return-hm+v*E},u=g=>{const v=Math.exp(-g*n),E=(i-g)*(n*n);return v*E});const d=5/n,p=$R(o,u,d);if(n=Ai(n),isNaN(p))return{stiffness:ge.stiffness,damping:ge.damping,duration:n};{const g=Math.pow(p,2)*r;return{stiffness:g,damping:h*2*Math.sqrt(r*g),duration:n}}}const XR=12;function $R(n,t,i){let r=i;for(let o=1;o<XR;o++)r=r-n(r)/t(r);return r}function Pm(n,t){return n*Math.sqrt(1-t*t)}const ZR=["duration","bounce"],WR=["stiffness","damping","mass"];function p_(n,t){return t.some(i=>n[i]!==void 0)}function JR(n){let t={velocity:ge.velocity,stiffness:ge.stiffness,damping:ge.damping,mass:ge.mass,isResolvedFromDuration:!1,...n};if(!p_(n,WR)&&p_(n,ZR))if(n.visualDuration){const i=n.visualDuration,r=2*Math.PI/(i*1.2),o=r*r,u=2*os(.05,1,1-(n.bounce||0))*Math.sqrt(o);t={...t,mass:ge.mass,stiffness:o,damping:u}}else{const i=QR(n);t={...t,...i,mass:ge.mass},t.isResolvedFromDuration=!0}return t}function dh(n=ge.visualDuration,t=ge.bounce){const i=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:t}:n;let{restSpeed:r,restDelta:o}=i;const u=i.keyframes[0],h=i.keyframes[i.keyframes.length-1],d={done:!1,value:u},{stiffness:p,damping:g,mass:v,duration:E,velocity:A,isResolvedFromDuration:C}=JR({...i,velocity:-Si(i.velocity||0)}),P=A||0,j=g/(2*Math.sqrt(p*v)),F=h-u,$=Si(Math.sqrt(p/v)),Z=Math.abs(F)<5;r||(r=Z?ge.restSpeed.granular:ge.restSpeed.default),o||(o=Z?ge.restDelta.granular:ge.restDelta.default);let Q;if(j<1){const it=Pm($,j);Q=ct=>{const V=Math.exp(-j*$*ct);return h-V*((P+j*$*F)/it*Math.sin(it*ct)+F*Math.cos(it*ct))}}else if(j===1)Q=it=>h-Math.exp(-$*it)*(F+(P+$*F)*it);else{const it=$*Math.sqrt(j*j-1);Q=ct=>{const V=Math.exp(-j*$*ct),w=Math.min(it*ct,300);return h-V*((P+j*$*F)*Math.sinh(w)+it*F*Math.cosh(w))/it}}const ut={calculatedDuration:C&&E||null,next:it=>{const ct=Q(it);if(C)d.done=it>=E;else{let V=it===0?P:0;j<1&&(V=it===0?Ai(P):h1(Q,it,ct));const w=Math.abs(V)<=r,R=Math.abs(h-ct)<=o;d.done=w&&R}return d.value=d.done?h:ct,d},toString:()=>{const it=Math.min(Bp(ut),fh),ct=c1(V=>ut.next(it*V).value,it,30);return it+"ms "+ct},toTransition:()=>{}};return ut}dh.applyToOptions=n=>{const t=KR(n,100,dh);return n.ease=t.ease,n.duration=Ai(t.duration),n.type="keyframes",n};function Lm({keyframes:n,velocity:t=0,power:i=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:u=500,modifyTarget:h,min:d,max:p,restDelta:g=.5,restSpeed:v}){const E=n[0],A={done:!1,value:E},C=w=>d!==void 0&&w<d||p!==void 0&&w>p,P=w=>d===void 0?p:p===void 0||Math.abs(d-w)<Math.abs(p-w)?d:p;let j=i*t;const F=E+j,$=h===void 0?F:h(F);$!==F&&(j=$-E);const Z=w=>-j*Math.exp(-w/r),Q=w=>$+Z(w),ut=w=>{const R=Z(w),M=Q(w);A.done=Math.abs(R)<=g,A.value=A.done?$:M};let it,ct;const V=w=>{C(A.value)&&(it=w,ct=dh({keyframes:[A.value,P(A.value)],velocity:h1(Q,w,A.value),damping:o,stiffness:u,restDelta:g,restSpeed:v}))};return V(0),{calculatedDuration:null,next:w=>{let R=!1;return!ct&&it===void 0&&(R=!0,ut(w),V(w)),it!==void 0&&w>=it?ct.next(w-it):(!R&&ut(w),A)}}}function t2(n,t,i){const r=[],o=i||ls.mix||u1,u=n.length-1;for(let h=0;h<u;h++){let d=o(n[h],n[h+1]);if(t){const p=Array.isArray(t)?t[h]||Qn:t;d=hu(p,d)}r.push(d)}return r}function e2(n,t,{clamp:i=!0,ease:r,mixer:o}={}){const u=n.length;if(Dp(u===t.length),u===1)return()=>t[0];if(u===2&&t[0]===t[1])return()=>t[1];const h=n[0]===n[1];n[0]>n[u-1]&&(n=[...n].reverse(),t=[...t].reverse());const d=t2(t,r,o),p=d.length,g=v=>{if(h&&v<n[0])return t[0];let E=0;if(p>1)for(;E<n.length-2&&!(v<n[E+1]);E++);const A=Ql(n[E],n[E+1],v);return d[E](A)};return i?v=>g(os(n[0],n[u-1],v)):g}function n2(n,t){const i=n[n.length-1];for(let r=1;r<=t;r++){const o=Ql(0,t,r);n.push(ce(i,1,o))}}function i2(n){const t=[0];return n2(t,n.length-1),t}function s2(n,t){return n.map(i=>i*t)}function r2(n,t){return n.map(()=>t||JE).splice(0,n.length-1)}function kl({duration:n=300,keyframes:t,times:i,ease:r="easeInOut"}){const o=gR(r)?r.map(u_):u_(r),u={done:!1,value:t[0]},h=s2(i&&i.length===t.length?i:i2(t),n),d=e2(h,t,{ease:Array.isArray(o)?o:r2(t,o)});return{calculatedDuration:n,next:p=>(u.value=d(p),u.done=p>=n,u)}}const a2=n=>n!==null;function zp(n,{repeat:t,repeatType:i="loop"},r,o=1){const u=n.filter(a2),d=o<0||t&&i!=="loop"&&t%2===1?0:u.length-1;return!d||r===void 0?u[d]:r}const o2={decay:Lm,inertia:Lm,tween:kl,keyframes:kl,spring:dh};function f1(n){typeof n.type=="string"&&(n.type=o2[n.type])}class jp{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,i){return this.finished.then(t,i)}}const l2=n=>n/100;class qp extends jp{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,o;const{motionValue:i}=this.options;i&&i.updatedAt!==Tn.now()&&this.tick(Tn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(o=(r=this.options).onStop)==null||o.call(r))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;f1(t);const{type:i=kl,repeat:r=0,repeatDelay:o=0,repeatType:u,velocity:h=0}=t;let{keyframes:d}=t;const p=i||kl;p!==kl&&typeof d[0]!="number"&&(this.mixKeyframes=hu(l2,u1(d[0],d[1])),d=[0,100]);const g=p({...t,keyframes:d});u==="mirror"&&(this.mirroredGenerator=p({...t,keyframes:[...d].reverse(),velocity:-h})),g.calculatedDuration===null&&(g.calculatedDuration=Bp(g));const{calculatedDuration:v}=g;this.calculatedDuration=v,this.resolvedDuration=v+o,this.totalDuration=this.resolvedDuration*(r+1)-o,this.generator=g}updateTime(t){const i=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=i}tick(t,i=!1){const{generator:r,totalDuration:o,mixKeyframes:u,mirroredGenerator:h,resolvedDuration:d,calculatedDuration:p}=this;if(this.startTime===null)return r.next(0);const{delay:g=0,keyframes:v,repeat:E,repeatType:A,repeatDelay:C,type:P,onUpdate:j,finalKeyframe:F}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-o/this.speed,this.startTime)),i?this.currentTime=t:this.updateTime(t);const $=this.currentTime-g*(this.playbackSpeed>=0?1:-1),Z=this.playbackSpeed>=0?$<0:$>o;this.currentTime=Math.max($,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let Q=this.currentTime,ut=r;if(E){const w=Math.min(this.currentTime,o)/d;let R=Math.floor(w),M=w%1;!M&&w>=1&&(M=1),M===1&&R--,R=Math.min(R,E+1),!!(R%2)&&(A==="reverse"?(M=1-M,C&&(M-=C/d)):A==="mirror"&&(ut=h)),Q=os(0,1,M)*d}const it=Z?{done:!1,value:v[0]}:ut.next(Q);u&&(it.value=u(it.value));let{done:ct}=it;!Z&&p!==null&&(ct=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const V=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ct);return V&&P!==Lm&&(it.value=zp(v,this.options,F,this.speed)),j&&j(it.value),V&&this.finish(),it}then(t,i){return this.finished.then(t,i)}get duration(){return Si(this.calculatedDuration)}get time(){return Si(this.currentTime)}set time(t){var i;t=Ai(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(i=this.driver)==null||i.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Tn.now());const i=this.playbackSpeed!==t;this.playbackSpeed=t,i&&(this.time=Si(this.currentTime))}play(){var o,u;if(this.isStopped)return;const{driver:t=GR,startTime:i}=this.options;this.driver||(this.driver=t(h=>this.tick(h))),(u=(o=this.options).onPlay)==null||u.call(o);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=i??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Tn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,i;this.notifyFinished(),this.teardown(),this.state="finished",(i=(t=this.options).onComplete)==null||i.call(t)}cancel(){var t,i;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(i=(t=this.options).onCancel)==null||i.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var i;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(i=this.driver)==null||i.stop(),t.observe(this)}}function u2(n){for(let t=1;t<n.length;t++)n[t]??(n[t]=n[t-1])}const Yr=n=>n*180/Math.PI,Um=n=>{const t=Yr(Math.atan2(n[1],n[0]));return km(t)},c2={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:Um,rotateZ:Um,skewX:n=>Yr(Math.atan(n[1])),skewY:n=>Yr(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},km=n=>(n=n%360,n<0&&(n+=360),n),g_=Um,y_=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),v_=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),h2={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:y_,scaleY:v_,scale:n=>(y_(n)+v_(n))/2,rotateX:n=>km(Yr(Math.atan2(n[6],n[5]))),rotateY:n=>km(Yr(Math.atan2(-n[2],n[0]))),rotateZ:g_,rotate:g_,skewX:n=>Yr(Math.atan(n[4])),skewY:n=>Yr(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function Bm(n){return n.includes("scale")?1:0}function zm(n,t){if(!n||n==="none")return Bm(t);const i=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,o;if(i)r=h2,o=i;else{const d=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=c2,o=d}if(!o)return Bm(t);const u=r[t],h=o[1].split(",").map(d2);return typeof u=="function"?u(h):h[u]}const f2=(n,t)=>{const{transform:i="none"}=getComputedStyle(n);return zm(i,t)};function d2(n){return parseFloat(n.trim())}const vo=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],_o=new Set(vo),__=n=>n===yo||n===wt,m2=new Set(["x","y","z"]),p2=vo.filter(n=>!m2.has(n));function g2(n){const t=[];return p2.forEach(i=>{const r=n.getValue(i);r!==void 0&&(t.push([i,r.get()]),r.set(i.startsWith("scale")?1:0))}),t}const $r={width:({x:n},{paddingLeft:t="0",paddingRight:i="0"})=>n.max-n.min-parseFloat(t)-parseFloat(i),height:({y:n},{paddingTop:t="0",paddingBottom:i="0"})=>n.max-n.min-parseFloat(t)-parseFloat(i),top:(n,{top:t})=>parseFloat(t),left:(n,{left:t})=>parseFloat(t),bottom:({y:n},{top:t})=>parseFloat(t)+(n.max-n.min),right:({x:n},{left:t})=>parseFloat(t)+(n.max-n.min),x:(n,{transform:t})=>zm(t,"x"),y:(n,{transform:t})=>zm(t,"y")};$r.translateX=$r.x;$r.translateY=$r.y;const Zr=new Set;let jm=!1,qm=!1,Fm=!1;function d1(){if(qm){const n=Array.from(Zr).filter(r=>r.needsMeasurement),t=new Set(n.map(r=>r.element)),i=new Map;t.forEach(r=>{const o=g2(r);o.length&&(i.set(r,o),r.render())}),n.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const o=i.get(r);o&&o.forEach(([u,h])=>{var d;(d=r.getValue(u))==null||d.set(h)})}),n.forEach(r=>r.measureEndState()),n.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}qm=!1,jm=!1,Zr.forEach(n=>n.complete(Fm)),Zr.clear()}function m1(){Zr.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(qm=!0)})}function y2(){Fm=!0,m1(),d1(),Fm=!1}class Fp{constructor(t,i,r,o,u,h=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=i,this.name=r,this.motionValue=o,this.element=u,this.isAsync=h}scheduleResolve(){this.state="scheduled",this.isAsync?(Zr.add(this),jm||(jm=!0,oe.read(m1),oe.resolveKeyframes(d1))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:i,element:r,motionValue:o}=this;if(t[0]===null){const u=o==null?void 0:o.get(),h=t[t.length-1];if(u!==void 0)t[0]=u;else if(r&&i){const d=r.readValue(i,h);d!=null&&(t[0]=d)}t[0]===void 0&&(t[0]=h),o&&u===void 0&&o.set(t[0])}u2(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Zr.delete(this)}cancel(){this.state==="scheduled"&&(Zr.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const v2=n=>n.startsWith("--");function _2(n,t,i){v2(t)?n.style.setProperty(t,i):n.style[t]=i}const T2=Vp(()=>window.ScrollTimeline!==void 0),E2={};function A2(n,t){const i=Vp(n);return()=>E2[t]??i()}const p1=A2(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Nl=([n,t,i,r])=>`cubic-bezier(${n}, ${t}, ${i}, ${r})`,T_={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Nl([0,.65,.55,1]),circOut:Nl([.55,0,1,.45]),backIn:Nl([.31,.01,.66,-.59]),backOut:Nl([.33,1.53,.69,.99])};function g1(n,t){if(n)return typeof n=="function"?p1()?c1(n,t):"ease-out":t1(n)?Nl(n):Array.isArray(n)?n.map(i=>g1(i,t)||T_.easeOut):T_[n]}function S2(n,t,i,{delay:r=0,duration:o=300,repeat:u=0,repeatType:h="loop",ease:d="easeOut",times:p}={},g=void 0){const v={[t]:i};p&&(v.offset=p);const E=g1(d,o);Array.isArray(E)&&(v.easing=E);const A={delay:r,duration:o,easing:Array.isArray(E)?"linear":E,fill:"both",iterations:u+1,direction:h==="reverse"?"alternate":"normal"};return g&&(A.pseudoElement=g),n.animate(v,A)}function y1(n){return typeof n=="function"&&"applyToOptions"in n}function b2({type:n,...t}){return y1(n)&&p1()?n.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class w2 extends jp{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:i,name:r,keyframes:o,pseudoElement:u,allowFlatten:h=!1,finalKeyframe:d,onComplete:p}=t;this.isPseudoElement=!!u,this.allowFlatten=h,this.options=t,Dp(typeof t.type!="string");const g=b2(t);this.animation=S2(i,r,o,g,u),g.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!u){const v=zp(o,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(v):_2(i,r,v),this.animation.cancel()}p==null||p(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,i;(i=(t=this.animation).finish)==null||i.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,i;this.isPseudoElement||(i=(t=this.animation).commitStyles)==null||i.call(t)}get duration(){var i,r;const t=((r=(i=this.animation.effect)==null?void 0:i.getComputedTiming)==null?void 0:r.call(i).duration)||0;return Si(Number(t))}get time(){return Si(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Ai(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:i}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&T2()?(this.animation.timeline=t,Qn):i(this)}}const v1={anticipate:$E,backInOut:XE,circInOut:WE};function R2(n){return n in v1}function C2(n){typeof n.ease=="string"&&R2(n.ease)&&(n.ease=v1[n.ease])}const E_=10;class x2 extends w2{constructor(t){C2(t),f1(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:i,onUpdate:r,onComplete:o,element:u,...h}=this.options;if(!i)return;if(t!==void 0){i.set(t);return}const d=new qp({...h,autoplay:!1}),p=Ai(this.finishedTime??this.time);i.setWithVelocity(d.sample(p-E_).value,d.sample(p).value,E_),d.stop()}}const A_=(n,t)=>t==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&($s.test(n)||n==="0")&&!n.startsWith("url("));function D2(n){const t=n[0];if(n.length===1)return!0;for(let i=0;i<n.length;i++)if(n[i]!==t)return!0}function V2(n,t,i,r){const o=n[0];if(o===null)return!1;if(t==="display"||t==="visibility")return!0;const u=n[n.length-1],h=A_(o,t),d=A_(u,t);return!h||!d?!1:D2(n)||(i==="spring"||y1(i))&&r}const I2=new Set(["opacity","clipPath","filter","transform"]),M2=Vp(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function N2(n){var v;const{motionValue:t,name:i,repeatDelay:r,repeatType:o,damping:u,type:h}=n;if(!(((v=t==null?void 0:t.owner)==null?void 0:v.current)instanceof HTMLElement))return!1;const{onUpdate:p,transformTemplate:g}=t.owner.getProps();return M2()&&i&&I2.has(i)&&(i!=="transform"||!g)&&!p&&!r&&o!=="mirror"&&u!==0&&h!=="inertia"}const O2=40;class P2 extends jp{constructor({autoplay:t=!0,delay:i=0,type:r="keyframes",repeat:o=0,repeatDelay:u=0,repeatType:h="loop",keyframes:d,name:p,motionValue:g,element:v,...E}){var P;super(),this.stop=()=>{var j,F;this._animation&&(this._animation.stop(),(j=this.stopTimeline)==null||j.call(this)),(F=this.keyframeResolver)==null||F.cancel()},this.createdAt=Tn.now();const A={autoplay:t,delay:i,type:r,repeat:o,repeatDelay:u,repeatType:h,name:p,motionValue:g,element:v,...E},C=(v==null?void 0:v.KeyframeResolver)||Fp;this.keyframeResolver=new C(d,(j,F,$)=>this.onKeyframesResolved(j,F,A,!$),p,g,v),(P=this.keyframeResolver)==null||P.scheduleResolve()}onKeyframesResolved(t,i,r,o){this.keyframeResolver=void 0;const{name:u,type:h,velocity:d,delay:p,isHandoff:g,onUpdate:v}=r;this.resolvedAt=Tn.now(),V2(t,u,h,d)||((ls.instantAnimations||!p)&&(v==null||v(zp(t,r,i))),t[0]=t[t.length-1],r.duration=0,r.repeat=0);const A={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>O2?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:i,...r,keyframes:t},C=!g&&N2(A)?new x2({...A,element:A.motionValue.owner.current}):new qp(A);C.finished.then(()=>this.notifyFinished()).catch(Qn),this.pendingTimeline&&(this.stopTimeline=C.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=C}get finished(){return this._animation?this.animation.finished:this._finished}then(t,i){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),y2()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const L2=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function U2(n){const t=L2.exec(n);if(!t)return[,];const[,i,r,o]=t;return[`--${i??r}`,o]}function _1(n,t,i=1){const[r,o]=U2(n);if(!r)return;const u=window.getComputedStyle(t).getPropertyValue(r);if(u){const h=u.trim();return jE(h)?parseFloat(h):h}return Pp(o)?_1(o,t,i+1):o}function Hp(n,t){return(n==null?void 0:n[t])??(n==null?void 0:n.default)??n}const T1=new Set(["width","height","top","left","right","bottom",...vo]),k2={test:n=>n==="auto",parse:n=>n},E1=n=>t=>t.test(n),A1=[yo,wt,bi,qs,DR,xR,k2],S_=n=>A1.find(E1(n));function B2(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||FE(n):!0}const z2=new Set(["brightness","contrast","saturate","opacity"]);function j2(n){const[t,i]=n.slice(0,-1).split("(");if(t==="drop-shadow")return n;const[r]=i.match(Lp)||[];if(!r)return n;const o=i.replace(r,"");let u=z2.has(t)?1:0;return r!==i&&(u*=100),t+"("+u+o+")"}const q2=/\b([a-z-]*)\(.*?\)/gu,Hm={...$s,getAnimatableNone:n=>{const t=n.match(q2);return t?t.map(j2).join(" "):n}},b_={...yo,transform:Math.round},F2={rotate:qs,rotateX:qs,rotateY:qs,rotateZ:qs,scale:Kc,scaleX:Kc,scaleY:Kc,scaleZ:Kc,skew:qs,skewX:qs,skewY:qs,distance:wt,translateX:wt,translateY:wt,translateZ:wt,x:wt,y:wt,z:wt,perspective:wt,transformPerspective:wt,opacity:Xl,originX:h_,originY:h_,originZ:wt},Gp={borderWidth:wt,borderTopWidth:wt,borderRightWidth:wt,borderBottomWidth:wt,borderLeftWidth:wt,borderRadius:wt,radius:wt,borderTopLeftRadius:wt,borderTopRightRadius:wt,borderBottomRightRadius:wt,borderBottomLeftRadius:wt,width:wt,maxWidth:wt,height:wt,maxHeight:wt,top:wt,right:wt,bottom:wt,left:wt,padding:wt,paddingTop:wt,paddingRight:wt,paddingBottom:wt,paddingLeft:wt,margin:wt,marginTop:wt,marginRight:wt,marginBottom:wt,marginLeft:wt,backgroundPositionX:wt,backgroundPositionY:wt,...F2,zIndex:b_,fillOpacity:Xl,strokeOpacity:Xl,numOctaves:b_},H2={...Gp,color:De,backgroundColor:De,outlineColor:De,fill:De,stroke:De,borderColor:De,borderTopColor:De,borderRightColor:De,borderBottomColor:De,borderLeftColor:De,filter:Hm,WebkitFilter:Hm},S1=n=>H2[n];function b1(n,t){let i=S1(n);return i!==Hm&&(i=$s),i.getAnimatableNone?i.getAnimatableNone(t):void 0}const G2=new Set(["auto","none","0"]);function K2(n,t,i){let r=0,o;for(;r<n.length&&!o;){const u=n[r];typeof u=="string"&&!G2.has(u)&&$l(u).values.length&&(o=n[r]),r++}if(o&&i)for(const u of t)n[u]=b1(i,o)}class Y2 extends Fp{constructor(t,i,r,o,u){super(t,i,r,o,u,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:i,name:r}=this;if(!i||!i.current)return;super.readKeyframes();for(let p=0;p<t.length;p++){let g=t[p];if(typeof g=="string"&&(g=g.trim(),Pp(g))){const v=_1(g,i.current);v!==void 0&&(t[p]=v),p===t.length-1&&(this.finalKeyframe=g)}}if(this.resolveNoneKeyframes(),!T1.has(r)||t.length!==2)return;const[o,u]=t,h=S_(o),d=S_(u);if(h!==d)if(__(h)&&__(d))for(let p=0;p<t.length;p++){const g=t[p];typeof g=="string"&&(t[p]=parseFloat(g))}else $r[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:i}=this,r=[];for(let o=0;o<t.length;o++)(t[o]===null||B2(t[o]))&&r.push(o);r.length&&K2(t,r,i)}measureInitialState(){const{element:t,unresolvedKeyframes:i,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=$r[r](t.measureViewportBox(),window.getComputedStyle(t.current)),i[0]=this.measuredOrigin;const o=i[i.length-1];o!==void 0&&t.getValue(r,o).jump(o,!1)}measureEndState(){var d;const{element:t,name:i,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const o=t.getValue(i);o&&o.jump(this.measuredOrigin,!1);const u=r.length-1,h=r[u];r[u]=$r[i](t.measureViewportBox(),window.getComputedStyle(t.current)),h!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=h),(d=this.removedTransforms)!=null&&d.length&&this.removedTransforms.forEach(([p,g])=>{t.getValue(p).set(g)}),this.resolveNoneKeyframes()}}function Q2(n,t,i){if(n instanceof EventTarget)return[n];if(typeof n=="string"){let r=document;const o=(i==null?void 0:i[n])??r.querySelectorAll(n);return o?Array.from(o):[]}return Array.from(n)}const w1=(n,t)=>t&&typeof n=="number"?t.transform(n):n;function R1(n){return qE(n)&&"offsetHeight"in n}const w_=30,X2=n=>!isNaN(parseFloat(n));class $2{constructor(t,i={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,o=!0)=>{var h,d;const u=Tn.now();if(this.updatedAt!==u&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((h=this.events.change)==null||h.notify(this.current),this.dependents))for(const p of this.dependents)p.dirty();o&&((d=this.events.renderRequest)==null||d.notify(this.current))},this.hasAnimated=!1,this.setCurrent(t),this.owner=i.owner}setCurrent(t){this.current=t,this.updatedAt=Tn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=X2(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,i){this.events[t]||(this.events[t]=new Ip);const r=this.events[t].add(i);return t==="change"?()=>{r(),oe.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,i){this.passiveEffect=t,this.stopPassiveEffect=i}set(t,i=!0){!i||!this.passiveEffect?this.updateAndNotify(t,i):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,i,r){this.set(i),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,i=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,i&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Tn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>w_)return 0;const i=Math.min(this.updatedAt-this.prevUpdatedAt,w_);return HE(parseFloat(this.current)-parseFloat(this.prevFrameValue),i)}start(t){return this.stop(),new Promise(i=>{this.hasAnimated=!0,this.animation=t(i),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,i;(t=this.dependents)==null||t.clear(),(i=this.events.destroy)==null||i.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function oo(n,t){return new $2(n,t)}const{schedule:Kp}=e1(queueMicrotask,!1),ii={x:!1,y:!1};function C1(){return ii.x||ii.y}function Z2(n){return n==="x"||n==="y"?ii[n]?null:(ii[n]=!0,()=>{ii[n]=!1}):ii.x||ii.y?null:(ii.x=ii.y=!0,()=>{ii.x=ii.y=!1})}function x1(n,t){const i=Q2(n),r=new AbortController,o={passive:!0,...t,signal:r.signal};return[i,o,()=>r.abort()]}function R_(n){return!(n.pointerType==="touch"||C1())}function W2(n,t,i={}){const[r,o,u]=x1(n,i),h=d=>{if(!R_(d))return;const{target:p}=d,g=t(p,d);if(typeof g!="function"||!p)return;const v=E=>{R_(E)&&(g(E),p.removeEventListener("pointerleave",v))};p.addEventListener("pointerleave",v,o)};return r.forEach(d=>{d.addEventListener("pointerenter",h,o)}),u}const D1=(n,t)=>t?n===t?!0:D1(n,t.parentElement):!1,Yp=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,J2=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function tC(n){return J2.has(n.tagName)||n.tabIndex!==-1}const nh=new WeakSet;function C_(n){return t=>{t.key==="Enter"&&n(t)}}function fm(n,t){n.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const eC=(n,t)=>{const i=n.currentTarget;if(!i)return;const r=C_(()=>{if(nh.has(i))return;fm(i,"down");const o=C_(()=>{fm(i,"up")}),u=()=>fm(i,"cancel");i.addEventListener("keyup",o,t),i.addEventListener("blur",u,t)});i.addEventListener("keydown",r,t),i.addEventListener("blur",()=>i.removeEventListener("keydown",r),t)};function x_(n){return Yp(n)&&!C1()}function nC(n,t,i={}){const[r,o,u]=x1(n,i),h=d=>{const p=d.currentTarget;if(!x_(d))return;nh.add(p);const g=t(p,d),v=(C,P)=>{window.removeEventListener("pointerup",E),window.removeEventListener("pointercancel",A),nh.has(p)&&nh.delete(p),x_(C)&&typeof g=="function"&&g(C,{success:P})},E=C=>{v(C,p===window||p===document||i.useGlobalTarget||D1(p,C.target))},A=C=>{v(C,!1)};window.addEventListener("pointerup",E,o),window.addEventListener("pointercancel",A,o)};return r.forEach(d=>{(i.useGlobalTarget?window:d).addEventListener("pointerdown",h,o),R1(d)&&(d.addEventListener("focus",g=>eC(g,o)),!tC(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),u}function V1(n){return qE(n)&&"ownerSVGElement"in n}function iC(n){return V1(n)&&n.tagName==="svg"}const un=n=>!!(n&&n.getVelocity),sC=[...A1,De,$s],rC=n=>sC.find(E1(n)),Qp=at.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});class aC extends at.Component{getSnapshotBeforeUpdate(t){const i=this.props.childRef.current;if(i&&t.isPresent&&!this.props.isPresent){const r=i.offsetParent,o=R1(r)&&r.offsetWidth||0,u=this.props.sizeRef.current;u.height=i.offsetHeight||0,u.width=i.offsetWidth||0,u.top=i.offsetTop,u.left=i.offsetLeft,u.right=o-u.width-u.left}return null}componentDidUpdate(){}render(){return this.props.children}}function oC({children:n,isPresent:t,anchorX:i,root:r}){const o=at.useId(),u=at.useRef(null),h=at.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:d}=at.useContext(Qp);return at.useInsertionEffect(()=>{const{width:p,height:g,top:v,left:E,right:A}=h.current;if(t||!u.current||!p||!g)return;const C=i==="left"?`left: ${E}`:`right: ${A}`;u.current.dataset.motionPopId=o;const P=document.createElement("style");d&&(P.nonce=d);const j=r??document.head;return j.appendChild(P),P.sheet&&P.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${p}px !important;
            height: ${g}px !important;
            ${C}px !important;
            top: ${v}px !important;
          }
        `),()=>{j.removeChild(P),j.contains(P)&&j.removeChild(P)}},[t]),nt.jsx(aC,{isPresent:t,childRef:u,sizeRef:h,children:at.cloneElement(n,{ref:u})})}const lC=({children:n,initial:t,isPresent:i,onExitComplete:r,custom:o,presenceAffectsLayout:u,mode:h,anchorX:d,root:p})=>{const g=wp(uC),v=at.useId();let E=!0,A=at.useMemo(()=>(E=!1,{id:v,initial:t,isPresent:i,custom:o,onExitComplete:C=>{g.set(C,!0);for(const P of g.values())if(!P)return;r&&r()},register:C=>(g.set(C,!1),()=>g.delete(C))}),[i,g,r]);return u&&E&&(A={...A}),at.useMemo(()=>{g.forEach((C,P)=>g.set(P,!1))},[i]),at.useEffect(()=>{!i&&!g.size&&r&&r()},[i]),h==="popLayout"&&(n=nt.jsx(oC,{isPresent:i,anchorX:d,root:p,children:n})),nt.jsx(Vh.Provider,{value:A,children:n})};function uC(){return new Map}function I1(n=!0){const t=at.useContext(Vh);if(t===null)return[!0,null];const{isPresent:i,onExitComplete:r,register:o}=t,u=at.useId();at.useEffect(()=>{if(n)return o(u)},[n]);const h=at.useCallback(()=>n&&r&&r(u),[u,r,n]);return!i&&r?[!1,h]:[!0]}const Yc=n=>n.key||"";function D_(n){const t=[];return at.Children.forEach(n,i=>{at.isValidElement(i)&&t.push(i)}),t}const cC=({children:n,custom:t,initial:i=!0,onExitComplete:r,presenceAffectsLayout:o=!0,mode:u="sync",propagate:h=!1,anchorX:d="left",root:p})=>{const[g,v]=I1(h),E=at.useMemo(()=>D_(n),[n]),A=h&&!g?[]:E.map(Yc),C=at.useRef(!0),P=at.useRef(E),j=wp(()=>new Map),[F,$]=at.useState(E),[Z,Q]=at.useState(E);zE(()=>{C.current=!1,P.current=E;for(let ct=0;ct<Z.length;ct++){const V=Yc(Z[ct]);A.includes(V)?j.delete(V):j.get(V)!==!0&&j.set(V,!1)}},[Z,A.length,A.join("-")]);const ut=[];if(E!==F){let ct=[...E];for(let V=0;V<Z.length;V++){const w=Z[V],R=Yc(w);A.includes(R)||(ct.splice(V,0,w),ut.push(w))}return u==="wait"&&ut.length&&(ct=ut),Q(D_(ct)),$(E),null}const{forceRender:it}=at.useContext(bp);return nt.jsx(nt.Fragment,{children:Z.map(ct=>{const V=Yc(ct),w=h&&!g?!1:E===Z||A.includes(V),R=()=>{if(j.has(V))j.set(V,!0);else return;let M=!0;j.forEach(O=>{O||(M=!1)}),M&&(it==null||it(),Q(P.current),h&&(v==null||v()),r&&r())};return nt.jsx(lC,{isPresent:w,initial:!C.current||i?void 0:!1,custom:t,presenceAffectsLayout:o,mode:u,root:p,onExitComplete:w?void 0:R,anchorX:d,children:ct},V)})})},M1=at.createContext({strict:!1}),V_={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},lo={};for(const n in V_)lo[n]={isEnabled:t=>V_[n].some(i=>!!t[i])};function hC(n){for(const t in n)lo[t]={...lo[t],...n[t]}}const fC=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function mh(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||fC.has(n)}let N1=n=>!mh(n);function dC(n){typeof n=="function"&&(N1=t=>t.startsWith("on")?!mh(t):n(t))}try{dC(require("@emotion/is-prop-valid").default)}catch{}function mC(n,t,i){const r={};for(const o in n)o==="values"&&typeof n.values=="object"||(N1(o)||i===!0&&mh(o)||!t&&!mh(o)||n.draggable&&o.startsWith("onDrag"))&&(r[o]=n[o]);return r}function pC(n){if(typeof Proxy>"u")return n;const t=new Map,i=(...r)=>n(...r);return new Proxy(i,{get:(r,o)=>o==="create"?n:(t.has(o)||t.set(o,n(o)),t.get(o))})}const Ih=at.createContext({});function Mh(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function Zl(n){return typeof n=="string"||Array.isArray(n)}const Xp=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],$p=["initial",...Xp];function Nh(n){return Mh(n.animate)||$p.some(t=>Zl(n[t]))}function O1(n){return!!(Nh(n)||n.variants)}function gC(n,t){if(Nh(n)){const{initial:i,animate:r}=n;return{initial:i===!1||Zl(i)?i:void 0,animate:Zl(r)?r:void 0}}return n.inherit!==!1?t:{}}function yC(n){const{initial:t,animate:i}=gC(n,at.useContext(Ih));return at.useMemo(()=>({initial:t,animate:i}),[I_(t),I_(i)])}function I_(n){return Array.isArray(n)?n.join(" "):n}const vC=Symbol.for("motionComponentSymbol");function to(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function _C(n,t,i){return at.useCallback(r=>{r&&n.onMount&&n.onMount(r),t&&(r?t.mount(r):t.unmount()),i&&(typeof i=="function"?i(r):to(i)&&(i.current=r))},[t])}const Zp=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),TC="framerAppearId",P1="data-"+Zp(TC),L1=at.createContext({});function EC(n,t,i,r,o){var j,F;const{visualElement:u}=at.useContext(Ih),h=at.useContext(M1),d=at.useContext(Vh),p=at.useContext(Qp).reducedMotion,g=at.useRef(null);r=r||h.renderer,!g.current&&r&&(g.current=r(n,{visualState:t,parent:u,props:i,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:p}));const v=g.current,E=at.useContext(L1);v&&!v.projection&&o&&(v.type==="html"||v.type==="svg")&&AC(g.current,i,o,E);const A=at.useRef(!1);at.useInsertionEffect(()=>{v&&A.current&&v.update(i,d)});const C=i[P1],P=at.useRef(!!C&&!((j=window.MotionHandoffIsComplete)!=null&&j.call(window,C))&&((F=window.MotionHasOptimisedAnimation)==null?void 0:F.call(window,C)));return zE(()=>{v&&(A.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),Kp.render(v.render),P.current&&v.animationState&&v.animationState.animateChanges())}),at.useEffect(()=>{v&&(!P.current&&v.animationState&&v.animationState.animateChanges(),P.current&&(queueMicrotask(()=>{var $;($=window.MotionHandoffMarkAsComplete)==null||$.call(window,C)}),P.current=!1))}),v}function AC(n,t,i,r){const{layoutId:o,layout:u,drag:h,dragConstraints:d,layoutScroll:p,layoutRoot:g,layoutCrossfade:v}=t;n.projection=new i(n.latestValues,t["data-framer-portal-id"]?void 0:U1(n.parent)),n.projection.setOptions({layoutId:o,layout:u,alwaysMeasureLayout:!!h||d&&to(d),visualElement:n,animationType:typeof u=="string"?u:"both",initialPromotionConfig:r,crossfade:v,layoutScroll:p,layoutRoot:g})}function U1(n){if(n)return n.options.allowProjection!==!1?n.projection:U1(n.parent)}function SC({preloadedFeatures:n,createVisualElement:t,useRender:i,useVisualState:r,Component:o}){n&&hC(n);function u(d,p){let g;const v={...at.useContext(Qp),...d,layoutId:bC(d)},{isStatic:E}=v,A=yC(d),C=r(d,E);if(!E&&Rp){wC();const P=RC(v);g=P.MeasureLayout,A.visualElement=EC(o,C,v,t,P.ProjectionNode)}return nt.jsxs(Ih.Provider,{value:A,children:[g&&A.visualElement?nt.jsx(g,{visualElement:A.visualElement,...v}):null,i(o,d,_C(C,A.visualElement,p),C,E,A.visualElement)]})}u.displayName=`motion.${typeof o=="string"?o:`create(${o.displayName??o.name??""})`}`;const h=at.forwardRef(u);return h[vC]=o,h}function bC({layoutId:n}){const t=at.useContext(bp).id;return t&&n!==void 0?t+"-"+n:n}function wC(n,t){at.useContext(M1).strict}function RC(n){const{drag:t,layout:i}=lo;if(!t&&!i)return{};const r={...t,...i};return{MeasureLayout:t!=null&&t.isEnabled(n)||i!=null&&i.isEnabled(n)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const Wl={};function CC(n){for(const t in n)Wl[t]=n[t],Op(t)&&(Wl[t].isCSSVariable=!0)}function k1(n,{layout:t,layoutId:i}){return _o.has(n)||n.startsWith("origin")||(t||i!==void 0)&&(!!Wl[n]||n==="opacity")}const xC={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},DC=vo.length;function VC(n,t,i){let r="",o=!0;for(let u=0;u<DC;u++){const h=vo[u],d=n[h];if(d===void 0)continue;let p=!0;if(typeof d=="number"?p=d===(h.startsWith("scale")?1:0):p=parseFloat(d)===0,!p||i){const g=w1(d,Gp[h]);if(!p){o=!1;const v=xC[h]||h;r+=`${v}(${g}) `}i&&(t[h]=g)}}return r=r.trim(),i?r=i(t,o?"":r):o&&(r="none"),r}function Wp(n,t,i){const{style:r,vars:o,transformOrigin:u}=n;let h=!1,d=!1;for(const p in t){const g=t[p];if(_o.has(p)){h=!0;continue}else if(Op(p)){o[p]=g;continue}else{const v=w1(g,Gp[p]);p.startsWith("origin")?(d=!0,u[p]=v):r[p]=v}}if(t.transform||(h||i?r.transform=VC(t,n.transform,i):r.transform&&(r.transform="none")),d){const{originX:p="50%",originY:g="50%",originZ:v=0}=u;r.transformOrigin=`${p} ${g} ${v}`}}const Jp=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function B1(n,t,i){for(const r in t)!un(t[r])&&!k1(r,i)&&(n[r]=t[r])}function IC({transformTemplate:n},t){return at.useMemo(()=>{const i=Jp();return Wp(i,t,n),Object.assign({},i.vars,i.style)},[t])}function MC(n,t){const i=n.style||{},r={};return B1(r,i,n),Object.assign(r,IC(n,t)),r}function NC(n,t){const i={},r=MC(n,t);return n.drag&&n.dragListener!==!1&&(i.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(i.tabIndex=0),i.style=r,i}const OC={offset:"stroke-dashoffset",array:"stroke-dasharray"},PC={offset:"strokeDashoffset",array:"strokeDasharray"};function LC(n,t,i=1,r=0,o=!0){n.pathLength=1;const u=o?OC:PC;n[u.offset]=wt.transform(-r);const h=wt.transform(t),d=wt.transform(i);n[u.array]=`${h} ${d}`}function z1(n,{attrX:t,attrY:i,attrScale:r,pathLength:o,pathSpacing:u=1,pathOffset:h=0,...d},p,g,v){if(Wp(n,d,g),p){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:E,style:A}=n;E.transform&&(A.transform=E.transform,delete E.transform),(A.transform||E.transformOrigin)&&(A.transformOrigin=E.transformOrigin??"50% 50%",delete E.transformOrigin),A.transform&&(A.transformBox=(v==null?void 0:v.transformBox)??"fill-box",delete E.transformBox),t!==void 0&&(E.x=t),i!==void 0&&(E.y=i),r!==void 0&&(E.scale=r),o!==void 0&&LC(E,o,u,h,!1)}const j1=()=>({...Jp(),attrs:{}}),q1=n=>typeof n=="string"&&n.toLowerCase()==="svg";function UC(n,t,i,r){const o=at.useMemo(()=>{const u=j1();return z1(u,t,q1(r),n.transformTemplate,n.style),{...u.attrs,style:{...u.style}}},[t]);if(n.style){const u={};B1(u,n.style,n),o.style={...u,...o.style}}return o}const kC=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function tg(n){return typeof n!="string"||n.includes("-")?!1:!!(kC.indexOf(n)>-1||/[A-Z]/u.test(n))}function BC(n=!1){return(i,r,o,{latestValues:u},h)=>{const p=(tg(i)?UC:NC)(r,u,h,i),g=mC(r,typeof i=="string",n),v=i!==at.Fragment?{...g,...p,ref:o}:{},{children:E}=r,A=at.useMemo(()=>un(E)?E.get():E,[E]);return at.createElement(i,{...v,children:A})}}function M_(n){const t=[{},{}];return n==null||n.values.forEach((i,r)=>{t[0][r]=i.get(),t[1][r]=i.getVelocity()}),t}function eg(n,t,i,r){if(typeof t=="function"){const[o,u]=M_(r);t=t(i!==void 0?i:n.custom,o,u)}if(typeof t=="string"&&(t=n.variants&&n.variants[t]),typeof t=="function"){const[o,u]=M_(r);t=t(i!==void 0?i:n.custom,o,u)}return t}function ih(n){return un(n)?n.get():n}function zC({scrapeMotionValuesFromProps:n,createRenderState:t},i,r,o){return{latestValues:jC(i,r,o,n),renderState:t()}}const F1=n=>(t,i)=>{const r=at.useContext(Ih),o=at.useContext(Vh),u=()=>zC(n,t,r,o);return i?u():wp(u)};function jC(n,t,i,r){const o={},u=r(n,{});for(const A in u)o[A]=ih(u[A]);let{initial:h,animate:d}=n;const p=Nh(n),g=O1(n);t&&g&&!p&&n.inherit!==!1&&(h===void 0&&(h=t.initial),d===void 0&&(d=t.animate));let v=i?i.initial===!1:!1;v=v||h===!1;const E=v?d:h;if(E&&typeof E!="boolean"&&!Mh(E)){const A=Array.isArray(E)?E:[E];for(let C=0;C<A.length;C++){const P=eg(n,A[C]);if(P){const{transitionEnd:j,transition:F,...$}=P;for(const Z in $){let Q=$[Z];if(Array.isArray(Q)){const ut=v?Q.length-1:0;Q=Q[ut]}Q!==null&&(o[Z]=Q)}for(const Z in j)o[Z]=j[Z]}}}return o}function ng(n,t,i){var u;const{style:r}=n,o={};for(const h in r)(un(r[h])||t.style&&un(t.style[h])||k1(h,n)||((u=i==null?void 0:i.getValue(h))==null?void 0:u.liveStyle)!==void 0)&&(o[h]=r[h]);return o}const qC={useVisualState:F1({scrapeMotionValuesFromProps:ng,createRenderState:Jp})};function H1(n,t,i){const r=ng(n,t,i);for(const o in n)if(un(n[o])||un(t[o])){const u=vo.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;r[u]=n[o]}return r}const FC={useVisualState:F1({scrapeMotionValuesFromProps:H1,createRenderState:j1})};function HC(n,t){return function(r,{forwardMotionProps:o}={forwardMotionProps:!1}){const h={...tg(r)?FC:qC,preloadedFeatures:n,useRender:BC(o),createVisualElement:t,Component:r};return SC(h)}}function Jl(n,t,i){const r=n.getProps();return eg(r,t,i!==void 0?i:r.custom,n)}const Gm=n=>Array.isArray(n);function GC(n,t,i){n.hasValue(t)?n.getValue(t).set(i):n.addValue(t,oo(i))}function KC(n){return Gm(n)?n[n.length-1]||0:n}function YC(n,t){const i=Jl(n,t);let{transitionEnd:r={},transition:o={},...u}=i||{};u={...u,...r};for(const h in u){const d=KC(u[h]);GC(n,h,d)}}function QC(n){return!!(un(n)&&n.add)}function Km(n,t){const i=n.getValue("willChange");if(QC(i))return i.add(t);if(!i&&ls.WillChange){const r=new ls.WillChange("auto");n.addValue("willChange",r),r.add(t)}}function G1(n){return n.props[P1]}const XC=n=>n!==null;function $C(n,{repeat:t,repeatType:i="loop"},r){const o=n.filter(XC),u=t&&i!=="loop"&&t%2===1?0:o.length-1;return o[u]}const ZC={type:"spring",stiffness:500,damping:25,restSpeed:10},WC=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),JC={type:"keyframes",duration:.8},tx={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},ex=(n,{keyframes:t})=>t.length>2?JC:_o.has(n)?n.startsWith("scale")?WC(t[1]):ZC:tx;function nx({when:n,delay:t,delayChildren:i,staggerChildren:r,staggerDirection:o,repeat:u,repeatType:h,repeatDelay:d,from:p,elapsed:g,...v}){return!!Object.keys(v).length}const ig=(n,t,i,r={},o,u)=>h=>{const d=Hp(r,n)||{},p=d.delay||r.delay||0;let{elapsed:g=0}=r;g=g-Ai(p);const v={keyframes:Array.isArray(i)?i:[null,i],ease:"easeOut",velocity:t.getVelocity(),...d,delay:-g,onUpdate:A=>{t.set(A),d.onUpdate&&d.onUpdate(A)},onComplete:()=>{h(),d.onComplete&&d.onComplete()},name:n,motionValue:t,element:u?void 0:o};nx(d)||Object.assign(v,ex(n,v)),v.duration&&(v.duration=Ai(v.duration)),v.repeatDelay&&(v.repeatDelay=Ai(v.repeatDelay)),v.from!==void 0&&(v.keyframes[0]=v.from);let E=!1;if((v.type===!1||v.duration===0&&!v.repeatDelay)&&(v.duration=0,v.delay===0&&(E=!0)),(ls.instantAnimations||ls.skipAnimations)&&(E=!0,v.duration=0,v.delay=0),v.allowFlatten=!d.type&&!d.ease,E&&!u&&t.get()!==void 0){const A=$C(v.keyframes,d);if(A!==void 0){oe.update(()=>{v.onUpdate(A),v.onComplete()});return}}return d.isSync?new qp(v):new P2(v)};function ix({protectedKeys:n,needsAnimating:t},i){const r=n.hasOwnProperty(i)&&t[i]!==!0;return t[i]=!1,r}function K1(n,t,{delay:i=0,transitionOverride:r,type:o}={}){let{transition:u=n.getDefaultTransition(),transitionEnd:h,...d}=t;r&&(u=r);const p=[],g=o&&n.animationState&&n.animationState.getState()[o];for(const v in d){const E=n.getValue(v,n.latestValues[v]??null),A=d[v];if(A===void 0||g&&ix(g,v))continue;const C={delay:i,...Hp(u||{},v)},P=E.get();if(P!==void 0&&!E.isAnimating&&!Array.isArray(A)&&A===P&&!C.velocity)continue;let j=!1;if(window.MotionHandoffAnimation){const $=G1(n);if($){const Z=window.MotionHandoffAnimation($,v,oe);Z!==null&&(C.startTime=Z,j=!0)}}Km(n,v),E.start(ig(v,E,A,n.shouldReduceMotion&&T1.has(v)?{type:!1}:C,n,j));const F=E.animation;F&&p.push(F)}return h&&Promise.all(p).then(()=>{oe.update(()=>{h&&YC(n,h)})}),p}function Ym(n,t,i={}){var p;const r=Jl(n,t,i.type==="exit"?(p=n.presenceContext)==null?void 0:p.custom:void 0);let{transition:o=n.getDefaultTransition()||{}}=r||{};i.transitionOverride&&(o=i.transitionOverride);const u=r?()=>Promise.all(K1(n,r,i)):()=>Promise.resolve(),h=n.variantChildren&&n.variantChildren.size?(g=0)=>{const{delayChildren:v=0,staggerChildren:E,staggerDirection:A}=o;return sx(n,t,g,v,E,A,i)}:()=>Promise.resolve(),{when:d}=o;if(d){const[g,v]=d==="beforeChildren"?[u,h]:[h,u];return g().then(()=>v())}else return Promise.all([u(),h(i.delay)])}function sx(n,t,i=0,r=0,o=0,u=1,h){const d=[],p=n.variantChildren.size,g=(p-1)*o,v=typeof r=="function",E=v?A=>r(A,p):u===1?(A=0)=>A*o:(A=0)=>g-A*o;return Array.from(n.variantChildren).sort(rx).forEach((A,C)=>{A.notify("AnimationStart",t),d.push(Ym(A,t,{...h,delay:i+(v?0:r)+E(C)}).then(()=>A.notify("AnimationComplete",t)))}),Promise.all(d)}function rx(n,t){return n.sortNodePosition(t)}function ax(n,t,i={}){n.notify("AnimationStart",t);let r;if(Array.isArray(t)){const o=t.map(u=>Ym(n,u,i));r=Promise.all(o)}else if(typeof t=="string")r=Ym(n,t,i);else{const o=typeof t=="function"?Jl(n,t,i.custom):t;r=Promise.all(K1(n,o,i))}return r.then(()=>{n.notify("AnimationComplete",t)})}function Y1(n,t){if(!Array.isArray(t))return!1;const i=t.length;if(i!==n.length)return!1;for(let r=0;r<i;r++)if(t[r]!==n[r])return!1;return!0}const ox=$p.length;function Q1(n){if(!n)return;if(!n.isControllingVariants){const i=n.parent?Q1(n.parent)||{}:{};return n.props.initial!==void 0&&(i.initial=n.props.initial),i}const t={};for(let i=0;i<ox;i++){const r=$p[i],o=n.props[r];(Zl(o)||o===!1)&&(t[r]=o)}return t}const lx=[...Xp].reverse(),ux=Xp.length;function cx(n){return t=>Promise.all(t.map(({animation:i,options:r})=>ax(n,i,r)))}function hx(n){let t=cx(n),i=N_(),r=!0;const o=p=>(g,v)=>{var A;const E=Jl(n,v,p==="exit"?(A=n.presenceContext)==null?void 0:A.custom:void 0);if(E){const{transition:C,transitionEnd:P,...j}=E;g={...g,...j,...P}}return g};function u(p){t=p(n)}function h(p){const{props:g}=n,v=Q1(n.parent)||{},E=[],A=new Set;let C={},P=1/0;for(let F=0;F<ux;F++){const $=lx[F],Z=i[$],Q=g[$]!==void 0?g[$]:v[$],ut=Zl(Q),it=$===p?Z.isActive:null;it===!1&&(P=F);let ct=Q===v[$]&&Q!==g[$]&&ut;if(ct&&r&&n.manuallyAnimateOnMount&&(ct=!1),Z.protectedKeys={...C},!Z.isActive&&it===null||!Q&&!Z.prevProp||Mh(Q)||typeof Q=="boolean")continue;const V=fx(Z.prevProp,Q);let w=V||$===p&&Z.isActive&&!ct&&ut||F>P&&ut,R=!1;const M=Array.isArray(Q)?Q:[Q];let O=M.reduce(o($),{});it===!1&&(O={});const{prevResolvedValues:L={}}=Z,D={...L,...O},fe=st=>{w=!0,A.has(st)&&(R=!0,A.delete(st)),Z.needsAnimating[st]=!0;const ft=n.getValue(st);ft&&(ft.liveStyle=!1)};for(const st in D){const ft=O[st],Mt=L[st];if(C.hasOwnProperty(st))continue;let I=!1;Gm(ft)&&Gm(Mt)?I=!Y1(ft,Mt):I=ft!==Mt,I?ft!=null?fe(st):A.add(st):ft!==void 0&&A.has(st)?fe(st):Z.protectedKeys[st]=!0}Z.prevProp=Q,Z.prevResolvedValues=O,Z.isActive&&(C={...C,...O}),r&&n.blockInitialAnimation&&(w=!1),w&&(!(ct&&V)||R)&&E.push(...M.map(st=>({animation:st,options:{type:$}})))}if(A.size){const F={};if(typeof g.initial!="boolean"){const $=Jl(n,Array.isArray(g.initial)?g.initial[0]:g.initial);$&&$.transition&&(F.transition=$.transition)}A.forEach($=>{const Z=n.getBaseTarget($),Q=n.getValue($);Q&&(Q.liveStyle=!0),F[$]=Z??null}),E.push({animation:F})}let j=!!E.length;return r&&(g.initial===!1||g.initial===g.animate)&&!n.manuallyAnimateOnMount&&(j=!1),r=!1,j?t(E):Promise.resolve()}function d(p,g){var E;if(i[p].isActive===g)return Promise.resolve();(E=n.variantChildren)==null||E.forEach(A=>{var C;return(C=A.animationState)==null?void 0:C.setActive(p,g)}),i[p].isActive=g;const v=h(p);for(const A in i)i[A].protectedKeys={};return v}return{animateChanges:h,setActive:d,setAnimateFunction:u,getState:()=>i,reset:()=>{i=N_(),r=!0}}}function fx(n,t){return typeof t=="string"?t!==n:Array.isArray(t)?!Y1(t,n):!1}function qr(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function N_(){return{animate:qr(!0),whileInView:qr(),whileHover:qr(),whileTap:qr(),whileDrag:qr(),whileFocus:qr(),exit:qr()}}class sr{constructor(t){this.isMounted=!1,this.node=t}update(){}}class dx extends sr{constructor(t){super(t),t.animationState||(t.animationState=hx(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Mh(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:i}=this.node.prevProps||{};t!==i&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let mx=0;class px extends sr{constructor(){super(...arguments),this.id=mx++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:i}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const o=this.node.animationState.setActive("exit",!t);i&&!t&&o.then(()=>{i(this.id)})}mount(){const{register:t,onExitComplete:i}=this.node.presenceContext||{};i&&i(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const gx={animation:{Feature:dx},exit:{Feature:px}};function tu(n,t,i,r={passive:!0}){return n.addEventListener(t,i,r),()=>n.removeEventListener(t,i)}function mu(n){return{point:{x:n.pageX,y:n.pageY}}}const yx=n=>t=>Yp(t)&&n(t,mu(t));function Bl(n,t,i,r){return tu(n,t,yx(i),r)}function X1({top:n,left:t,right:i,bottom:r}){return{x:{min:t,max:i},y:{min:n,max:r}}}function vx({x:n,y:t}){return{top:t.min,right:n.max,bottom:t.max,left:n.min}}function _x(n,t){if(!t)return n;const i=t({x:n.left,y:n.top}),r=t({x:n.right,y:n.bottom});return{top:i.y,left:i.x,bottom:r.y,right:r.x}}const $1=1e-4,Tx=1-$1,Ex=1+$1,Z1=.01,Ax=0-Z1,Sx=0+Z1;function mn(n){return n.max-n.min}function bx(n,t,i){return Math.abs(n-t)<=i}function O_(n,t,i,r=.5){n.origin=r,n.originPoint=ce(t.min,t.max,n.origin),n.scale=mn(i)/mn(t),n.translate=ce(i.min,i.max,n.origin)-n.originPoint,(n.scale>=Tx&&n.scale<=Ex||isNaN(n.scale))&&(n.scale=1),(n.translate>=Ax&&n.translate<=Sx||isNaN(n.translate))&&(n.translate=0)}function zl(n,t,i,r){O_(n.x,t.x,i.x,r?r.originX:void 0),O_(n.y,t.y,i.y,r?r.originY:void 0)}function P_(n,t,i){n.min=i.min+t.min,n.max=n.min+mn(t)}function wx(n,t,i){P_(n.x,t.x,i.x),P_(n.y,t.y,i.y)}function L_(n,t,i){n.min=t.min-i.min,n.max=n.min+mn(t)}function jl(n,t,i){L_(n.x,t.x,i.x),L_(n.y,t.y,i.y)}const U_=()=>({translate:0,scale:1,origin:0,originPoint:0}),eo=()=>({x:U_(),y:U_()}),k_=()=>({min:0,max:0}),Ee=()=>({x:k_(),y:k_()});function Kn(n){return[n("x"),n("y")]}function dm(n){return n===void 0||n===1}function Qm({scale:n,scaleX:t,scaleY:i}){return!dm(n)||!dm(t)||!dm(i)}function Hr(n){return Qm(n)||W1(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function W1(n){return B_(n.x)||B_(n.y)}function B_(n){return n&&n!=="0%"}function ph(n,t,i){const r=n-i,o=t*r;return i+o}function z_(n,t,i,r,o){return o!==void 0&&(n=ph(n,o,r)),ph(n,i,r)+t}function Xm(n,t=0,i=1,r,o){n.min=z_(n.min,t,i,r,o),n.max=z_(n.max,t,i,r,o)}function J1(n,{x:t,y:i}){Xm(n.x,t.translate,t.scale,t.originPoint),Xm(n.y,i.translate,i.scale,i.originPoint)}const j_=.999999999999,q_=1.0000000000001;function Rx(n,t,i,r=!1){const o=i.length;if(!o)return;t.x=t.y=1;let u,h;for(let d=0;d<o;d++){u=i[d],h=u.projectionDelta;const{visualElement:p}=u.options;p&&p.props.style&&p.props.style.display==="contents"||(r&&u.options.layoutScroll&&u.scroll&&u!==u.root&&io(n,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),h&&(t.x*=h.x.scale,t.y*=h.y.scale,J1(n,h)),r&&Hr(u.latestValues)&&io(n,u.latestValues))}t.x<q_&&t.x>j_&&(t.x=1),t.y<q_&&t.y>j_&&(t.y=1)}function no(n,t){n.min=n.min+t,n.max=n.max+t}function F_(n,t,i,r,o=.5){const u=ce(n.min,n.max,o);Xm(n,t,i,u,r)}function io(n,t){F_(n.x,t.x,t.scaleX,t.scale,t.originX),F_(n.y,t.y,t.scaleY,t.scale,t.originY)}function tA(n,t){return X1(_x(n.getBoundingClientRect(),t))}function Cx(n,t,i){const r=tA(n,i),{scroll:o}=t;return o&&(no(r.x,o.offset.x),no(r.y,o.offset.y)),r}const eA=({current:n})=>n?n.ownerDocument.defaultView:null,H_=(n,t)=>Math.abs(n-t);function xx(n,t){const i=H_(n.x,t.x),r=H_(n.y,t.y);return Math.sqrt(i**2+r**2)}class nA{constructor(t,i,{transformPagePoint:r,contextWindow:o=window,dragSnapToOrigin:u=!1,distanceThreshold:h=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const A=pm(this.lastMoveEventInfo,this.history),C=this.startEvent!==null,P=xx(A.offset,{x:0,y:0})>=this.distanceThreshold;if(!C&&!P)return;const{point:j}=A,{timestamp:F}=$e;this.history.push({...j,timestamp:F});const{onStart:$,onMove:Z}=this.handlers;C||($&&$(this.lastMoveEvent,A),this.startEvent=this.lastMoveEvent),Z&&Z(this.lastMoveEvent,A)},this.handlePointerMove=(A,C)=>{this.lastMoveEvent=A,this.lastMoveEventInfo=mm(C,this.transformPagePoint),oe.update(this.updatePoint,!0)},this.handlePointerUp=(A,C)=>{this.end();const{onEnd:P,onSessionEnd:j,resumeAnimation:F}=this.handlers;if(this.dragSnapToOrigin&&F&&F(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const $=pm(A.type==="pointercancel"?this.lastMoveEventInfo:mm(C,this.transformPagePoint),this.history);this.startEvent&&P&&P(A,$),j&&j(A,$)},!Yp(t))return;this.dragSnapToOrigin=u,this.handlers=i,this.transformPagePoint=r,this.distanceThreshold=h,this.contextWindow=o||window;const d=mu(t),p=mm(d,this.transformPagePoint),{point:g}=p,{timestamp:v}=$e;this.history=[{...g,timestamp:v}];const{onSessionStart:E}=i;E&&E(t,pm(p,this.history)),this.removeListeners=hu(Bl(this.contextWindow,"pointermove",this.handlePointerMove),Bl(this.contextWindow,"pointerup",this.handlePointerUp),Bl(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Xs(this.updatePoint)}}function mm(n,t){return t?{point:t(n.point)}:n}function G_(n,t){return{x:n.x-t.x,y:n.y-t.y}}function pm({point:n},t){return{point:n,delta:G_(n,iA(t)),offset:G_(n,Dx(t)),velocity:Vx(t,.1)}}function Dx(n){return n[0]}function iA(n){return n[n.length-1]}function Vx(n,t){if(n.length<2)return{x:0,y:0};let i=n.length-1,r=null;const o=iA(n);for(;i>=0&&(r=n[i],!(o.timestamp-r.timestamp>Ai(t)));)i--;if(!r)return{x:0,y:0};const u=Si(o.timestamp-r.timestamp);if(u===0)return{x:0,y:0};const h={x:(o.x-r.x)/u,y:(o.y-r.y)/u};return h.x===1/0&&(h.x=0),h.y===1/0&&(h.y=0),h}function Ix(n,{min:t,max:i},r){return t!==void 0&&n<t?n=r?ce(t,n,r.min):Math.max(n,t):i!==void 0&&n>i&&(n=r?ce(i,n,r.max):Math.min(n,i)),n}function K_(n,t,i){return{min:t!==void 0?n.min+t:void 0,max:i!==void 0?n.max+i-(n.max-n.min):void 0}}function Mx(n,{top:t,left:i,bottom:r,right:o}){return{x:K_(n.x,i,o),y:K_(n.y,t,r)}}function Y_(n,t){let i=t.min-n.min,r=t.max-n.max;return t.max-t.min<n.max-n.min&&([i,r]=[r,i]),{min:i,max:r}}function Nx(n,t){return{x:Y_(n.x,t.x),y:Y_(n.y,t.y)}}function Ox(n,t){let i=.5;const r=mn(n),o=mn(t);return o>r?i=Ql(t.min,t.max-r,n.min):r>o&&(i=Ql(n.min,n.max-o,t.min)),os(0,1,i)}function Px(n,t){const i={};return t.min!==void 0&&(i.min=t.min-n.min),t.max!==void 0&&(i.max=t.max-n.min),i}const $m=.35;function Lx(n=$m){return n===!1?n=0:n===!0&&(n=$m),{x:Q_(n,"left","right"),y:Q_(n,"top","bottom")}}function Q_(n,t,i){return{min:X_(n,t),max:X_(n,i)}}function X_(n,t){return typeof n=="number"?n:n[t]||0}const Ux=new WeakMap;class kx{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ee(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:i=!1,distanceThreshold:r}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const u=E=>{const{dragSnapToOrigin:A}=this.getProps();A?this.pauseAnimation():this.stopAnimation(),i&&this.snapToCursor(mu(E).point)},h=(E,A)=>{const{drag:C,dragPropagation:P,onDragStart:j}=this.getProps();if(C&&!P&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Z2(C),!this.openDragLock))return;this.latestPointerEvent=E,this.latestPanInfo=A,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Kn($=>{let Z=this.getAxisMotionValue($).get()||0;if(bi.test(Z)){const{projection:Q}=this.visualElement;if(Q&&Q.layout){const ut=Q.layout.layoutBox[$];ut&&(Z=mn(ut)*(parseFloat(Z)/100))}}this.originPoint[$]=Z}),j&&oe.postRender(()=>j(E,A)),Km(this.visualElement,"transform");const{animationState:F}=this.visualElement;F&&F.setActive("whileDrag",!0)},d=(E,A)=>{this.latestPointerEvent=E,this.latestPanInfo=A;const{dragPropagation:C,dragDirectionLock:P,onDirectionLock:j,onDrag:F}=this.getProps();if(!C&&!this.openDragLock)return;const{offset:$}=A;if(P&&this.currentDirection===null){this.currentDirection=Bx($),this.currentDirection!==null&&j&&j(this.currentDirection);return}this.updateAxis("x",A.point,$),this.updateAxis("y",A.point,$),this.visualElement.render(),F&&F(E,A)},p=(E,A)=>{this.latestPointerEvent=E,this.latestPanInfo=A,this.stop(E,A),this.latestPointerEvent=null,this.latestPanInfo=null},g=()=>Kn(E=>{var A;return this.getAnimationState(E)==="paused"&&((A=this.getAxisMotionValue(E).animation)==null?void 0:A.play())}),{dragSnapToOrigin:v}=this.getProps();this.panSession=new nA(t,{onSessionStart:u,onStart:h,onMove:d,onSessionEnd:p,resumeAnimation:g},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:v,distanceThreshold:r,contextWindow:eA(this.visualElement)})}stop(t,i){const r=t||this.latestPointerEvent,o=i||this.latestPanInfo,u=this.isDragging;if(this.cancel(),!u||!o||!r)return;const{velocity:h}=o;this.startAnimation(h);const{onDragEnd:d}=this.getProps();d&&oe.postRender(()=>d(r,o))}cancel(){this.isDragging=!1;const{projection:t,animationState:i}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),i&&i.setActive("whileDrag",!1)}updateAxis(t,i,r){const{drag:o}=this.getProps();if(!r||!Qc(t,o,this.currentDirection))return;const u=this.getAxisMotionValue(t);let h=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(h=Ix(h,this.constraints[t],this.elastic[t])),u.set(h)}resolveConstraints(){var u;const{dragConstraints:t,dragElastic:i}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(u=this.visualElement.projection)==null?void 0:u.layout,o=this.constraints;t&&to(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=Mx(r.layoutBox,t):this.constraints=!1,this.elastic=Lx(i),o!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Kn(h=>{this.constraints!==!1&&this.getAxisMotionValue(h)&&(this.constraints[h]=Px(r.layoutBox[h],this.constraints[h]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:i}=this.getProps();if(!t||!to(t))return!1;const r=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const u=Cx(r,o.root,this.visualElement.getTransformPagePoint());let h=Nx(o.layout.layoutBox,u);if(i){const d=i(vx(h));this.hasMutatedConstraints=!!d,d&&(h=X1(d))}return h}startAnimation(t){const{drag:i,dragMomentum:r,dragElastic:o,dragTransition:u,dragSnapToOrigin:h,onDragTransitionEnd:d}=this.getProps(),p=this.constraints||{},g=Kn(v=>{if(!Qc(v,i,this.currentDirection))return;let E=p&&p[v]||{};h&&(E={min:0,max:0});const A=o?200:1e6,C=o?40:1e7,P={type:"inertia",velocity:r?t[v]:0,bounceStiffness:A,bounceDamping:C,timeConstant:750,restDelta:1,restSpeed:10,...u,...E};return this.startAxisValueAnimation(v,P)});return Promise.all(g).then(d)}startAxisValueAnimation(t,i){const r=this.getAxisMotionValue(t);return Km(this.visualElement,t),r.start(ig(t,r,0,i,this.visualElement,!1))}stopAnimation(){Kn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Kn(t=>{var i;return(i=this.getAxisMotionValue(t).animation)==null?void 0:i.pause()})}getAnimationState(t){var i;return(i=this.getAxisMotionValue(t).animation)==null?void 0:i.state}getAxisMotionValue(t){const i=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),o=r[i];return o||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Kn(i=>{const{drag:r}=this.getProps();if(!Qc(i,r,this.currentDirection))return;const{projection:o}=this.visualElement,u=this.getAxisMotionValue(i);if(o&&o.layout){const{min:h,max:d}=o.layout.layoutBox[i];u.set(t[i]-ce(h,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:i}=this.getProps(),{projection:r}=this.visualElement;if(!to(i)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};Kn(h=>{const d=this.getAxisMotionValue(h);if(d&&this.constraints!==!1){const p=d.get();o[h]=Ox({min:p,max:p},this.constraints[h])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Kn(h=>{if(!Qc(h,t,null))return;const d=this.getAxisMotionValue(h),{min:p,max:g}=this.constraints[h];d.set(ce(p,g,o[h]))})}addListeners(){if(!this.visualElement.current)return;Ux.set(this.visualElement,this);const t=this.visualElement.current,i=Bl(t,"pointerdown",p=>{const{drag:g,dragListener:v=!0}=this.getProps();g&&v&&this.start(p)}),r=()=>{const{dragConstraints:p}=this.getProps();to(p)&&p.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,u=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),oe.read(r);const h=tu(window,"resize",()=>this.scalePositionWithinConstraints()),d=o.addEventListener("didUpdate",({delta:p,hasLayoutChanged:g})=>{this.isDragging&&g&&(Kn(v=>{const E=this.getAxisMotionValue(v);E&&(this.originPoint[v]+=p[v].translate,E.set(E.get()+p[v].translate))}),this.visualElement.render())});return()=>{h(),i(),u(),d&&d()}}getProps(){const t=this.visualElement.getProps(),{drag:i=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:u=!1,dragElastic:h=$m,dragMomentum:d=!0}=t;return{...t,drag:i,dragDirectionLock:r,dragPropagation:o,dragConstraints:u,dragElastic:h,dragMomentum:d}}}function Qc(n,t,i){return(t===!0||t===n)&&(i===null||i===n)}function Bx(n,t=10){let i=null;return Math.abs(n.y)>t?i="y":Math.abs(n.x)>t&&(i="x"),i}class zx extends sr{constructor(t){super(t),this.removeGroupControls=Qn,this.removeListeners=Qn,this.controls=new kx(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Qn}unmount(){this.removeGroupControls(),this.removeListeners()}}const $_=n=>(t,i)=>{n&&oe.postRender(()=>n(t,i))};class jx extends sr{constructor(){super(...arguments),this.removePointerDownListener=Qn}onPointerDown(t){this.session=new nA(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:eA(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:i,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:$_(t),onStart:$_(i),onMove:r,onEnd:(u,h)=>{delete this.session,o&&oe.postRender(()=>o(u,h))}}}mount(){this.removePointerDownListener=Bl(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const sh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Z_(n,t){return t.max===t.min?0:n/(t.max-t.min)*100}const Ml={correct:(n,t)=>{if(!t.target)return n;if(typeof n=="string")if(wt.test(n))n=parseFloat(n);else return n;const i=Z_(n,t.target.x),r=Z_(n,t.target.y);return`${i}% ${r}%`}},qx={correct:(n,{treeScale:t,projectionDelta:i})=>{const r=n,o=$s.parse(n);if(o.length>5)return r;const u=$s.createTransformer(n),h=typeof o[0]!="number"?1:0,d=i.x.scale*t.x,p=i.y.scale*t.y;o[0+h]/=d,o[1+h]/=p;const g=ce(d,p,.5);return typeof o[2+h]=="number"&&(o[2+h]/=g),typeof o[3+h]=="number"&&(o[3+h]/=g),u(o)}};let W_=!1;class Fx extends at.Component{componentDidMount(){const{visualElement:t,layoutGroup:i,switchLayoutGroup:r,layoutId:o}=this.props,{projection:u}=t;CC(Hx),u&&(i.group&&i.group.add(u),r&&r.register&&o&&r.register(u),W_&&u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,onExitComplete:()=>this.safeToRemove()})),sh.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:i,visualElement:r,drag:o,isPresent:u}=this.props,{projection:h}=r;return h&&(h.isPresent=u,W_=!0,o||t.layoutDependency!==i||i===void 0||t.isPresent!==u?h.willUpdate():this.safeToRemove(),t.isPresent!==u&&(u?h.promote():h.relegate()||oe.postRender(()=>{const d=h.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Kp.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:i,switchLayoutGroup:r}=this.props,{projection:o}=t;o&&(o.scheduleCheckAfterUnmount(),i&&i.group&&i.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function sA(n){const[t,i]=I1(),r=at.useContext(bp);return nt.jsx(Fx,{...n,layoutGroup:r,switchLayoutGroup:at.useContext(L1),isPresent:t,safeToRemove:i})}const Hx={borderRadius:{...Ml,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ml,borderTopRightRadius:Ml,borderBottomLeftRadius:Ml,borderBottomRightRadius:Ml,boxShadow:qx};function Gx(n,t,i){const r=un(n)?n:oo(n);return r.start(ig("",r,t,i)),r.animation}const Kx=(n,t)=>n.depth-t.depth;class Yx{constructor(){this.children=[],this.isDirty=!1}add(t){Cp(this.children,t),this.isDirty=!0}remove(t){xp(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(Kx),this.isDirty=!1,this.children.forEach(t)}}function Qx(n,t){const i=Tn.now(),r=({timestamp:o})=>{const u=o-i;u>=t&&(Xs(r),n(u-t))};return oe.setup(r,!0),()=>Xs(r)}const rA=["TopLeft","TopRight","BottomLeft","BottomRight"],Xx=rA.length,J_=n=>typeof n=="string"?parseFloat(n):n,tT=n=>typeof n=="number"||wt.test(n);function $x(n,t,i,r,o,u){o?(n.opacity=ce(0,i.opacity??1,Zx(r)),n.opacityExit=ce(t.opacity??1,0,Wx(r))):u&&(n.opacity=ce(t.opacity??1,i.opacity??1,r));for(let h=0;h<Xx;h++){const d=`border${rA[h]}Radius`;let p=eT(t,d),g=eT(i,d);if(p===void 0&&g===void 0)continue;p||(p=0),g||(g=0),p===0||g===0||tT(p)===tT(g)?(n[d]=Math.max(ce(J_(p),J_(g),r),0),(bi.test(g)||bi.test(p))&&(n[d]+="%")):n[d]=g}(t.rotate||i.rotate)&&(n.rotate=ce(t.rotate||0,i.rotate||0,r))}function eT(n,t){return n[t]!==void 0?n[t]:n.borderRadius}const Zx=aA(0,.5,ZE),Wx=aA(.5,.95,Qn);function aA(n,t,i){return r=>r<n?0:r>t?1:i(Ql(n,t,r))}function nT(n,t){n.min=t.min,n.max=t.max}function Gn(n,t){nT(n.x,t.x),nT(n.y,t.y)}function iT(n,t){n.translate=t.translate,n.scale=t.scale,n.originPoint=t.originPoint,n.origin=t.origin}function sT(n,t,i,r,o){return n-=t,n=ph(n,1/i,r),o!==void 0&&(n=ph(n,1/o,r)),n}function Jx(n,t=0,i=1,r=.5,o,u=n,h=n){if(bi.test(t)&&(t=parseFloat(t),t=ce(h.min,h.max,t/100)-h.min),typeof t!="number")return;let d=ce(u.min,u.max,r);n===u&&(d-=t),n.min=sT(n.min,t,i,d,o),n.max=sT(n.max,t,i,d,o)}function rT(n,t,[i,r,o],u,h){Jx(n,t[i],t[r],t[o],t.scale,u,h)}const tD=["x","scaleX","originX"],eD=["y","scaleY","originY"];function aT(n,t,i,r){rT(n.x,t,tD,i?i.x:void 0,r?r.x:void 0),rT(n.y,t,eD,i?i.y:void 0,r?r.y:void 0)}function oT(n){return n.translate===0&&n.scale===1}function oA(n){return oT(n.x)&&oT(n.y)}function lT(n,t){return n.min===t.min&&n.max===t.max}function nD(n,t){return lT(n.x,t.x)&&lT(n.y,t.y)}function uT(n,t){return Math.round(n.min)===Math.round(t.min)&&Math.round(n.max)===Math.round(t.max)}function lA(n,t){return uT(n.x,t.x)&&uT(n.y,t.y)}function cT(n){return mn(n.x)/mn(n.y)}function hT(n,t){return n.translate===t.translate&&n.scale===t.scale&&n.originPoint===t.originPoint}class iD{constructor(){this.members=[]}add(t){Cp(this.members,t),t.scheduleRender()}remove(t){if(xp(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const i=this.members[this.members.length-1];i&&this.promote(i)}}relegate(t){const i=this.members.findIndex(o=>t===o);if(i===0)return!1;let r;for(let o=i;o>=0;o--){const u=this.members[o];if(u.isPresent!==!1){r=u;break}}return r?(this.promote(r),!0):!1}promote(t,i){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,i&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:o}=t.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:i,resumingFrom:r}=t;i.onExitComplete&&i.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function sD(n,t,i){let r="";const o=n.x.translate/t.x,u=n.y.translate/t.y,h=(i==null?void 0:i.z)||0;if((o||u||h)&&(r=`translate3d(${o}px, ${u}px, ${h}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),i){const{transformPerspective:g,rotate:v,rotateX:E,rotateY:A,skewX:C,skewY:P}=i;g&&(r=`perspective(${g}px) ${r}`),v&&(r+=`rotate(${v}deg) `),E&&(r+=`rotateX(${E}deg) `),A&&(r+=`rotateY(${A}deg) `),C&&(r+=`skewX(${C}deg) `),P&&(r+=`skewY(${P}deg) `)}const d=n.x.scale*t.x,p=n.y.scale*t.y;return(d!==1||p!==1)&&(r+=`scale(${d}, ${p})`),r||"none"}const gm=["","X","Y","Z"],rD=1e3;let aD=0;function ym(n,t,i,r){const{latestValues:o}=t;o[n]&&(i[n]=o[n],t.setStaticValue(n,0),r&&(r[n]=0))}function uA(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:t}=n.options;if(!t)return;const i=G1(t);if(window.MotionHasOptimisedAnimation(i,"transform")){const{layout:o,layoutId:u}=n.options;window.MotionCancelOptimisedAnimation(i,"transform",oe,!(o||u))}const{parent:r}=n;r&&!r.hasCheckedOptimisedAppear&&uA(r)}function cA({attachResizeListener:n,defaultParent:t,measureScroll:i,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(h={},d=t==null?void 0:t()){this.id=aD++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(uD),this.nodes.forEach(dD),this.nodes.forEach(mD),this.nodes.forEach(cD)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=h,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let p=0;p<this.path.length;p++)this.path[p].shouldResetTransform=!0;this.root===this&&(this.nodes=new Yx)}addEventListener(h,d){return this.eventHandlers.has(h)||this.eventHandlers.set(h,new Ip),this.eventHandlers.get(h).add(d)}notifyListeners(h,...d){const p=this.eventHandlers.get(h);p&&p.notify(...d)}hasListeners(h){return this.eventHandlers.has(h)}mount(h){if(this.instance)return;this.isSVG=V1(h)&&!iC(h),this.instance=h;const{layoutId:d,layout:p,visualElement:g}=this.options;if(g&&!g.current&&g.mount(h),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(p||d)&&(this.isLayoutDirty=!0),n){let v,E=0;const A=()=>this.root.updateBlockedByResize=!1;oe.read(()=>{E=window.innerWidth}),n(h,()=>{const C=window.innerWidth;C!==E&&(E=C,this.root.updateBlockedByResize=!0,v&&v(),v=Qx(A,250),sh.hasAnimatedSinceResize&&(sh.hasAnimatedSinceResize=!1,this.nodes.forEach(mT)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&g&&(d||p)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:E,hasRelativeLayoutChanged:A,layout:C})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const P=this.options.transition||g.getDefaultTransition()||_D,{onLayoutAnimationStart:j,onLayoutAnimationComplete:F}=g.getProps(),$=!this.targetLayout||!lA(this.targetLayout,C),Z=!E&&A;if(this.options.layoutRoot||this.resumeFrom||Z||E&&($||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const Q={...Hp(P,"layout"),onPlay:j,onComplete:F};(g.shouldReduceMotion||this.options.layoutRoot)&&(Q.delay=0,Q.type=!1),this.startAnimation(Q),this.setAnimationOrigin(v,Z)}else E||mT(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=C})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const h=this.getStack();h&&h.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Xs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(pD),this.animationId++)}getTransformTemplate(){const{visualElement:h}=this.options;return h&&h.getProps().transformTemplate}willUpdate(h=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&uA(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let v=0;v<this.path.length;v++){const E=this.path[v];E.shouldResetTransform=!0,E.updateScroll("snapshot"),E.options.layoutRoot&&E.willUpdate(!1)}const{layoutId:d,layout:p}=this.options;if(d===void 0&&!p)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),h&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(fT);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(dT);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(fD),this.nodes.forEach(oD),this.nodes.forEach(lD)):this.nodes.forEach(dT),this.clearAllSnapshots();const d=Tn.now();$e.delta=os(0,1e3/60,d-$e.timestamp),$e.timestamp=d,$e.isProcessing=!0,om.update.process($e),om.preRender.process($e),om.render.process($e),$e.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Kp.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(hD),this.sharedNodes.forEach(gD)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,oe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){oe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!mn(this.snapshot.measuredBox.x)&&!mn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let p=0;p<this.path.length;p++)this.path[p].updateScroll();const h=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ee(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,h?h.layoutBox:void 0)}updateScroll(h="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===h&&(d=!1),d&&this.instance){const p=r(this.instance);this.scroll={animationId:this.root.animationId,phase:h,isRoot:p,offset:i(this.instance),wasRoot:this.scroll?this.scroll.isRoot:p}}}resetTransform(){if(!o)return;const h=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!oA(this.projectionDelta),p=this.getTransformTemplate(),g=p?p(this.latestValues,""):void 0,v=g!==this.prevTransformTemplateValue;h&&this.instance&&(d||Hr(this.latestValues)||v)&&(o(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(h=!0){const d=this.measurePageBox();let p=this.removeElementScroll(d);return h&&(p=this.removeTransform(p)),TD(p),{animationId:this.root.animationId,measuredBox:d,layoutBox:p,latestValues:{},source:this.id}}measurePageBox(){var g;const{visualElement:h}=this.options;if(!h)return Ee();const d=h.measureViewportBox();if(!(((g=this.scroll)==null?void 0:g.wasRoot)||this.path.some(ED))){const{scroll:v}=this.root;v&&(no(d.x,v.offset.x),no(d.y,v.offset.y))}return d}removeElementScroll(h){var p;const d=Ee();if(Gn(d,h),(p=this.scroll)!=null&&p.wasRoot)return d;for(let g=0;g<this.path.length;g++){const v=this.path[g],{scroll:E,options:A}=v;v!==this.root&&E&&A.layoutScroll&&(E.wasRoot&&Gn(d,h),no(d.x,E.offset.x),no(d.y,E.offset.y))}return d}applyTransform(h,d=!1){const p=Ee();Gn(p,h);for(let g=0;g<this.path.length;g++){const v=this.path[g];!d&&v.options.layoutScroll&&v.scroll&&v!==v.root&&io(p,{x:-v.scroll.offset.x,y:-v.scroll.offset.y}),Hr(v.latestValues)&&io(p,v.latestValues)}return Hr(this.latestValues)&&io(p,this.latestValues),p}removeTransform(h){const d=Ee();Gn(d,h);for(let p=0;p<this.path.length;p++){const g=this.path[p];if(!g.instance||!Hr(g.latestValues))continue;Qm(g.latestValues)&&g.updateSnapshot();const v=Ee(),E=g.measurePageBox();Gn(v,E),aT(d,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,v)}return Hr(this.latestValues)&&aT(d,this.latestValues),d}setTargetDelta(h){this.targetDelta=h,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(h){this.options={...this.options,...h,crossfade:h.crossfade!==void 0?h.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==$e.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(h=!1){var A;const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==d;if(!(h||p&&this.isSharedProjectionDirty||this.isProjectionDirty||(A=this.parent)!=null&&A.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:v,layoutId:E}=this.options;if(!(!this.layout||!(v||E))){if(this.resolvedRelativeTargetAt=$e.timestamp,!this.targetDelta&&!this.relativeTarget){const C=this.getClosestProjectingParent();C&&C.layout&&this.animationProgress!==1?(this.relativeParent=C,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ee(),this.relativeTargetOrigin=Ee(),jl(this.relativeTargetOrigin,this.layout.layoutBox,C.layout.layoutBox),Gn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ee(),this.targetWithTransforms=Ee()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),wx(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Gn(this.target,this.layout.layoutBox),J1(this.target,this.targetDelta)):Gn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const C=this.getClosestProjectingParent();C&&!!C.resumingFrom==!!this.resumingFrom&&!C.options.layoutScroll&&C.target&&this.animationProgress!==1?(this.relativeParent=C,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ee(),this.relativeTargetOrigin=Ee(),jl(this.relativeTargetOrigin,this.target,C.target),Gn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Qm(this.parent.latestValues)||W1(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var P;const h=this.getLead(),d=!!this.resumingFrom||this!==h;let p=!0;if((this.isProjectionDirty||(P=this.parent)!=null&&P.isProjectionDirty)&&(p=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===$e.timestamp&&(p=!1),p)return;const{layout:g,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||v))return;Gn(this.layoutCorrected,this.layout.layoutBox);const E=this.treeScale.x,A=this.treeScale.y;Rx(this.layoutCorrected,this.treeScale,this.path,d),h.layout&&!h.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(h.target=h.layout.layoutBox,h.targetWithTransforms=Ee());const{target:C}=h;if(!C){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(iT(this.prevProjectionDelta.x,this.projectionDelta.x),iT(this.prevProjectionDelta.y,this.projectionDelta.y)),zl(this.projectionDelta,this.layoutCorrected,C,this.latestValues),(this.treeScale.x!==E||this.treeScale.y!==A||!hT(this.projectionDelta.x,this.prevProjectionDelta.x)||!hT(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",C))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(h=!0){var d;if((d=this.options.visualElement)==null||d.scheduleRender(),h){const p=this.getStack();p&&p.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=eo(),this.projectionDelta=eo(),this.projectionDeltaWithTransform=eo()}setAnimationOrigin(h,d=!1){const p=this.snapshot,g=p?p.latestValues:{},v={...this.latestValues},E=eo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const A=Ee(),C=p?p.source:void 0,P=this.layout?this.layout.source:void 0,j=C!==P,F=this.getStack(),$=!F||F.members.length<=1,Z=!!(j&&!$&&this.options.crossfade===!0&&!this.path.some(vD));this.animationProgress=0;let Q;this.mixTargetDelta=ut=>{const it=ut/1e3;pT(E.x,h.x,it),pT(E.y,h.y,it),this.setTargetDelta(E),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(jl(A,this.layout.layoutBox,this.relativeParent.layout.layoutBox),yD(this.relativeTarget,this.relativeTargetOrigin,A,it),Q&&nD(this.relativeTarget,Q)&&(this.isProjectionDirty=!1),Q||(Q=Ee()),Gn(Q,this.relativeTarget)),j&&(this.animationValues=v,$x(v,g,this.latestValues,it,Z,$)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=it},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(h){var d,p,g;this.notifyListeners("animationStart"),(d=this.currentAnimation)==null||d.stop(),(g=(p=this.resumingFrom)==null?void 0:p.currentAnimation)==null||g.stop(),this.pendingAnimation&&(Xs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=oe.update(()=>{sh.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=oo(0)),this.currentAnimation=Gx(this.motionValue,[0,1e3],{...h,velocity:0,isSync:!0,onUpdate:v=>{this.mixTargetDelta(v),h.onUpdate&&h.onUpdate(v)},onStop:()=>{},onComplete:()=>{h.onComplete&&h.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const h=this.getStack();h&&h.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(rD),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const h=this.getLead();let{targetWithTransforms:d,target:p,layout:g,latestValues:v}=h;if(!(!d||!p||!g)){if(this!==h&&this.layout&&g&&hA(this.options.animationType,this.layout.layoutBox,g.layoutBox)){p=this.target||Ee();const E=mn(this.layout.layoutBox.x);p.x.min=h.target.x.min,p.x.max=p.x.min+E;const A=mn(this.layout.layoutBox.y);p.y.min=h.target.y.min,p.y.max=p.y.min+A}Gn(d,p),io(d,v),zl(this.projectionDeltaWithTransform,this.layoutCorrected,d,v)}}registerSharedNode(h,d){this.sharedNodes.has(h)||this.sharedNodes.set(h,new iD),this.sharedNodes.get(h).add(d);const g=d.options.initialPromotionConfig;d.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(d):void 0})}isLead(){const h=this.getStack();return h?h.lead===this:!0}getLead(){var d;const{layoutId:h}=this.options;return h?((d=this.getStack())==null?void 0:d.lead)||this:this}getPrevLead(){var d;const{layoutId:h}=this.options;return h?(d=this.getStack())==null?void 0:d.prevLead:void 0}getStack(){const{layoutId:h}=this.options;if(h)return this.root.sharedNodes.get(h)}promote({needsReset:h,transition:d,preserveFollowOpacity:p}={}){const g=this.getStack();g&&g.promote(this,p),h&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const h=this.getStack();return h?h.relegate(this):!1}resetSkewAndRotation(){const{visualElement:h}=this.options;if(!h)return;let d=!1;const{latestValues:p}=h;if((p.z||p.rotate||p.rotateX||p.rotateY||p.rotateZ||p.skewX||p.skewY)&&(d=!0),!d)return;const g={};p.z&&ym("z",h,g,this.animationValues);for(let v=0;v<gm.length;v++)ym(`rotate${gm[v]}`,h,g,this.animationValues),ym(`skew${gm[v]}`,h,g,this.animationValues);h.render();for(const v in g)h.setStaticValue(v,g[v]),this.animationValues&&(this.animationValues[v]=g[v]);h.scheduleRender()}applyProjectionStyles(h,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){h.visibility="hidden";return}const p=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,h.visibility="",h.opacity="",h.pointerEvents=ih(d==null?void 0:d.pointerEvents)||"",h.transform=p?p(this.latestValues,""):"none";return}const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){this.options.layoutId&&(h.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,h.pointerEvents=ih(d==null?void 0:d.pointerEvents)||""),this.hasProjected&&!Hr(this.latestValues)&&(h.transform=p?p({},""):"none",this.hasProjected=!1);return}h.visibility="";const v=g.animationValues||g.latestValues;this.applyTransformsToTarget();let E=sD(this.projectionDeltaWithTransform,this.treeScale,v);p&&(E=p(v,E)),h.transform=E;const{x:A,y:C}=this.projectionDelta;h.transformOrigin=`${A.origin*100}% ${C.origin*100}% 0`,g.animationValues?h.opacity=g===this?v.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:h.opacity=g===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const P in Wl){if(v[P]===void 0)continue;const{correct:j,applyTo:F,isCSSVariable:$}=Wl[P],Z=E==="none"?v[P]:j(v[P],g);if(F){const Q=F.length;for(let ut=0;ut<Q;ut++)h[F[ut]]=Z}else $?this.options.visualElement.renderState.vars[P]=Z:h[P]=Z}this.options.layoutId&&(h.pointerEvents=g===this?ih(d==null?void 0:d.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(h=>{var d;return(d=h.currentAnimation)==null?void 0:d.stop()}),this.root.nodes.forEach(fT),this.root.sharedNodes.clear()}}}function oD(n){n.updateLayout()}function lD(n){var i;const t=((i=n.resumeFrom)==null?void 0:i.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:o}=n.layout,{animationType:u}=n.options,h=t.source!==n.layout.source;u==="size"?Kn(E=>{const A=h?t.measuredBox[E]:t.layoutBox[E],C=mn(A);A.min=r[E].min,A.max=A.min+C}):hA(u,t.layoutBox,r)&&Kn(E=>{const A=h?t.measuredBox[E]:t.layoutBox[E],C=mn(r[E]);A.max=A.min+C,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[E].max=n.relativeTarget[E].min+C)});const d=eo();zl(d,r,t.layoutBox);const p=eo();h?zl(p,n.applyTransform(o,!0),t.measuredBox):zl(p,r,t.layoutBox);const g=!oA(d);let v=!1;if(!n.resumeFrom){const E=n.getClosestProjectingParent();if(E&&!E.resumeFrom){const{snapshot:A,layout:C}=E;if(A&&C){const P=Ee();jl(P,t.layoutBox,A.layoutBox);const j=Ee();jl(j,r,C.layoutBox),lA(P,j)||(v=!0),E.options.layoutRoot&&(n.relativeTarget=j,n.relativeTargetOrigin=P,n.relativeParent=E)}}}n.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:p,layoutDelta:d,hasLayoutChanged:g,hasRelativeLayoutChanged:v})}else if(n.isLead()){const{onExitComplete:r}=n.options;r&&r()}n.options.transition=void 0}function uD(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function cD(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function hD(n){n.clearSnapshot()}function fT(n){n.clearMeasurements()}function dT(n){n.isLayoutDirty=!1}function fD(n){const{visualElement:t}=n.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),n.resetTransform()}function mT(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function dD(n){n.resolveTargetDelta()}function mD(n){n.calcProjection()}function pD(n){n.resetSkewAndRotation()}function gD(n){n.removeLeadSnapshot()}function pT(n,t,i){n.translate=ce(t.translate,0,i),n.scale=ce(t.scale,1,i),n.origin=t.origin,n.originPoint=t.originPoint}function gT(n,t,i,r){n.min=ce(t.min,i.min,r),n.max=ce(t.max,i.max,r)}function yD(n,t,i,r){gT(n.x,t.x,i.x,r),gT(n.y,t.y,i.y,r)}function vD(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const _D={duration:.45,ease:[.4,0,.1,1]},yT=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),vT=yT("applewebkit/")&&!yT("chrome/")?Math.round:Qn;function _T(n){n.min=vT(n.min),n.max=vT(n.max)}function TD(n){_T(n.x),_T(n.y)}function hA(n,t,i){return n==="position"||n==="preserve-aspect"&&!bx(cT(t),cT(i),.2)}function ED(n){var t;return n!==n.root&&((t=n.scroll)==null?void 0:t.wasRoot)}const AD=cA({attachResizeListener:(n,t)=>tu(n,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),vm={current:void 0},fA=cA({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!vm.current){const n=new AD({});n.mount(window),n.setOptions({layoutScroll:!0}),vm.current=n}return vm.current},resetTransform:(n,t)=>{n.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),SD={pan:{Feature:jx},drag:{Feature:zx,ProjectionNode:fA,MeasureLayout:sA}};function TT(n,t,i){const{props:r}=n;n.animationState&&r.whileHover&&n.animationState.setActive("whileHover",i==="Start");const o="onHover"+i,u=r[o];u&&oe.postRender(()=>u(t,mu(t)))}class bD extends sr{mount(){const{current:t}=this.node;t&&(this.unmount=W2(t,(i,r)=>(TT(this.node,r,"Start"),o=>TT(this.node,o,"End"))))}unmount(){}}class wD extends sr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=hu(tu(this.node.current,"focus",()=>this.onFocus()),tu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function ET(n,t,i){const{props:r}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&r.whileTap&&n.animationState.setActive("whileTap",i==="Start");const o="onTap"+(i==="End"?"":i),u=r[o];u&&oe.postRender(()=>u(t,mu(t)))}class RD extends sr{mount(){const{current:t}=this.node;t&&(this.unmount=nC(t,(i,r)=>(ET(this.node,r,"Start"),(o,{success:u})=>ET(this.node,o,u?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Zm=new WeakMap,_m=new WeakMap,CD=n=>{const t=Zm.get(n.target);t&&t(n)},xD=n=>{n.forEach(CD)};function DD({root:n,...t}){const i=n||document;_m.has(i)||_m.set(i,{});const r=_m.get(i),o=JSON.stringify(t);return r[o]||(r[o]=new IntersectionObserver(xD,{root:n,...t})),r[o]}function VD(n,t,i){const r=DD(t);return Zm.set(n,i),r.observe(n),()=>{Zm.delete(n),r.unobserve(n)}}const ID={some:0,all:1};class MD extends sr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:i,margin:r,amount:o="some",once:u}=t,h={root:i?i.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:ID[o]},d=p=>{const{isIntersecting:g}=p;if(this.isInView===g||(this.isInView=g,u&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:v,onViewportLeave:E}=this.node.getProps(),A=g?v:E;A&&A(p)};return VD(this.node.current,h,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:i}=this.node;["amount","margin","root"].some(ND(t,i))&&this.startObserver()}unmount(){}}function ND({viewport:n={}},{viewport:t={}}={}){return i=>n[i]!==t[i]}const OD={inView:{Feature:MD},tap:{Feature:RD},focus:{Feature:wD},hover:{Feature:bD}},PD={layout:{ProjectionNode:fA,MeasureLayout:sA}},Wm={current:null},dA={current:!1};function LD(){if(dA.current=!0,!!Rp)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),t=()=>Wm.current=n.matches;n.addEventListener("change",t),t()}else Wm.current=!1}const UD=new WeakMap;function kD(n,t,i){for(const r in t){const o=t[r],u=i[r];if(un(o))n.addValue(r,o);else if(un(u))n.addValue(r,oo(o,{owner:n}));else if(u!==o)if(n.hasValue(r)){const h=n.getValue(r);h.liveStyle===!0?h.jump(o):h.hasAnimated||h.set(o)}else{const h=n.getStaticValue(r);n.addValue(r,oo(h!==void 0?h:o,{owner:n}))}}for(const r in i)t[r]===void 0&&n.removeValue(r);return t}const AT=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class BD{scrapeMotionValuesFromProps(t,i,r){return{}}constructor({parent:t,props:i,presenceContext:r,reducedMotionConfig:o,blockInitialAnimation:u,visualState:h},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Fp,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const A=Tn.now();this.renderScheduledAt<A&&(this.renderScheduledAt=A,oe.render(this.render,!1,!0))};const{latestValues:p,renderState:g}=h;this.latestValues=p,this.baseTarget={...p},this.initialValues=i.initial?{...p}:{},this.renderState=g,this.parent=t,this.props=i,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=d,this.blockInitialAnimation=!!u,this.isControllingVariants=Nh(i),this.isVariantNode=O1(i),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:v,...E}=this.scrapeMotionValuesFromProps(i,{},this);for(const A in E){const C=E[A];p[A]!==void 0&&un(C)&&C.set(p[A],!1)}}mount(t){this.current=t,UD.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((i,r)=>this.bindToMotionValue(r,i)),dA.current||LD(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Wm.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Xs(this.notifyUpdate),Xs(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const i=this.features[t];i&&(i.unmount(),i.isMounted=!1)}this.current=null}bindToMotionValue(t,i){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=_o.has(t);r&&this.onBindTransform&&this.onBindTransform();const o=i.on("change",d=>{this.latestValues[t]=d,this.props.onUpdate&&oe.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),u=i.on("renderRequest",this.scheduleRender);let h;window.MotionCheckAppearSync&&(h=window.MotionCheckAppearSync(this,t,i)),this.valueSubscriptions.set(t,()=>{o(),u(),h&&h(),i.owner&&i.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in lo){const i=lo[t];if(!i)continue;const{isEnabled:r,Feature:o}=i;if(!this.features[t]&&o&&r(this.props)&&(this.features[t]=new o(this)),this.features[t]){const u=this.features[t];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ee()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,i){this.latestValues[t]=i}update(t,i){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=i;for(let r=0;r<AT.length;r++){const o=AT[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const u="on"+o,h=t[u];h&&(this.propEventSubscriptions[o]=this.on(o,h))}this.prevMotionValues=kD(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const i=this.getClosestVariantNode();if(i)return i.variantChildren&&i.variantChildren.add(t),()=>i.variantChildren.delete(t)}addValue(t,i){const r=this.values.get(t);i!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,i),this.values.set(t,i),this.latestValues[t]=i.get())}removeValue(t){this.values.delete(t);const i=this.valueSubscriptions.get(t);i&&(i(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,i){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&i!==void 0&&(r=oo(i===null?void 0:i,{owner:this}),this.addValue(t,r)),r}readValue(t,i){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(jE(r)||FE(r))?r=parseFloat(r):!rC(r)&&$s.test(i)&&(r=b1(t,i)),this.setBaseTarget(t,un(r)?r.get():r)),un(r)?r.get():r}setBaseTarget(t,i){this.baseTarget[t]=i}getBaseTarget(t){var u;const{initial:i}=this.props;let r;if(typeof i=="string"||typeof i=="object"){const h=eg(this.props,i,(u=this.presenceContext)==null?void 0:u.custom);h&&(r=h[t])}if(i&&r!==void 0)return r;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!un(o)?o:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,i){return this.events[t]||(this.events[t]=new Ip),this.events[t].add(i)}notify(t,...i){this.events[t]&&this.events[t].notify(...i)}}class mA extends BD{constructor(){super(...arguments),this.KeyframeResolver=Y2}sortInstanceNodePosition(t,i){return t.compareDocumentPosition(i)&2?1:-1}getBaseTargetFromProps(t,i){return t.style?t.style[i]:void 0}removeValueFromRenderState(t,{vars:i,style:r}){delete i[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;un(t)&&(this.childSubscription=t.on("change",i=>{this.current&&(this.current.textContent=`${i}`)}))}}function pA(n,{style:t,vars:i},r,o){const u=n.style;let h;for(h in t)u[h]=t[h];o==null||o.applyProjectionStyles(u,r);for(h in i)u.setProperty(h,i[h])}function zD(n){return window.getComputedStyle(n)}class jD extends mA{constructor(){super(...arguments),this.type="html",this.renderInstance=pA}readValueFromInstance(t,i){var r;if(_o.has(i))return(r=this.projection)!=null&&r.isProjecting?Bm(i):f2(t,i);{const o=zD(t),u=(Op(i)?o.getPropertyValue(i):o[i])||0;return typeof u=="string"?u.trim():u}}measureInstanceViewportBox(t,{transformPagePoint:i}){return tA(t,i)}build(t,i,r){Wp(t,i,r.transformTemplate)}scrapeMotionValuesFromProps(t,i,r){return ng(t,i,r)}}const gA=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function qD(n,t,i,r){pA(n,t,void 0,r);for(const o in t.attrs)n.setAttribute(gA.has(o)?o:Zp(o),t.attrs[o])}class FD extends mA{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ee}getBaseTargetFromProps(t,i){return t[i]}readValueFromInstance(t,i){if(_o.has(i)){const r=S1(i);return r&&r.default||0}return i=gA.has(i)?i:Zp(i),t.getAttribute(i)}scrapeMotionValuesFromProps(t,i,r){return H1(t,i,r)}build(t,i,r){z1(t,i,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,i,r,o){qD(t,i,r,o)}mount(t){this.isSVGTag=q1(t.tagName),super.mount(t)}}const HD=(n,t)=>tg(n)?new FD(t):new jD(t,{allowProjection:n!==at.Fragment}),GD=HC({...gx,...OD,...SD,...PD},HD),Fr=pC(GD),KD=()=>{};var ST={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yA=function(n){const t=[];let i=0;for(let r=0;r<n.length;r++){let o=n.charCodeAt(r);o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):(o&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++r)&1023),t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},YD=function(n){const t=[];let i=0,r=0;for(;i<n.length;){const o=n[i++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=n[i++];t[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=n[i++],h=n[i++],d=n[i++],p=((o&7)<<18|(u&63)<<12|(h&63)<<6|d&63)-65536;t[r++]=String.fromCharCode(55296+(p>>10)),t[r++]=String.fromCharCode(56320+(p&1023))}else{const u=n[i++],h=n[i++];t[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return t.join("")},vA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<n.length;o+=3){const u=n[o],h=o+1<n.length,d=h?n[o+1]:0,p=o+2<n.length,g=p?n[o+2]:0,v=u>>2,E=(u&3)<<4|d>>4;let A=(d&15)<<2|g>>6,C=g&63;p||(C=64,h||(A=64)),r.push(i[v],i[E],i[A],i[C])}return r.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(yA(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):YD(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<n.length;){const u=i[n.charAt(o++)],d=o<n.length?i[n.charAt(o)]:0;++o;const g=o<n.length?i[n.charAt(o)]:64;++o;const E=o<n.length?i[n.charAt(o)]:64;if(++o,u==null||d==null||g==null||E==null)throw new QD;const A=u<<2|d>>4;if(r.push(A),g!==64){const C=d<<4&240|g>>2;if(r.push(C),E!==64){const P=g<<6&192|E;r.push(P)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class QD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const XD=function(n){const t=yA(n);return vA.encodeByteArray(t,!0)},gh=function(n){return XD(n).replace(/\./g,"")},$D=function(n){try{return vA.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WD=()=>ZD().__FIREBASE_DEFAULTS__,JD=()=>{if(typeof process>"u"||typeof ST>"u")return;const n=ST.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},tV=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&$D(n[1]);return t&&JSON.parse(t)},sg=()=>{try{return KD()||WD()||JD()||tV()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},eV=n=>{var t,i;return(i=(t=sg())==null?void 0:t.emulatorHosts)==null?void 0:i[n]},nV=n=>{const t=eV(n);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),r]:[t.substring(0,i),r]},_A=()=>{var n;return(n=sg())==null?void 0:n.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iV{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rg(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function sV(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rV(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=t||"demo-project",o=n.iat||0,u=n.sub||n.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...n};return[gh(JSON.stringify(i)),gh(JSON.stringify(h)),""].join(".")}const ql={};function aV(){const n={prod:[],emulator:[]};for(const t of Object.keys(ql))ql[t]?n.emulator.push(t):n.prod.push(t);return n}function oV(n){let t=document.getElementById(n),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),i=!0),{created:i,element:t}}let bT=!1;function lV(n,t){if(typeof window>"u"||typeof document>"u"||!rg(window.location.host)||ql[n]===t||ql[n]||bT)return;ql[n]=t;function i(A){return`__firebase__banner__${A}`}const r="__firebase__banner",u=aV().prod.length>0;function h(){const A=document.getElementById(r);A&&A.remove()}function d(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function p(A,C){A.setAttribute("width","24"),A.setAttribute("id",C),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function g(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{bT=!0,h()},A}function v(A,C){A.setAttribute("id",C),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function E(){const A=oV(r),C=i("text"),P=document.getElementById(C)||document.createElement("span"),j=i("learnmore"),F=document.getElementById(j)||document.createElement("a"),$=i("preprendIcon"),Z=document.getElementById($)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const Q=A.element;d(Q),v(F,j);const ut=g();p(Z,$),Q.append(Z,P,F,ut),document.body.appendChild(Q)}u?(P.innerText="Preview backend disconnected.",Z.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Z.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,P.innerText="Preview backend running in this workspace."),P.setAttribute("id",C)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uV(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function cV(){var t;const n=(t=sg())==null?void 0:t.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function hV(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function fV(){return!cV()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function TA(){try{return typeof indexedDB=="object"}catch{return!1}}function EA(){return new Promise((n,t)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(r),n(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var u;t(((u=o.error)==null?void 0:u.message)||"")}}catch(i){t(i)}})}function dV(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mV="FirebaseError";class rr extends Error{constructor(t,i,r){super(i),this.code=t,this.customData=r,this.name=mV,Object.setPrototypeOf(this,rr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Oh.prototype.create)}}class Oh{constructor(t,i,r){this.service=t,this.serviceName=i,this.errors=r}create(t,...i){const r=i[0]||{},o=`${this.service}/${t}`,u=this.errors[t],h=u?pV(u,r):"Error",d=`${this.serviceName}: ${h} (${o}).`;return new rr(o,d,r)}}function pV(n,t){return n.replace(gV,(i,r)=>{const o=t[r];return o!=null?String(o):`<${r}?>`})}const gV=/\{\$([^}]+)}/g;function eu(n,t){if(n===t)return!0;const i=Object.keys(n),r=Object.keys(t);for(const o of i){if(!r.includes(o))return!1;const u=n[o],h=t[o];if(wT(u)&&wT(h)){if(!eu(u,h))return!1}else if(u!==h)return!1}for(const o of r)if(!i.includes(o))return!1;return!0}function wT(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yV=1e3,vV=2,_V=4*60*60*1e3,TV=.5;function RT(n,t=yV,i=vV){const r=t*Math.pow(i,n),o=Math.round(TV*r*(Math.random()-.5)*2);return Math.min(_V,r+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ii(n){return n&&n._delegate?n._delegate:n}class us{constructor(t,i,r){this.name=t,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EV{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const r=new iV;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),r=(t==null?void 0:t.optional)??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(SV(t))try{this.getOrInitializeService({instanceIdentifier:Gr})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(t=Gr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Gr){return this.instances.has(t)}getOptions(t=Gr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[u,h]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(u);r===d&&h.resolve(o)}return o}onInit(t,i){const r=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(r)??new Set;o.add(t),this.onInitCallbacks.set(r,o);const u=this.instances.get(r);return u&&t(u,r),()=>{o.delete(t)}}invokeOnInitCallbacks(t,i){const r=this.onInitCallbacks.get(i);if(r)for(const o of r)try{o(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:AV(t),options:i}),this.instances.set(t,r),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Gr){return this.component?this.component.multipleInstances?t:Gr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function AV(n){return n===Gr?void 0:n}function SV(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bV{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new EV(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(jt||(jt={}));const wV={debug:jt.DEBUG,verbose:jt.VERBOSE,info:jt.INFO,warn:jt.WARN,error:jt.ERROR,silent:jt.SILENT},RV=jt.INFO,CV={[jt.DEBUG]:"log",[jt.VERBOSE]:"log",[jt.INFO]:"info",[jt.WARN]:"warn",[jt.ERROR]:"error"},xV=(n,t,...i)=>{if(t<n.logLevel)return;const r=new Date().toISOString(),o=CV[t];if(o)console[o](`[${r}]  ${n.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class ag{constructor(t){this.name=t,this._logLevel=RV,this._logHandler=xV,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in jt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?wV[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,jt.DEBUG,...t),this._logHandler(this,jt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,jt.VERBOSE,...t),this._logHandler(this,jt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,jt.INFO,...t),this._logHandler(this,jt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,jt.WARN,...t),this._logHandler(this,jt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,jt.ERROR,...t),this._logHandler(this,jt.ERROR,...t)}}const DV=(n,t)=>t.some(i=>n instanceof i);let CT,xT;function VV(){return CT||(CT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function IV(){return xT||(xT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const AA=new WeakMap,Jm=new WeakMap,SA=new WeakMap,Tm=new WeakMap,og=new WeakMap;function MV(n){const t=new Promise((i,r)=>{const o=()=>{n.removeEventListener("success",u),n.removeEventListener("error",h)},u=()=>{i(Hs(n.result)),o()},h=()=>{r(n.error),o()};n.addEventListener("success",u),n.addEventListener("error",h)});return t.then(i=>{i instanceof IDBCursor&&AA.set(i,n)}).catch(()=>{}),og.set(t,n),t}function NV(n){if(Jm.has(n))return;const t=new Promise((i,r)=>{const o=()=>{n.removeEventListener("complete",u),n.removeEventListener("error",h),n.removeEventListener("abort",h)},u=()=>{i(),o()},h=()=>{r(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",u),n.addEventListener("error",h),n.addEventListener("abort",h)});Jm.set(n,t)}let tp={get(n,t,i){if(n instanceof IDBTransaction){if(t==="done")return Jm.get(n);if(t==="objectStoreNames")return n.objectStoreNames||SA.get(n);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Hs(n[t])},set(n,t,i){return n[t]=i,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function OV(n){tp=n(tp)}function PV(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const r=n.call(Em(this),t,...i);return SA.set(r,t.sort?t.sort():[t]),Hs(r)}:IV().includes(n)?function(...t){return n.apply(Em(this),t),Hs(AA.get(this))}:function(...t){return Hs(n.apply(Em(this),t))}}function LV(n){return typeof n=="function"?PV(n):(n instanceof IDBTransaction&&NV(n),DV(n,VV())?new Proxy(n,tp):n)}function Hs(n){if(n instanceof IDBRequest)return MV(n);if(Tm.has(n))return Tm.get(n);const t=LV(n);return t!==n&&(Tm.set(n,t),og.set(t,n)),t}const Em=n=>og.get(n);function bA(n,t,{blocked:i,upgrade:r,blocking:o,terminated:u}={}){const h=indexedDB.open(n,t),d=Hs(h);return r&&h.addEventListener("upgradeneeded",p=>{r(Hs(h.result),p.oldVersion,p.newVersion,Hs(h.transaction),p)}),i&&h.addEventListener("blocked",p=>i(p.oldVersion,p.newVersion,p)),d.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const UV=["get","getKey","getAll","getAllKeys","count"],kV=["put","add","delete","clear"],Am=new Map;function DT(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(Am.get(t))return Am.get(t);const i=t.replace(/FromIndex$/,""),r=t!==i,o=kV.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(o||UV.includes(i)))return;const u=async function(h,...d){const p=this.transaction(h,o?"readwrite":"readonly");let g=p.store;return r&&(g=g.index(d.shift())),(await Promise.all([g[i](...d),o&&p.done]))[0]};return Am.set(t,u),u}OV(n=>({...n,get:(t,i,r)=>DT(t,i)||n.get(t,i,r),has:(t,i)=>!!DT(t,i)||n.has(t,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BV{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(zV(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function zV(n){const t=n.getComponent();return(t==null?void 0:t.type)==="VERSION"}const ep="@firebase/app",VT="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cs=new ag("@firebase/app"),jV="@firebase/app-compat",qV="@firebase/analytics-compat",FV="@firebase/analytics",HV="@firebase/app-check-compat",GV="@firebase/app-check",KV="@firebase/auth",YV="@firebase/auth-compat",QV="@firebase/database",XV="@firebase/data-connect",$V="@firebase/database-compat",ZV="@firebase/functions",WV="@firebase/functions-compat",JV="@firebase/installations",tI="@firebase/installations-compat",eI="@firebase/messaging",nI="@firebase/messaging-compat",iI="@firebase/performance",sI="@firebase/performance-compat",rI="@firebase/remote-config",aI="@firebase/remote-config-compat",oI="@firebase/storage",lI="@firebase/storage-compat",uI="@firebase/firestore",cI="@firebase/ai",hI="@firebase/firestore-compat",fI="firebase",dI="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const np="[DEFAULT]",mI={[ep]:"fire-core",[jV]:"fire-core-compat",[FV]:"fire-analytics",[qV]:"fire-analytics-compat",[GV]:"fire-app-check",[HV]:"fire-app-check-compat",[KV]:"fire-auth",[YV]:"fire-auth-compat",[QV]:"fire-rtdb",[XV]:"fire-data-connect",[$V]:"fire-rtdb-compat",[ZV]:"fire-fn",[WV]:"fire-fn-compat",[JV]:"fire-iid",[tI]:"fire-iid-compat",[eI]:"fire-fcm",[nI]:"fire-fcm-compat",[iI]:"fire-perf",[sI]:"fire-perf-compat",[rI]:"fire-rc",[aI]:"fire-rc-compat",[oI]:"fire-gcs",[lI]:"fire-gcs-compat",[uI]:"fire-fst",[hI]:"fire-fst-compat",[cI]:"fire-vertex","fire-js":"fire-js",[fI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yh=new Map,pI=new Map,ip=new Map;function IT(n,t){try{n.container.addComponent(t)}catch(i){cs.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,i)}}function Zs(n){const t=n.name;if(ip.has(t))return cs.debug(`There were multiple attempts to register component ${t}.`),!1;ip.set(t,n);for(const i of yh.values())IT(i,n);for(const i of pI.values())IT(i,n);return!0}function pu(n,t){const i=n.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),n.container.getProvider(t)}function gI(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Gs=new Oh("app","Firebase",yI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(t,i,r){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new us("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Gs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _I=dI;function wA(n,t={}){let i=n;typeof t!="object"&&(t={name:t});const r={name:np,automaticDataCollectionEnabled:!0,...t},o=r.name;if(typeof o!="string"||!o)throw Gs.create("bad-app-name",{appName:String(o)});if(i||(i=_A()),!i)throw Gs.create("no-options");const u=yh.get(o);if(u){if(eu(i,u.options)&&eu(r,u.config))return u;throw Gs.create("duplicate-app",{appName:o})}const h=new bV(o);for(const p of ip.values())h.addComponent(p);const d=new vI(i,r,h);return yh.set(o,d),d}function RA(n=np){const t=yh.get(n);if(!t&&n===np&&_A())return wA();if(!t)throw Gs.create("no-app",{appName:n});return t}function wi(n,t,i){let r=mI[n]??n;i&&(r+=`-${i}`);const o=r.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const h=[`Unable to register library "${r}" with version "${t}":`];o&&h.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${t}" contains illegal characters (whitespace or "/")`),cs.warn(h.join(" "));return}Zs(new us(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TI="firebase-heartbeat-database",EI=1,nu="firebase-heartbeat-store";let Sm=null;function CA(){return Sm||(Sm=bA(TI,EI,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(nu)}catch(i){console.warn(i)}}}}).catch(n=>{throw Gs.create("idb-open",{originalErrorMessage:n.message})})),Sm}async function AI(n){try{const i=(await CA()).transaction(nu),r=await i.objectStore(nu).get(xA(n));return await i.done,r}catch(t){if(t instanceof rr)cs.warn(t.message);else{const i=Gs.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});cs.warn(i.message)}}}async function MT(n,t){try{const r=(await CA()).transaction(nu,"readwrite");await r.objectStore(nu).put(t,xA(n)),await r.done}catch(i){if(i instanceof rr)cs.warn(i.message);else{const r=Gs.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});cs.warn(r.message)}}}function xA(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SI=1024,bI=30;class wI{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new CI(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=NT();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)==null?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>bI){const h=xI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){cs.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=NT(),{heartbeatsToSend:r,unsentEntries:o}=RI(this._heartbeatsCache.heartbeats),u=gh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(i){return cs.warn(i),""}}}function NT(){return new Date().toISOString().substring(0,10)}function RI(n,t=SI){const i=[];let r=n.slice();for(const o of n){const u=i.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),OT(i)>t){u.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),OT(i)>t){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class CI{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return TA()?EA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await AI(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return MT(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return MT(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function OT(n){return gh(JSON.stringify({version:2,heartbeats:n})).length}function xI(n){if(n.length===0)return-1;let t=0,i=n[0].date;for(let r=1;r<n.length;r++)n[r].date<i&&(i=n[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DI(n){Zs(new us("platform-logger",t=>new BV(t),"PRIVATE")),Zs(new us("heartbeat",t=>new wI(t),"PRIVATE")),wi(ep,VT,n),wi(ep,VT,"esm2020"),wi("fire-js","")}DI("");var PT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ks,DA;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(V,w){function R(){}R.prototype=w.prototype,V.D=w.prototype,V.prototype=new R,V.prototype.constructor=V,V.C=function(M,O,L){for(var D=Array(arguments.length-2),fe=2;fe<arguments.length;fe++)D[fe-2]=arguments[fe];return w.prototype[O].apply(M,D)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(r,i),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(V,w,R){R||(R=0);var M=Array(16);if(typeof w=="string")for(var O=0;16>O;++O)M[O]=w.charCodeAt(R++)|w.charCodeAt(R++)<<8|w.charCodeAt(R++)<<16|w.charCodeAt(R++)<<24;else for(O=0;16>O;++O)M[O]=w[R++]|w[R++]<<8|w[R++]<<16|w[R++]<<24;w=V.g[0],R=V.g[1],O=V.g[2];var L=V.g[3],D=w+(L^R&(O^L))+M[0]+3614090360&4294967295;w=R+(D<<7&4294967295|D>>>25),D=L+(O^w&(R^O))+M[1]+3905402710&4294967295,L=w+(D<<12&4294967295|D>>>20),D=O+(R^L&(w^R))+M[2]+606105819&4294967295,O=L+(D<<17&4294967295|D>>>15),D=R+(w^O&(L^w))+M[3]+3250441966&4294967295,R=O+(D<<22&4294967295|D>>>10),D=w+(L^R&(O^L))+M[4]+4118548399&4294967295,w=R+(D<<7&4294967295|D>>>25),D=L+(O^w&(R^O))+M[5]+1200080426&4294967295,L=w+(D<<12&4294967295|D>>>20),D=O+(R^L&(w^R))+M[6]+2821735955&4294967295,O=L+(D<<17&4294967295|D>>>15),D=R+(w^O&(L^w))+M[7]+4249261313&4294967295,R=O+(D<<22&4294967295|D>>>10),D=w+(L^R&(O^L))+M[8]+1770035416&4294967295,w=R+(D<<7&4294967295|D>>>25),D=L+(O^w&(R^O))+M[9]+2336552879&4294967295,L=w+(D<<12&4294967295|D>>>20),D=O+(R^L&(w^R))+M[10]+4294925233&4294967295,O=L+(D<<17&4294967295|D>>>15),D=R+(w^O&(L^w))+M[11]+2304563134&4294967295,R=O+(D<<22&4294967295|D>>>10),D=w+(L^R&(O^L))+M[12]+1804603682&4294967295,w=R+(D<<7&4294967295|D>>>25),D=L+(O^w&(R^O))+M[13]+4254626195&4294967295,L=w+(D<<12&4294967295|D>>>20),D=O+(R^L&(w^R))+M[14]+2792965006&4294967295,O=L+(D<<17&4294967295|D>>>15),D=R+(w^O&(L^w))+M[15]+1236535329&4294967295,R=O+(D<<22&4294967295|D>>>10),D=w+(O^L&(R^O))+M[1]+4129170786&4294967295,w=R+(D<<5&4294967295|D>>>27),D=L+(R^O&(w^R))+M[6]+3225465664&4294967295,L=w+(D<<9&4294967295|D>>>23),D=O+(w^R&(L^w))+M[11]+643717713&4294967295,O=L+(D<<14&4294967295|D>>>18),D=R+(L^w&(O^L))+M[0]+3921069994&4294967295,R=O+(D<<20&4294967295|D>>>12),D=w+(O^L&(R^O))+M[5]+3593408605&4294967295,w=R+(D<<5&4294967295|D>>>27),D=L+(R^O&(w^R))+M[10]+38016083&4294967295,L=w+(D<<9&4294967295|D>>>23),D=O+(w^R&(L^w))+M[15]+3634488961&4294967295,O=L+(D<<14&4294967295|D>>>18),D=R+(L^w&(O^L))+M[4]+3889429448&4294967295,R=O+(D<<20&4294967295|D>>>12),D=w+(O^L&(R^O))+M[9]+568446438&4294967295,w=R+(D<<5&4294967295|D>>>27),D=L+(R^O&(w^R))+M[14]+3275163606&4294967295,L=w+(D<<9&4294967295|D>>>23),D=O+(w^R&(L^w))+M[3]+4107603335&4294967295,O=L+(D<<14&4294967295|D>>>18),D=R+(L^w&(O^L))+M[8]+1163531501&4294967295,R=O+(D<<20&4294967295|D>>>12),D=w+(O^L&(R^O))+M[13]+2850285829&4294967295,w=R+(D<<5&4294967295|D>>>27),D=L+(R^O&(w^R))+M[2]+4243563512&4294967295,L=w+(D<<9&4294967295|D>>>23),D=O+(w^R&(L^w))+M[7]+1735328473&4294967295,O=L+(D<<14&4294967295|D>>>18),D=R+(L^w&(O^L))+M[12]+2368359562&4294967295,R=O+(D<<20&4294967295|D>>>12),D=w+(R^O^L)+M[5]+4294588738&4294967295,w=R+(D<<4&4294967295|D>>>28),D=L+(w^R^O)+M[8]+2272392833&4294967295,L=w+(D<<11&4294967295|D>>>21),D=O+(L^w^R)+M[11]+1839030562&4294967295,O=L+(D<<16&4294967295|D>>>16),D=R+(O^L^w)+M[14]+4259657740&4294967295,R=O+(D<<23&4294967295|D>>>9),D=w+(R^O^L)+M[1]+2763975236&4294967295,w=R+(D<<4&4294967295|D>>>28),D=L+(w^R^O)+M[4]+1272893353&4294967295,L=w+(D<<11&4294967295|D>>>21),D=O+(L^w^R)+M[7]+4139469664&4294967295,O=L+(D<<16&4294967295|D>>>16),D=R+(O^L^w)+M[10]+3200236656&4294967295,R=O+(D<<23&4294967295|D>>>9),D=w+(R^O^L)+M[13]+681279174&4294967295,w=R+(D<<4&4294967295|D>>>28),D=L+(w^R^O)+M[0]+3936430074&4294967295,L=w+(D<<11&4294967295|D>>>21),D=O+(L^w^R)+M[3]+3572445317&4294967295,O=L+(D<<16&4294967295|D>>>16),D=R+(O^L^w)+M[6]+76029189&4294967295,R=O+(D<<23&4294967295|D>>>9),D=w+(R^O^L)+M[9]+3654602809&4294967295,w=R+(D<<4&4294967295|D>>>28),D=L+(w^R^O)+M[12]+3873151461&4294967295,L=w+(D<<11&4294967295|D>>>21),D=O+(L^w^R)+M[15]+530742520&4294967295,O=L+(D<<16&4294967295|D>>>16),D=R+(O^L^w)+M[2]+3299628645&4294967295,R=O+(D<<23&4294967295|D>>>9),D=w+(O^(R|~L))+M[0]+4096336452&4294967295,w=R+(D<<6&4294967295|D>>>26),D=L+(R^(w|~O))+M[7]+1126891415&4294967295,L=w+(D<<10&4294967295|D>>>22),D=O+(w^(L|~R))+M[14]+2878612391&4294967295,O=L+(D<<15&4294967295|D>>>17),D=R+(L^(O|~w))+M[5]+4237533241&4294967295,R=O+(D<<21&4294967295|D>>>11),D=w+(O^(R|~L))+M[12]+1700485571&4294967295,w=R+(D<<6&4294967295|D>>>26),D=L+(R^(w|~O))+M[3]+2399980690&4294967295,L=w+(D<<10&4294967295|D>>>22),D=O+(w^(L|~R))+M[10]+4293915773&4294967295,O=L+(D<<15&4294967295|D>>>17),D=R+(L^(O|~w))+M[1]+2240044497&4294967295,R=O+(D<<21&4294967295|D>>>11),D=w+(O^(R|~L))+M[8]+1873313359&4294967295,w=R+(D<<6&4294967295|D>>>26),D=L+(R^(w|~O))+M[15]+4264355552&4294967295,L=w+(D<<10&4294967295|D>>>22),D=O+(w^(L|~R))+M[6]+2734768916&4294967295,O=L+(D<<15&4294967295|D>>>17),D=R+(L^(O|~w))+M[13]+1309151649&4294967295,R=O+(D<<21&4294967295|D>>>11),D=w+(O^(R|~L))+M[4]+4149444226&4294967295,w=R+(D<<6&4294967295|D>>>26),D=L+(R^(w|~O))+M[11]+3174756917&4294967295,L=w+(D<<10&4294967295|D>>>22),D=O+(w^(L|~R))+M[2]+718787259&4294967295,O=L+(D<<15&4294967295|D>>>17),D=R+(L^(O|~w))+M[9]+3951481745&4294967295,V.g[0]=V.g[0]+w&4294967295,V.g[1]=V.g[1]+(O+(D<<21&4294967295|D>>>11))&4294967295,V.g[2]=V.g[2]+O&4294967295,V.g[3]=V.g[3]+L&4294967295}r.prototype.u=function(V,w){w===void 0&&(w=V.length);for(var R=w-this.blockSize,M=this.B,O=this.h,L=0;L<w;){if(O==0)for(;L<=R;)o(this,V,L),L+=this.blockSize;if(typeof V=="string"){for(;L<w;)if(M[O++]=V.charCodeAt(L++),O==this.blockSize){o(this,M),O=0;break}}else for(;L<w;)if(M[O++]=V[L++],O==this.blockSize){o(this,M),O=0;break}}this.h=O,this.o+=w},r.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var w=1;w<V.length-8;++w)V[w]=0;var R=8*this.o;for(w=V.length-8;w<V.length;++w)V[w]=R&255,R/=256;for(this.u(V),V=Array(16),w=R=0;4>w;++w)for(var M=0;32>M;M+=8)V[R++]=this.g[w]>>>M&255;return V};function u(V,w){var R=d;return Object.prototype.hasOwnProperty.call(R,V)?R[V]:R[V]=w(V)}function h(V,w){this.h=w;for(var R=[],M=!0,O=V.length-1;0<=O;O--){var L=V[O]|0;M&&L==w||(R[O]=L,M=!1)}this.g=R}var d={};function p(V){return-128<=V&&128>V?u(V,function(w){return new h([w|0],0>w?-1:0)}):new h([V|0],0>V?-1:0)}function g(V){if(isNaN(V)||!isFinite(V))return E;if(0>V)return F(g(-V));for(var w=[],R=1,M=0;V>=R;M++)w[M]=V/R|0,R*=4294967296;return new h(w,0)}function v(V,w){if(V.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(V.charAt(0)=="-")return F(v(V.substring(1),w));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=g(Math.pow(w,8)),M=E,O=0;O<V.length;O+=8){var L=Math.min(8,V.length-O),D=parseInt(V.substring(O,O+L),w);8>L?(L=g(Math.pow(w,L)),M=M.j(L).add(g(D))):(M=M.j(R),M=M.add(g(D)))}return M}var E=p(0),A=p(1),C=p(16777216);n=h.prototype,n.m=function(){if(j(this))return-F(this).m();for(var V=0,w=1,R=0;R<this.g.length;R++){var M=this.i(R);V+=(0<=M?M:4294967296+M)*w,w*=4294967296}return V},n.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(P(this))return"0";if(j(this))return"-"+F(this).toString(V);for(var w=g(Math.pow(V,6)),R=this,M="";;){var O=ut(R,w).g;R=$(R,O.j(w));var L=((0<R.g.length?R.g[0]:R.h)>>>0).toString(V);if(R=O,P(R))return L+M;for(;6>L.length;)L="0"+L;M=L+M}},n.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function P(V){if(V.h!=0)return!1;for(var w=0;w<V.g.length;w++)if(V.g[w]!=0)return!1;return!0}function j(V){return V.h==-1}n.l=function(V){return V=$(this,V),j(V)?-1:P(V)?0:1};function F(V){for(var w=V.g.length,R=[],M=0;M<w;M++)R[M]=~V.g[M];return new h(R,~V.h).add(A)}n.abs=function(){return j(this)?F(this):this},n.add=function(V){for(var w=Math.max(this.g.length,V.g.length),R=[],M=0,O=0;O<=w;O++){var L=M+(this.i(O)&65535)+(V.i(O)&65535),D=(L>>>16)+(this.i(O)>>>16)+(V.i(O)>>>16);M=D>>>16,L&=65535,D&=65535,R[O]=D<<16|L}return new h(R,R[R.length-1]&-2147483648?-1:0)};function $(V,w){return V.add(F(w))}n.j=function(V){if(P(this)||P(V))return E;if(j(this))return j(V)?F(this).j(F(V)):F(F(this).j(V));if(j(V))return F(this.j(F(V)));if(0>this.l(C)&&0>V.l(C))return g(this.m()*V.m());for(var w=this.g.length+V.g.length,R=[],M=0;M<2*w;M++)R[M]=0;for(M=0;M<this.g.length;M++)for(var O=0;O<V.g.length;O++){var L=this.i(M)>>>16,D=this.i(M)&65535,fe=V.i(O)>>>16,ne=V.i(O)&65535;R[2*M+2*O]+=D*ne,Z(R,2*M+2*O),R[2*M+2*O+1]+=L*ne,Z(R,2*M+2*O+1),R[2*M+2*O+1]+=D*fe,Z(R,2*M+2*O+1),R[2*M+2*O+2]+=L*fe,Z(R,2*M+2*O+2)}for(M=0;M<w;M++)R[M]=R[2*M+1]<<16|R[2*M];for(M=w;M<2*w;M++)R[M]=0;return new h(R,0)};function Z(V,w){for(;(V[w]&65535)!=V[w];)V[w+1]+=V[w]>>>16,V[w]&=65535,w++}function Q(V,w){this.g=V,this.h=w}function ut(V,w){if(P(w))throw Error("division by zero");if(P(V))return new Q(E,E);if(j(V))return w=ut(F(V),w),new Q(F(w.g),F(w.h));if(j(w))return w=ut(V,F(w)),new Q(F(w.g),w.h);if(30<V.g.length){if(j(V)||j(w))throw Error("slowDivide_ only works with positive integers.");for(var R=A,M=w;0>=M.l(V);)R=it(R),M=it(M);var O=ct(R,1),L=ct(M,1);for(M=ct(M,2),R=ct(R,2);!P(M);){var D=L.add(M);0>=D.l(V)&&(O=O.add(R),L=D),M=ct(M,1),R=ct(R,1)}return w=$(V,O.j(w)),new Q(O,w)}for(O=E;0<=V.l(w);){for(R=Math.max(1,Math.floor(V.m()/w.m())),M=Math.ceil(Math.log(R)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),L=g(R),D=L.j(w);j(D)||0<D.l(V);)R-=M,L=g(R),D=L.j(w);P(L)&&(L=A),O=O.add(L),V=$(V,D)}return new Q(O,V)}n.A=function(V){return ut(this,V).h},n.and=function(V){for(var w=Math.max(this.g.length,V.g.length),R=[],M=0;M<w;M++)R[M]=this.i(M)&V.i(M);return new h(R,this.h&V.h)},n.or=function(V){for(var w=Math.max(this.g.length,V.g.length),R=[],M=0;M<w;M++)R[M]=this.i(M)|V.i(M);return new h(R,this.h|V.h)},n.xor=function(V){for(var w=Math.max(this.g.length,V.g.length),R=[],M=0;M<w;M++)R[M]=this.i(M)^V.i(M);return new h(R,this.h^V.h)};function it(V){for(var w=V.g.length+1,R=[],M=0;M<w;M++)R[M]=V.i(M)<<1|V.i(M-1)>>>31;return new h(R,V.h)}function ct(V,w){var R=w>>5;w%=32;for(var M=V.g.length-R,O=[],L=0;L<M;L++)O[L]=0<w?V.i(L+R)>>>w|V.i(L+R+1)<<32-w:V.i(L+R);return new h(O,V.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,DA=r,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=v,Ks=h}).apply(typeof PT<"u"?PT:typeof self<"u"?self:typeof window<"u"?window:{});var Xc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var VA,Ol,IA,rh,sp,MA,NA,OA;(function(){var n,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,_){return c==Array.prototype||c==Object.prototype||(c[y]=_.value),c};function i(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Xc=="object"&&Xc];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=i(this);function o(c,y){if(y)t:{var _=r;c=c.split(".");for(var b=0;b<c.length-1;b++){var k=c[b];if(!(k in _))break t;_=_[k]}c=c[c.length-1],b=_[c],y=y(b),y!=b&&y!=null&&t(_,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var _=0,b=!1,k={next:function(){if(!b&&_<c.length){var G=_++;return{value:y(G,c[G]),done:!1}}return b=!0,{done:!0,value:void 0}}};return k[Symbol.iterator]=function(){return k},k}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},d=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function v(c,y,_){return c.call.apply(c.bind,arguments)}function E(c,y,_){if(!c)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var k=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(k,b),c.apply(y,k)}}return function(){return c.apply(y,arguments)}}function A(c,y,_){return A=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:E,A.apply(null,arguments)}function C(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var b=_.slice();return b.push.apply(b,arguments),c.apply(this,b)}}function P(c,y){function _(){}_.prototype=y.prototype,c.aa=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(b,k,G){for(var ot=Array(arguments.length-2),Ut=2;Ut<arguments.length;Ut++)ot[Ut-2]=arguments[Ut];return y.prototype[k].apply(b,ot)}}function j(c){const y=c.length;if(0<y){const _=Array(y);for(let b=0;b<y;b++)_[b]=c[b];return _}return[]}function F(c,y){for(let _=1;_<arguments.length;_++){const b=arguments[_];if(p(b)){const k=c.length||0,G=b.length||0;c.length=k+G;for(let ot=0;ot<G;ot++)c[k+ot]=b[ot]}else c.push(b)}}class ${constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function Z(c){return/^[\s\xa0]*$/.test(c)}function Q(){var c=d.navigator;return c&&(c=c.userAgent)?c:""}function ut(c){return ut[" "](c),c}ut[" "]=function(){};var it=Q().indexOf("Gecko")!=-1&&!(Q().toLowerCase().indexOf("webkit")!=-1&&Q().indexOf("Edge")==-1)&&!(Q().indexOf("Trident")!=-1||Q().indexOf("MSIE")!=-1)&&Q().indexOf("Edge")==-1;function ct(c,y,_){for(const b in c)y.call(_,c[b],b,c)}function V(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function w(c){const y={};for(const _ in c)y[_]=c[_];return y}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(c,y){let _,b;for(let k=1;k<arguments.length;k++){b=arguments[k];for(_ in b)c[_]=b[_];for(let G=0;G<R.length;G++)_=R[G],Object.prototype.hasOwnProperty.call(b,_)&&(c[_]=b[_])}}function O(c){var y=1;c=c.split(":");const _=[];for(;0<y&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function L(c){d.setTimeout(()=>{throw c},0)}function D(){var c=Mt;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class fe{constructor(){this.h=this.g=null}add(y,_){const b=ne.get();b.set(y,_),this.h?this.h.next=b:this.g=b,this.h=b}}var ne=new $(()=>new K,c=>c.reset());class K{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let st,ft=!1,Mt=new fe,I=()=>{const c=d.Promise.resolve(void 0);st=()=>{c.then(tt)}};var tt=()=>{for(var c;c=D();){try{c.h.call(c.g)}catch(_){L(_)}var y=ne;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}ft=!1};function lt(){this.s=this.s,this.C=this.C}lt.prototype.s=!1,lt.prototype.ma=function(){this.s||(this.s=!0,this.N())},lt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function rt(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}rt.prototype.h=function(){this.defaultPrevented=!0};var gt=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};d.addEventListener("test",_,y),d.removeEventListener("test",_,y)}catch{}return c}();function Dt(c,y){if(rt.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,b=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(it){t:{try{ut(y.nodeName);var k=!0;break t}catch{}k=!1}k||(y=null)}}else _=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement);this.relatedTarget=y,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Tt[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Dt.aa.h.call(this)}}P(Dt,rt);var Tt={2:"touch",3:"pen",4:"mouse"};Dt.prototype.h=function(){Dt.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Se="closure_listenable_"+(1e6*Math.random()|0),Xt=0;function tn(c,y,_,b,k){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!b,this.ha=k,this.key=++Xt,this.da=this.fa=!1}function si(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Xn(c){this.src=c,this.g={},this.h=0}Xn.prototype.add=function(c,y,_,b,k){var G=c.toString();c=this.g[G],c||(c=this.g[G]=[],this.h++);var ot=yt(c,y,b,k);return-1<ot?(y=c[ot],_||(y.fa=!1)):(y=new tn(y,this.src,G,!!b,k),y.fa=_,c.push(y)),y};function Oi(c,y){var _=y.type;if(_ in c.g){var b=c.g[_],k=Array.prototype.indexOf.call(b,y,void 0),G;(G=0<=k)&&Array.prototype.splice.call(b,k,1),G&&(si(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function yt(c,y,_,b){for(var k=0;k<c.length;++k){var G=c[k];if(!G.da&&G.listener==y&&G.capture==!!_&&G.ha==b)return k}return-1}var le="closure_lm_"+(1e6*Math.random()|0),At={};function ye(c,y,_,b,k){if(Array.isArray(y)){for(var G=0;G<y.length;G++)ye(c,y[G],_,b,k);return null}return _=Au(_),c&&c[Se]?c.K(y,_,g(b)?!!b.capture:!1,k):en(c,y,_,!1,b,k)}function en(c,y,_,b,k,G){if(!y)throw Error("Invalid event type");var ot=g(k)?!!k.capture:!!k,Ut=sa(c);if(Ut||(c[le]=Ut=new Xn(c)),_=Ut.add(y,_,b,ot,G),_.proxy)return _;if(b=ds(),_.proxy=b,b.src=c,b.listener=_,c.addEventListener)gt||(k=ot),k===void 0&&(k=!1),c.addEventListener(y.toString(),b,k);else if(c.attachEvent)c.attachEvent(lr(y.toString()),b);else if(c.addListener&&c.removeListener)c.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return _}function ds(){function c(_){return y.call(c.src,c.listener,_)}const y=ef;return c}function Pi(c,y,_,b,k){if(Array.isArray(y))for(var G=0;G<y.length;G++)Pi(c,y[G],_,b,k);else b=g(b)?!!b.capture:!!b,_=Au(_),c&&c[Se]?(c=c.i,y=String(y).toString(),y in c.g&&(G=c.g[y],_=yt(G,_,b,k),-1<_&&(si(G[_]),Array.prototype.splice.call(G,_,1),G.length==0&&(delete c.g[y],c.h--)))):c&&(c=sa(c))&&(y=c.g[y.toString()],c=-1,y&&(c=yt(y,_,b,k)),(_=-1<c?y[c]:null)&&$n(_))}function $n(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Se])Oi(y.i,c);else{var _=c.type,b=c.proxy;y.removeEventListener?y.removeEventListener(_,b,c.capture):y.detachEvent?y.detachEvent(lr(_),b):y.addListener&&y.removeListener&&y.removeListener(b),(_=sa(y))?(Oi(_,c),_.h==0&&(_.src=null,y[le]=null)):si(c)}}}function lr(c){return c in At?At[c]:At[c]="on"+c}function ef(c,y){if(c.da)c=!0;else{y=new Dt(y,this);var _=c.listener,b=c.ha||c.src;c.fa&&$n(c),c=_.call(b,y)}return c}function sa(c){return c=c[le],c instanceof Xn?c:null}var bo="__closure_events_fn_"+(1e9*Math.random()>>>0);function Au(c){return typeof c=="function"?c:(c[bo]||(c[bo]=function(y){return c.handleEvent(y)}),c[bo])}function de(){lt.call(this),this.i=new Xn(this),this.M=this,this.F=null}P(de,lt),de.prototype[Se]=!0,de.prototype.removeEventListener=function(c,y,_,b){Pi(this,c,y,_,b)};function Kt(c,y){var _,b=c.F;if(b)for(_=[];b;b=b.F)_.push(b);if(c=c.M,b=y.type||y,typeof y=="string")y=new rt(y,c);else if(y instanceof rt)y.target=y.target||c;else{var k=y;y=new rt(b,c),M(y,k)}if(k=!0,_)for(var G=_.length-1;0<=G;G--){var ot=y.g=_[G];k=An(ot,b,!0,y)&&k}if(ot=y.g=c,k=An(ot,b,!0,y)&&k,k=An(ot,b,!1,y)&&k,_)for(G=0;G<_.length;G++)ot=y.g=_[G],k=An(ot,b,!1,y)&&k}de.prototype.N=function(){if(de.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var _=c.g[y],b=0;b<_.length;b++)si(_[b]);delete c.g[y],c.h--}}this.F=null},de.prototype.K=function(c,y,_,b){return this.i.add(String(c),y,!1,_,b)},de.prototype.L=function(c,y,_,b){return this.i.add(String(c),y,!0,_,b)};function An(c,y,_,b){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var k=!0,G=0;G<y.length;++G){var ot=y[G];if(ot&&!ot.da&&ot.capture==_){var Ut=ot.listener,Me=ot.ha||ot.src;ot.fa&&Oi(c.i,ot),k=Ut.call(Me,b)!==!1&&k}}return k&&!b.defaultPrevented}function nn(c,y,_){if(typeof c=="function")_&&(c=A(c,_));else if(c&&typeof c.handleEvent=="function")c=A(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:d.setTimeout(c,y||0)}function Su(c){c.g=nn(()=>{c.g=null,c.i&&(c.i=!1,Su(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class nf extends lt{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Su(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ur(c){lt.call(this),this.h=c,this.g={}}P(ur,lt);var cr=[];function hr(c){ct(c.g,function(y,_){this.g.hasOwnProperty(_)&&$n(y)},c),c.g={}}ur.prototype.N=function(){ur.aa.N.call(this),hr(this)},ur.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Zn=d.JSON.stringify,ra=d.JSON.parse,fr=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function wo(){}wo.prototype.h=null;function Ro(c){return c.h||(c.h=c.i())}function Co(){}var Li={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ui(){rt.call(this,"d")}P(Ui,rt);function xo(){rt.call(this,"c")}P(xo,rt);var ri={},Do=null;function ms(){return Do=Do||new de}ri.La="serverreachability";function aa(c){rt.call(this,ri.La,c)}P(aa,rt);function ps(c){const y=ms();Kt(y,new aa(y))}ri.STAT_EVENT="statevent";function bu(c,y){rt.call(this,ri.STAT_EVENT,c),this.stat=y}P(bu,rt);function re(c){const y=ms();Kt(y,new bu(y,c))}ri.Ma="timingevent";function Ie(c,y){rt.call(this,ri.Ma,c),this.size=y}P(Ie,rt);function be(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},y)}function Nn(){this.g=!0}Nn.prototype.xa=function(){this.g=!1};function Vo(c,y,_,b,k,G){c.info(function(){if(c.g)if(G)for(var ot="",Ut=G.split("&"),Me=0;Me<Ut.length;Me++){var kt=Ut[Me].split("=");if(1<kt.length){var Be=kt[0];kt=kt[1];var Ne=Be.split("_");ot=2<=Ne.length&&Ne[1]=="type"?ot+(Be+"="+kt+"&"):ot+(Be+"=redacted&")}}else ot=null;else ot=G;return"XMLHTTP REQ ("+b+") [attempt "+k+"]: "+y+`
`+_+`
`+ot})}function sf(c,y,_,b,k,G,ot){c.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+k+"]: "+y+`
`+_+`
`+G+" "+ot})}function gs(c,y,_,b){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+dr(c,_)+(b?" "+b:"")})}function wu(c,y){c.info(function(){return"TIMEOUT: "+y})}Nn.prototype.info=function(){};function dr(c,y){if(!c.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var b=_[c];if(!(2>b.length)){var k=b[1];if(Array.isArray(k)&&!(1>k.length)){var G=k[0];if(G!="noop"&&G!="stop"&&G!="close")for(var ot=1;ot<k.length;ot++)k[ot]=""}}}}return Zn(_)}catch{return y}}var ys={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ki={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ai;function oi(){}P(oi,wo),oi.prototype.g=function(){return new XMLHttpRequest},oi.prototype.i=function(){return{}},ai=new oi;function cn(c,y,_,b){this.j=c,this.i=y,this.l=_,this.R=b||1,this.U=new ur(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ve}function ve(){this.i=null,this.g="",this.h=!1}var Io={},oa={};function Wn(c,y,_){c.L=1,c.v=vr(Sn(y)),c.m=_,c.P=!0,Bi(c,null)}function Bi(c,y){c.F=Date.now(),mr(c),c.A=Sn(c.v);var _=c.A,b=c.R;Array.isArray(b)||(b=[String(b)]),Uo(_.i,"t",b),c.C=0,_=c.j.J,c.h=new ve,c.g=ju(c.j,_?y:null,!c.m),0<c.O&&(c.M=new nf(A(c.Y,c,c.g),c.O)),y=c.U,_=c.g,b=c.ca;var k="readystatechange";Array.isArray(k)||(k&&(cr[0]=k.toString()),k=cr);for(var G=0;G<k.length;G++){var ot=ye(_,k[G],b||y.handleEvent,!1,y.h||y);if(!ot)break;y.g[ot.key]=ot}y=c.H?w(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),ps(),Vo(c.i,c.u,c.A,c.l,c.R,c.m)}cn.prototype.ca=function(c){c=c.target;const y=this.M;y&&Un(c)==3?y.j():this.Y(c)},cn.prototype.Y=function(c){try{if(c==this.g)t:{const Ne=Un(this.g);var y=this.g.Ba();const Yi=this.g.Z();if(!(3>Ne)&&(Ne!=3||this.g&&(this.h.h||this.g.oa()||Nu(this.g)))){this.J||Ne!=4||y==7||(y==8||0>=Yi?ps(3):ps(2)),vs(this);var _=this.g.Z();this.X=_;e:if(Ru(this)){var b=Nu(this.g);c="";var k=b.length,G=Un(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ge(this),li(this);var ot="";break e}this.h.i=new d.TextDecoder}for(y=0;y<k;y++)this.h.h=!0,c+=this.h.i.decode(b[y],{stream:!(G&&y==k-1)});b.length=0,this.h.g+=c,this.C=0,ot=this.h.g}else ot=this.g.oa();if(this.o=_==200,sf(this.i,this.u,this.A,this.l,this.R,Ne,_),this.o){if(this.T&&!this.K){e:{if(this.g){var Ut,Me=this.g;if((Ut=Me.g?Me.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Z(Ut)){var kt=Ut;break e}}kt=null}if(_=kt)gs(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,pr(this,_);else{this.o=!1,this.s=3,re(12),Ge(this),li(this);break t}}if(this.P){_=!0;let Ke;for(;!this.J&&this.C<ot.length;)if(Ke=Cu(this,ot),Ke==oa){Ne==4&&(this.s=4,re(14),_=!1),gs(this.i,this.l,null,"[Incomplete Response]");break}else if(Ke==Io){this.s=4,re(15),gs(this.i,this.l,ot,"[Invalid Chunk]"),_=!1;break}else gs(this.i,this.l,Ke,null),pr(this,Ke);if(Ru(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ne!=4||ot.length!=0||this.h.h||(this.s=1,re(16),_=!1),this.o=this.o&&_,!_)gs(this.i,this.l,ot,"[Invalid Chunked Response]"),Ge(this),li(this);else if(0<ot.length&&!this.W){this.W=!0;var Be=this.j;Be.g==this&&Be.ba&&!Be.M&&(Be.j.info("Great, no buffering proxy detected. Bytes received: "+ot.length),Rr(Be),Be.M=!0,re(11))}}else gs(this.i,this.l,ot,null),pr(this,ot);Ne==4&&Ge(this),this.o&&!this.J&&(Ne==4?ku(this.j,this):(this.o=!1,mr(this)))}else uf(this.g),_==400&&0<ot.indexOf("Unknown SID")?(this.s=3,re(12)):(this.s=0,re(13)),Ge(this),li(this)}}}catch{}finally{}};function Ru(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Cu(c,y){var _=c.C,b=y.indexOf(`
`,_);return b==-1?oa:(_=Number(y.substring(_,b)),isNaN(_)?Io:(b+=1,b+_>y.length?oa:(y=y.slice(b,b+_),c.C=b+_,y)))}cn.prototype.cancel=function(){this.J=!0,Ge(this)};function mr(c){c.S=Date.now()+c.I,xu(c,c.I)}function xu(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=be(A(c.ba,c),y)}function vs(c){c.B&&(d.clearTimeout(c.B),c.B=null)}cn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(wu(this.i,this.A),this.L!=2&&(ps(),re(17)),Ge(this),this.s=2,li(this)):xu(this,this.S-c)};function li(c){c.j.G==0||c.J||ku(c.j,c)}function Ge(c){vs(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,hr(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function pr(c,y){try{var _=c.j;if(_.G!=0&&(_.g==c||Mo(_.h,c))){if(!c.K&&Mo(_.h,c)&&_.G==3){try{var b=_.Da.g.parse(y)}catch{b=null}if(Array.isArray(b)&&b.length==3){var k=b;if(k[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)_a(_),ya(_);else break t;qo(_),re(18)}}else _.za=k[1],0<_.za-_.T&&37500>k[2]&&_.F&&_.v==0&&!_.C&&(_.C=be(A(_.Za,_),6e3));if(1>=ua(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Ki(_,11)}else if((c.K||_.g==c)&&_a(_),!Z(y))for(k=_.Da.g.parse(y),y=0;y<k.length;y++){let kt=k[y];if(_.T=kt[0],kt=kt[1],_.G==2)if(kt[0]=="c"){_.K=kt[1],_.ia=kt[2];const Be=kt[3];Be!=null&&(_.la=Be,_.j.info("VER="+_.la));const Ne=kt[4];Ne!=null&&(_.Aa=Ne,_.j.info("SVER="+_.Aa));const Yi=kt[5];Yi!=null&&typeof Yi=="number"&&0<Yi&&(b=1.5*Yi,_.L=b,_.j.info("backChannelRequestTimeoutMs_="+b)),b=_;const Ke=c.g;if(Ke){const pi=Ke.g?Ke.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(pi){var G=b.h;G.g||pi.indexOf("spdy")==-1&&pi.indexOf("quic")==-1&&pi.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(ca(G,G.h),G.h=null))}if(b.D){const Ho=Ke.g?Ke.g.getResponseHeader("X-HTTP-Session-Id"):null;Ho&&(b.ya=Ho,$t(b.I,b.D,Ho))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),b=_;var ot=c;if(b.qa=zu(b,b.J?b.ia:null,b.W),ot.K){hn(b.h,ot);var Ut=ot,Me=b.L;Me&&(Ut.I=Me),Ut.B&&(vs(Ut),mr(Ut)),b.g=ot}else Lu(b);0<_.i.length&&va(_)}else kt[0]!="stop"&&kt[0]!="close"||Ki(_,7);else _.G==3&&(kt[0]=="stop"||kt[0]=="close"?kt[0]=="stop"?Ki(_,7):zo(_):kt[0]!="noop"&&_.l&&_.l.ta(kt),_.v=0)}}ps(4)}catch{}}var Du=class{constructor(c,y){this.g=c,this.map=y}};function zi(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function la(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ua(c){return c.h?1:c.g?c.g.size:0}function Mo(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function ca(c,y){c.g?c.g.add(y):c.h=y}function hn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}zi.prototype.cancel=function(){if(this.i=No(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function No(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.D);return y}return j(c.i)}function rf(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],_=c.length,b=0;b<_;b++)y.push(c[b]);return y}y=[],_=0;for(b in c)y[_++]=c[b];return y}function ha(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var _=0;_<c;_++)y.push(_);return y}y=[],_=0;for(const b in c)y[_++]=b;return y}}}function Oo(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var _=ha(c),b=rf(c),k=b.length,G=0;G<k;G++)y.call(void 0,b[G],_&&_[G],c)}var gr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function af(c,y){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var b=c[_].indexOf("="),k=null;if(0<=b){var G=c[_].substring(0,b);k=c[_].substring(b+1)}else G=c[_];y(G,k?decodeURIComponent(k.replace(/\+/g," ")):"")}}}function we(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof we){this.h=c.h,yr(this,c.j),this.o=c.o,this.g=c.g,_s(this,c.s),this.l=c.l;var y=c.i,_=new qi;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),ji(this,_),this.m=c.m}else c&&(y=String(c).match(gr))?(this.h=!1,yr(this,y[1]||"",!0),this.o=On(y[2]||""),this.g=On(y[3]||"",!0),_s(this,y[4]),this.l=On(y[5]||"",!0),ji(this,y[6]||"",!0),this.m=On(y[7]||"")):(this.h=!1,this.i=new qi(null,this.h))}we.prototype.toString=function(){var c=[],y=this.j;y&&c.push(_r(y,Po,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(_r(y,Po,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(_r(_,_.charAt(0)=="/"?of:Lo,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",_r(_,fa)),c.join("")};function Sn(c){return new we(c)}function yr(c,y,_){c.j=_?On(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function _s(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function ji(c,y,_){y instanceof qi?(c.i=y,Iu(c.i,c.h)):(_||(y=_r(y,lf)),c.i=new qi(y,c.h))}function $t(c,y,_){c.i.set(y,_)}function vr(c){return $t(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function On(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function _r(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,Vu),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Vu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Po=/[#\/\?@]/g,Lo=/[#\?:]/g,of=/[#\?]/g,lf=/[#\?@]/g,fa=/#/g;function qi(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Pn(c){c.g||(c.g=new Map,c.h=0,c.i&&af(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}n=qi.prototype,n.add=function(c,y){Pn(this),this.i=null,c=ui(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function Fi(c,y){Pn(c),y=ui(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Hi(c,y){return Pn(c),y=ui(c,y),c.g.has(y)}n.forEach=function(c,y){Pn(this),this.g.forEach(function(_,b){_.forEach(function(k){c.call(y,k,b,this)},this)},this)},n.na=function(){Pn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let b=0;b<y.length;b++){const k=c[b];for(let G=0;G<k.length;G++)_.push(y[b])}return _},n.V=function(c){Pn(this);let y=[];if(typeof c=="string")Hi(this,c)&&(y=y.concat(this.g.get(ui(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)y=y.concat(c[_])}return y},n.set=function(c,y){return Pn(this),this.i=null,c=ui(this,c),Hi(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},n.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Uo(c,y,_){Fi(c,y),0<_.length&&(c.i=null,c.g.set(ui(c,y),j(_)),c.h+=_.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var b=y[_];const G=encodeURIComponent(String(b)),ot=this.V(b);for(b=0;b<ot.length;b++){var k=G;ot[b]!==""&&(k+="="+encodeURIComponent(String(ot[b]))),c.push(k)}}return this.i=c.join("&")};function ui(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Iu(c,y){y&&!c.j&&(Pn(c),c.i=null,c.g.forEach(function(_,b){var k=b.toLowerCase();b!=k&&(Fi(this,b),Uo(this,k,_))},c)),c.j=y}function Tr(c,y){const _=new Nn;if(d.Image){const b=new Image;b.onload=C(Ln,_,"TestLoadImage: loaded",!0,y,b),b.onerror=C(Ln,_,"TestLoadImage: error",!1,y,b),b.onabort=C(Ln,_,"TestLoadImage: abort",!1,y,b),b.ontimeout=C(Ln,_,"TestLoadImage: timeout",!1,y,b),d.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=c}else y(!1)}function Jn(c,y){const _=new Nn,b=new AbortController,k=setTimeout(()=>{b.abort(),Ln(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:b.signal}).then(G=>{clearTimeout(k),G.ok?Ln(_,"TestPingServer: ok",!0,y):Ln(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(k),Ln(_,"TestPingServer: error",!1,y)})}function Ln(c,y,_,b,k){try{k&&(k.onload=null,k.onerror=null,k.onabort=null,k.ontimeout=null),b(_)}catch{}}function Er(){this.g=new fr}function ci(c,y,_){const b=_||"";try{Oo(c,function(k,G){let ot=k;g(k)&&(ot=Zn(k)),y.push(b+G+"="+encodeURIComponent(ot))})}catch(k){throw y.push(b+"type="+encodeURIComponent("_badmap")),k}}function Ts(c){this.l=c.Ub||null,this.j=c.eb||!1}P(Ts,wo),Ts.prototype.g=function(){return new Gi(this.l,this.j)},Ts.prototype.i=function(c){return function(){return c}}({});function Gi(c,y){de.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}P(Gi,de),n=Gi.prototype,n.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,fi(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||d).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,hi(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,fi(this)),this.g&&(this.readyState=3,fi(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ko(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function ko(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?hi(this):fi(this),this.readyState==3&&ko(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,hi(this))},n.Qa=function(c){this.g&&(this.response=c,hi(this))},n.ga=function(){this.g&&hi(this)};function hi(c){c.readyState=4,c.l=null,c.j=null,c.v=null,fi(c)}n.setRequestHeader=function(c,y){this.u.append(c,y)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function fi(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Gi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Bo(c){let y="";return ct(c,function(_,b){y+=b,y+=":",y+=_,y+=`\r
`}),y}function ke(c,y,_){t:{for(b in _){var b=!1;break t}b=!0}b||(_=Bo(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):$t(c,y,_))}function Ht(c){de.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}P(Ht,de);var da=/^https?$/i,Ar=["POST","PUT"];n=Ht.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,y,_,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ai.g(),this.v=this.o?Ro(this.o):Ro(ai),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(G){Mu(this,G);return}if(c=_||"",_=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var k in b)_.set(k,b[k]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const G of b.keys())_.set(G,b.get(G));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(_.keys()).find(G=>G.toLowerCase()=="content-type"),k=d.FormData&&c instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Ar,y,void 0))||b||k||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,ot]of _)this.g.setRequestHeader(G,ot);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Sr(this),this.u=!0,this.g.send(c),this.u=!1}catch(G){Mu(this,G)}};function Mu(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,ma(c),di(c)}function ma(c){c.A||(c.A=!0,Kt(c,"complete"),Kt(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Kt(this,"complete"),Kt(this,"abort"),di(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),di(this,!0)),Ht.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?pa(this):this.bb())},n.bb=function(){pa(this)};function pa(c){if(c.h&&typeof h<"u"&&(!c.v[1]||Un(c)!=4||c.Z()!=2)){if(c.u&&Un(c)==4)nn(c.Ea,0,c);else if(Kt(c,"readystatechange"),Un(c)==4){c.h=!1;try{const ot=c.Z();t:switch(ot){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break t;default:y=!1}var _;if(!(_=y)){var b;if(b=ot===0){var k=String(c.D).match(gr)[1]||null;!k&&d.self&&d.self.location&&(k=d.self.location.protocol.slice(0,-1)),b=!da.test(k?k.toLowerCase():"")}_=b}if(_)Kt(c,"complete"),Kt(c,"success");else{c.m=6;try{var G=2<Un(c)?c.g.statusText:""}catch{G=""}c.l=G+" ["+c.Z()+"]",ma(c)}}finally{di(c)}}}}function di(c,y){if(c.g){Sr(c);const _=c.g,b=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Kt(c,"ready");try{_.onreadystatechange=b}catch{}}}function Sr(c){c.I&&(d.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function Un(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<Un(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),ra(y)}};function Nu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function uf(c){const y={};c=(c.g&&2<=Un(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<c.length;b++){if(Z(c[b]))continue;var _=O(c[b]);const k=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const G=y[k]||[];y[k]=G,G.push(_)}V(y,function(b){return b.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function br(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function ga(c){this.Aa=0,this.i=[],this.j=new Nn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=br("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=br("baseRetryDelayMs",5e3,c),this.cb=br("retryDelaySeedMs",1e4,c),this.Wa=br("forwardChannelMaxRetries",2,c),this.wa=br("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new zi(c&&c.concurrentRequestLimit),this.Da=new Er,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=ga.prototype,n.la=8,n.G=1,n.connect=function(c,y,_,b){re(0),this.W=c,this.H=y||{},_&&b!==void 0&&(this.H.OSID=_,this.H.OAID=b),this.F=this.X,this.I=zu(this,null,this.W),va(this)};function zo(c){if(Ou(c),c.G==3){var y=c.U++,_=Sn(c.I);if($t(_,"SID",c.K),$t(_,"RID",y),$t(_,"TYPE","terminate"),wr(c,_),y=new cn(c,c.j,y),y.L=2,y.v=vr(Sn(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&d.Image&&(new Image().src=y.v,_=!0),_||(y.g=ju(y.j,null),y.g.ea(y.v)),y.F=Date.now(),mr(y)}Bu(c)}function ya(c){c.g&&(Rr(c),c.g.cancel(),c.g=null)}function Ou(c){ya(c),c.u&&(d.clearTimeout(c.u),c.u=null),_a(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&d.clearTimeout(c.s),c.s=null)}function va(c){if(!la(c.h)&&!c.s){c.s=!0;var y=c.Ga;st||I(),ft||(st(),ft=!0),Mt.add(y,c),c.B=0}}function cf(c,y){return ua(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=be(A(c.Ga,c,y),Fo(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const k=new cn(this,this.j,c);let G=this.o;if(this.S&&(G?(G=w(G),M(G,this.S)):G=this.S),this.m!==null||this.O||(k.H=G,G=null),this.P)t:{for(var y=0,_=0;_<this.i.length;_++){e:{var b=this.i[_];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break e}b=void 0}if(b===void 0)break;if(y+=b,4096<y){y=_;break t}if(y===4096||_===this.i.length-1){y=_+1;break t}}y=1e3}else y=1e3;y=Pu(this,k,y),_=Sn(this.I),$t(_,"RID",c),$t(_,"CVER",22),this.D&&$t(_,"X-HTTP-Session-Id",this.D),wr(this,_),G&&(this.O?y="headers="+encodeURIComponent(String(Bo(G)))+"&"+y:this.m&&ke(_,this.m,G)),ca(this.h,k),this.Ua&&$t(_,"TYPE","init"),this.P?($t(_,"$req",y),$t(_,"SID","null"),k.T=!0,Wn(k,_,null)):Wn(k,_,y),this.G=2}}else this.G==3&&(c?jo(this,c):this.i.length==0||la(this.h)||jo(this))};function jo(c,y){var _;y?_=y.l:_=c.U++;const b=Sn(c.I);$t(b,"SID",c.K),$t(b,"RID",_),$t(b,"AID",c.T),wr(c,b),c.m&&c.o&&ke(b,c.m,c.o),_=new cn(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Pu(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),ca(c.h,_),Wn(_,b,y)}function wr(c,y){c.H&&ct(c.H,function(_,b){$t(y,b,_)}),c.l&&Oo({},function(_,b){$t(y,b,_)})}function Pu(c,y,_){_=Math.min(c.i.length,_);var b=c.l?A(c.l.Na,c.l,c):null;t:{var k=c.i;let G=-1;for(;;){const ot=["count="+_];G==-1?0<_?(G=k[0].g,ot.push("ofs="+G)):G=0:ot.push("ofs="+G);let Ut=!0;for(let Me=0;Me<_;Me++){let kt=k[Me].g;const Be=k[Me].map;if(kt-=G,0>kt)G=Math.max(0,k[Me].g-100),Ut=!1;else try{ci(Be,ot,"req"+kt+"_")}catch{b&&b(Be)}}if(Ut){b=ot.join("&");break t}}}return c=c.i.splice(0,_),y.D=c,b}function Lu(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;st||I(),ft||(st(),ft=!0),Mt.add(y,c),c.v=0}}function qo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=be(A(c.Fa,c),Fo(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,Uu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=be(A(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,re(10),ya(this),Uu(this))};function Rr(c){c.A!=null&&(d.clearTimeout(c.A),c.A=null)}function Uu(c){c.g=new cn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=Sn(c.qa);$t(y,"RID","rpc"),$t(y,"SID",c.K),$t(y,"AID",c.T),$t(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&$t(y,"TO",c.ja),$t(y,"TYPE","xmlhttp"),wr(c,y),c.m&&c.o&&ke(y,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=vr(Sn(y)),_.m=null,_.P=!0,Bi(_,c)}n.Za=function(){this.C!=null&&(this.C=null,ya(this),qo(this),re(19))};function _a(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function ku(c,y){var _=null;if(c.g==y){_a(c),Rr(c),c.g=null;var b=2}else if(Mo(c.h,y))_=y.D,hn(c.h,y),b=1;else return;if(c.G!=0){if(y.o)if(b==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var k=c.B;b=ms(),Kt(b,new Ie(b,_)),va(c)}else Lu(c);else if(k=y.s,k==3||k==0&&0<y.X||!(b==1&&cf(c,y)||b==2&&qo(c)))switch(_&&0<_.length&&(y=c.h,y.i=y.i.concat(_)),k){case 1:Ki(c,5);break;case 4:Ki(c,10);break;case 3:Ki(c,6);break;default:Ki(c,2)}}}function Fo(c,y){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*y}function Ki(c,y){if(c.j.info("Error code "+y),y==2){var _=A(c.fb,c),b=c.Xa;const k=!b;b=new we(b||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||yr(b,"https"),vr(b),k?Tr(b.toString(),_):Jn(b.toString(),_)}else re(2);c.G=0,c.l&&c.l.sa(y),Bu(c),Ou(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),re(2)):(this.j.info("Failed to ping google.com"),re(1))};function Bu(c){if(c.G=0,c.ka=[],c.l){const y=No(c.h);(y.length!=0||c.i.length!=0)&&(F(c.ka,y),F(c.ka,c.i),c.h.i.length=0,j(c.i),c.i.length=0),c.l.ra()}}function zu(c,y,_){var b=_ instanceof we?Sn(_):new we(_);if(b.g!="")y&&(b.g=y+"."+b.g),_s(b,b.s);else{var k=d.location;b=k.protocol,y=y?y+"."+k.hostname:k.hostname,k=+k.port;var G=new we(null);b&&yr(G,b),y&&(G.g=y),k&&_s(G,k),_&&(G.l=_),b=G}return _=c.D,y=c.ya,_&&y&&$t(b,_,y),$t(b,"VER",c.la),wr(c,b),b}function ju(c,y,_){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new Ht(new Ts({eb:_})):new Ht(c.pa),y.Ha(c.J),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function qu(){}n=qu.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Ta(){}Ta.prototype.g=function(c,y){return new fn(c,y)};function fn(c,y){de.call(this),this.g=new ga(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!Z(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!Z(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new mi(this)}P(fn,de),fn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},fn.prototype.close=function(){zo(this.g)},fn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Zn(c),c=_);y.i.push(new Du(y.Ya++,c)),y.G==3&&va(y)},fn.prototype.N=function(){this.g.l=null,delete this.j,zo(this.g),delete this.g,fn.aa.N.call(this)};function Fu(c){Ui.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){t:{for(const _ in y){c=_;break t}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}P(Fu,Ui);function Hu(){xo.call(this),this.status=1}P(Hu,xo);function mi(c){this.g=c}P(mi,qu),mi.prototype.ua=function(){Kt(this.g,"a")},mi.prototype.ta=function(c){Kt(this.g,new Fu(c))},mi.prototype.sa=function(c){Kt(this.g,new Hu)},mi.prototype.ra=function(){Kt(this.g,"b")},Ta.prototype.createWebChannel=Ta.prototype.g,fn.prototype.send=fn.prototype.o,fn.prototype.open=fn.prototype.m,fn.prototype.close=fn.prototype.close,OA=function(){return new Ta},NA=function(){return ms()},MA=ri,sp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ys.NO_ERROR=0,ys.TIMEOUT=8,ys.HTTP_ERROR=6,rh=ys,ki.COMPLETE="complete",IA=ki,Co.EventType=Li,Li.OPEN="a",Li.CLOSE="b",Li.ERROR="c",Li.MESSAGE="d",de.prototype.listen=de.prototype.K,Ol=Co,Ht.prototype.listenOnce=Ht.prototype.L,Ht.prototype.getLastError=Ht.prototype.Ka,Ht.prototype.getLastErrorCode=Ht.prototype.Ba,Ht.prototype.getStatus=Ht.prototype.Z,Ht.prototype.getResponseJson=Ht.prototype.Oa,Ht.prototype.getResponseText=Ht.prototype.oa,Ht.prototype.send=Ht.prototype.ea,Ht.prototype.setWithCredentials=Ht.prototype.Ha,VA=Ht}).apply(typeof Xc<"u"?Xc:typeof self<"u"?self:typeof window<"u"?window:{});const LT="@firebase/firestore",UT="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}on.UNAUTHENTICATED=new on(null),on.GOOGLE_CREDENTIALS=new on("google-credentials-uid"),on.FIRST_PARTY=new on("first-party-uid"),on.MOCK_USER=new on("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let To="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wr=new ag("@firebase/firestore");function Xa(){return Wr.logLevel}function ht(n,...t){if(Wr.logLevel<=jt.DEBUG){const i=t.map(lg);Wr.debug(`Firestore (${To}): ${n}`,...i)}}function hs(n,...t){if(Wr.logLevel<=jt.ERROR){const i=t.map(lg);Wr.error(`Firestore (${To}): ${n}`,...i)}}function uo(n,...t){if(Wr.logLevel<=jt.WARN){const i=t.map(lg);Wr.warn(`Firestore (${To}): ${n}`,...i)}}function lg(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function St(n,t,i){let r="Unexpected state";typeof t=="string"?r=t:i=t,PA(n,r,i)}function PA(n,t,i){let r=`FIRESTORE (${To}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw hs(r),new Error(r)}function Gt(n,t,i,r){let o="Unexpected state";typeof i=="string"?o=i:r=i,n||PA(t,o,r)}function Ct(n,t){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const et={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class mt extends rr{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(){this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LA{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class VI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable(()=>i(on.UNAUTHENTICATED))}shutdown(){}}class II{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class MI{constructor(t){this.t=t,this.currentUser=on.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Gt(this.o===void 0,42304);let r=this.i;const o=p=>this.i!==r?(r=this.i,i(p)):Promise.resolve();let u=new Ys;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Ys,t.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const p=u;t.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},d=p=>{ht("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(p=>d(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(ht("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Ys)}},0),h()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(r=>this.i!==t?(ht("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Gt(typeof r.accessToken=="string",31837,{l:r}),new LA(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Gt(t===null||typeof t=="string",2055,{h:t}),new on(t)}}class NI{constructor(t,i,r){this.P=t,this.T=i,this.I=r,this.type="FirstParty",this.user=on.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class OI{constructor(t,i,r){this.P=t,this.T=i,this.I=r}getToken(){return Promise.resolve(new NI(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable(()=>i(on.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class kT{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class PI{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,gI(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Gt(this.o===void 0,3512);const r=u=>{u.error!=null&&ht("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,ht("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?i(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable(()=>r(u))};const o=u=>{ht("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ht("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new kT(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(i=>i?(Gt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new kT(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LI(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let r=0;r<n;r++)i[r]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=LI(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<i&&(r+=t.charAt(o[u]%62))}return r}}function Pt(n,t){return n<t?-1:n>t?1:0}function rp(n,t){const i=Math.min(n.length,t.length);for(let r=0;r<i;r++){const o=n.charAt(r),u=t.charAt(r);if(o!==u)return bm(o)===bm(u)?Pt(o,u):bm(o)?1:-1}return Pt(n.length,t.length)}const UI=55296,kI=57343;function bm(n){const t=n.charCodeAt(0);return t>=UI&&t<=kI}function co(n,t,i){return n.length===t.length&&n.every((r,o)=>i(r,t[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BT="__name__";class Ei{constructor(t,i,r){i===void 0?i=0:i>t.length&&St(637,{offset:i,range:t.length}),r===void 0?r=t.length-i:r>t.length-i&&St(1746,{length:r,range:t.length-i}),this.segments=t,this.offset=i,this.len=r}get length(){return this.len}isEqual(t){return Ei.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Ei?t.forEach(r=>{i.push(r)}):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,r=this.limit();i<r;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const r=Math.min(t.length,i.length);for(let o=0;o<r;o++){const u=Ei.compareSegments(t.get(o),i.get(o));if(u!==0)return u}return Pt(t.length,i.length)}static compareSegments(t,i){const r=Ei.isNumericId(t),o=Ei.isNumericId(i);return r&&!o?-1:!r&&o?1:r&&o?Ei.extractNumericId(t).compare(Ei.extractNumericId(i)):rp(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Ks.fromString(t.substring(4,t.length-2))}}class ie extends Ei{construct(t,i,r){return new ie(t,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const r of t){if(r.indexOf("//")>=0)throw new mt(et.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter(o=>o.length>0))}return new ie(i)}static emptyPath(){return new ie([])}}const BI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class We extends Ei{construct(t,i,r){return new We(t,i,r)}static isValidIdentifier(t){return BI.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),We.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===BT}static keyField(){return new We([BT])}static fromServerFormat(t){const i=[];let r="",o=0;const u=()=>{if(r.length===0)throw new mt(et.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let h=!1;for(;o<t.length;){const d=t[o];if(d==="\\"){if(o+1===t.length)throw new mt(et.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new mt(et.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=p,o+=2}else d==="`"?(h=!h,o++):d!=="."||h?(r+=d,o++):(u(),o++)}if(u(),h)throw new mt(et.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new We(i)}static emptyPath(){return new We([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(t){this.path=t}static fromPath(t){return new vt(ie.fromString(t))}static fromName(t){return new vt(ie.fromString(t).popFirst(5))}static empty(){return new vt(ie.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ie.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return ie.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new vt(new ie(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UA(n,t,i){if(!i)throw new mt(et.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function zI(n,t,i,r){if(t===!0&&r===!0)throw new mt(et.INVALID_ARGUMENT,`${n} and ${i} cannot be used together.`)}function zT(n){if(!vt.isDocumentKey(n))throw new mt(et.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function jT(n){if(vt.isDocumentKey(n))throw new mt(et.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function kA(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function cg(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":St(12329,{type:typeof n})}function ho(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new mt(et.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=cg(n);throw new mt(et.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ve(n,t){const i={typeString:n};return t&&(i.value=t),i}function gu(n,t){if(!kA(n))throw new mt(et.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in t)if(t[r]){const o=t[r].typeString,u="value"in t[r]?{value:t[r].value}:void 0;if(!(r in n)){i=`JSON missing required field: '${r}'`;break}const h=n[r];if(o&&typeof h!==o){i=`JSON field '${r}' must be a ${o}.`;break}if(u!==void 0&&h!==u.value){i=`Expected '${r}' field to equal '${u.value}'`;break}}if(i)throw new mt(et.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qT=-62135596800,FT=1e6;class se{static now(){return se.fromMillis(Date.now())}static fromDate(t){return se.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),r=Math.floor((t-1e3*i)*FT);return new se(i,r)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new mt(et.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new mt(et.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<qT)throw new mt(et.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new mt(et.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/FT}_compareTo(t){return this.seconds===t.seconds?Pt(this.nanoseconds,t.nanoseconds):Pt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:se._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(gu(t,se._jsonSchema))return new se(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-qT;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}se._jsonSchemaVersion="firestore/timestamp/1.0",se._jsonSchema={type:Ve("string",se._jsonSchemaVersion),seconds:Ve("number"),nanoseconds:Ve("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{static fromTimestamp(t){return new Rt(t)}static min(){return new Rt(new se(0,0))}static max(){return new Rt(new se(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iu=-1;function jI(n,t){const i=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=Rt.fromTimestamp(r===1e9?new se(i+1,0):new se(i,r));return new Ws(o,vt.empty(),t)}function qI(n){return new Ws(n.readTime,n.key,iu)}class Ws{constructor(t,i,r){this.readTime=t,this.documentKey=i,this.largestBatchId=r}static min(){return new Ws(Rt.min(),vt.empty(),iu)}static max(){return new Ws(Rt.max(),vt.empty(),iu)}}function FI(n,t){let i=n.readTime.compareTo(t.readTime);return i!==0?i:(i=vt.comparator(n.documentKey,t.documentKey),i!==0?i:Pt(n.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class GI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eo(n){if(n.code!==et.FAILED_PRECONDITION||n.message!==HI)throw n;ht("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&St(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new J((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(i,u).next(r,o)}})}toPromise(){return new Promise((t,i)=>{this.next(t,i)})}wrapUserFunction(t){try{const i=t();return i instanceof J?i:J.resolve(i)}catch(i){return J.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction(()=>t(i)):J.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction(()=>t(i)):J.reject(i)}static resolve(t){return new J((i,r)=>{i(t)})}static reject(t){return new J((i,r)=>{r(t)})}static waitFor(t){return new J((i,r)=>{let o=0,u=0,h=!1;t.forEach(d=>{++o,d.next(()=>{++u,h&&u===o&&i()},p=>r(p))}),h=!0,u===o&&i()})}static or(t){let i=J.resolve(!1);for(const r of t)i=i.next(o=>o?J.resolve(o):r());return i}static forEach(t,i){const r=[];return t.forEach((o,u)=>{r.push(i.call(this,o,u))}),this.waitFor(r)}static mapArray(t,i){return new J((r,o)=>{const u=t.length,h=new Array(u);let d=0;for(let p=0;p<u;p++){const g=p;i(t[g]).next(v=>{h[g]=v,++d,d===u&&r(h)},v=>o(v))}})}static doWhile(t,i){return new J((r,o)=>{const u=()=>{t()===!0?i().next(()=>{u()},o):r()};u()})}}function KI(n){const t=n.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Ao(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Ph.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hg=-1;function Lh(n){return n==null}function vh(n){return n===0&&1/n==-1/0}function YI(n){return typeof n=="number"&&Number.isInteger(n)&&!vh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BA="";function QI(n){let t="";for(let i=0;i<n.length;i++)t.length>0&&(t=HT(t)),t=XI(n.get(i),t);return HT(t)}function XI(n,t){let i=t;const r=n.length;for(let o=0;o<r;o++){const u=n.charAt(o);switch(u){case"\0":i+="";break;case BA:i+="";break;default:i+=u}}return i}function HT(n){return n+BA+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GT(n){let t=0;for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&t++;return t}function ar(n,t){for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&t(i,n[i])}function zA(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(t,i){this.comparator=t,this.root=i||Ze.EMPTY}insert(t,i){return new he(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Ze.BLACK,null,null))}remove(t){return new he(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ze.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(t){let i=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(t,r.key);if(o===0)return i+r.left.size;o<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((i,r)=>(t(i,r),!1))}toString(){const t=[];return this.inorderTraversal((i,r)=>(t.push(`${i}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new $c(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new $c(this.root,t,this.comparator,!1)}getReverseIterator(){return new $c(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new $c(this.root,t,this.comparator,!0)}}class $c{constructor(t,i,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=i?r(t.key,i):1,i&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ze{constructor(t,i,r,o,u){this.key=t,this.value=i,this.color=r??Ze.RED,this.left=o??Ze.EMPTY,this.right=u??Ze.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,r,o,u){return new Ze(t??this.key,i??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let o=this;const u=r(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,i,r),null):u===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(t,i,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ze.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let r,o=this;if(i(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(t,o.key)===0){if(o.right.isEmpty())return Ze.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ze.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ze.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw St(43730,{key:this.key,value:this.value});if(this.right.isRed())throw St(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw St(27949);return t+(this.isRed()?0:1)}}Ze.EMPTY=null,Ze.RED=!0,Ze.BLACK=!1;Ze.EMPTY=new class{constructor(){this.size=0}get key(){throw St(57766)}get value(){throw St(16141)}get color(){throw St(16727)}get left(){throw St(29726)}get right(){throw St(36894)}copy(t,i,r,o,u){return this}insert(t,i,r){return new Ze(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{constructor(t){this.comparator=t,this.data=new he(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((i,r)=>(t(i),!1))}forEachInRange(t,i){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,t[1])>=0)return;i(o.key)}}forEachWhile(t,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new KT(this.data.getIterator())}getIteratorFrom(t){return new KT(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach(r=>{i=i.add(r)}),i}isEqual(t){if(!(t instanceof Ue)||this.size!==t.size)return!1;const i=this.data.getIterator(),r=t.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,u=r.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(i=>{t.push(i)}),t}toString(){const t=[];return this.forEach(i=>t.push(i)),"SortedSet("+t.toString()+")"}copy(t){const i=new Ue(this.comparator);return i.data=t,i}}class KT{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(t){this.fields=t,t.sort(We.comparator)}static empty(){return new In([])}unionWith(t){let i=new Ue(We.comparator);for(const r of this.fields)i=i.add(r);for(const r of t)i=i.add(r);return new In(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return co(this.fields,t.fields,(i,r)=>i.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(t){this.binaryString=t}static fromBase64String(t){const i=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new jA("Invalid base64 string: "+u):u}}(t);return new Je(i)}static fromUint8Array(t){const i=function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u}(t);return new Je(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const r=new Uint8Array(i.length);for(let o=0;o<i.length;o++)r[o]=i.charCodeAt(o);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Pt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Je.EMPTY_BYTE_STRING=new Je("");const $I=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Js(n){if(Gt(!!n,39018),typeof n=="string"){let t=0;const i=$I.exec(n);if(Gt(!!i,46558,{timestamp:n}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),t=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Ae(n.seconds),nanos:Ae(n.nanos)}}function Ae(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function tr(n){return typeof n=="string"?Je.fromBase64String(n):Je.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qA="server_timestamp",FA="__type__",HA="__previous_value__",GA="__local_write_time__";function fg(n){var i,r;return((r=(((i=n==null?void 0:n.mapValue)==null?void 0:i.fields)||{})[FA])==null?void 0:r.stringValue)===qA}function Uh(n){const t=n.mapValue.fields[HA];return fg(t)?Uh(t):t}function su(n){const t=Js(n.mapValue.fields[GA].timestampValue);return new se(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{constructor(t,i,r,o,u,h,d,p,g,v){this.databaseId=t,this.appId=i,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=v}}const _h="(default)";class ru{constructor(t,i){this.projectId=t,this.database=i||_h}static empty(){return new ru("","")}get isDefaultDatabase(){return this.database===_h}isEqual(t){return t instanceof ru&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KA="__type__",WI="__max__",Zc={mapValue:{}},YA="__vector__",Th="value";function er(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?fg(n)?4:tM(n)?9007199254740991:JI(n)?10:11:St(28295,{value:n})}function Mi(n,t){if(n===t)return!0;const i=er(n);if(i!==er(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return su(n).isEqual(su(t));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=Js(o.timestampValue),d=Js(u.timestampValue);return h.seconds===d.seconds&&h.nanos===d.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return function(o,u){return tr(o.bytesValue).isEqual(tr(u.bytesValue))}(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return function(o,u){return Ae(o.geoPointValue.latitude)===Ae(u.geoPointValue.latitude)&&Ae(o.geoPointValue.longitude)===Ae(u.geoPointValue.longitude)}(n,t);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return Ae(o.integerValue)===Ae(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=Ae(o.doubleValue),d=Ae(u.doubleValue);return h===d?vh(h)===vh(d):isNaN(h)&&isNaN(d)}return!1}(n,t);case 9:return co(n.arrayValue.values||[],t.arrayValue.values||[],Mi);case 10:case 11:return function(o,u){const h=o.mapValue.fields||{},d=u.mapValue.fields||{};if(GT(h)!==GT(d))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(d[p]===void 0||!Mi(h[p],d[p])))return!1;return!0}(n,t);default:return St(52216,{left:n})}}function au(n,t){return(n.values||[]).find(i=>Mi(i,t))!==void 0}function fo(n,t){if(n===t)return 0;const i=er(n),r=er(t);if(i!==r)return Pt(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return Pt(n.booleanValue,t.booleanValue);case 2:return function(u,h){const d=Ae(u.integerValue||u.doubleValue),p=Ae(h.integerValue||h.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1}(n,t);case 3:return YT(n.timestampValue,t.timestampValue);case 4:return YT(su(n),su(t));case 5:return rp(n.stringValue,t.stringValue);case 6:return function(u,h){const d=tr(u),p=tr(h);return d.compareTo(p)}(n.bytesValue,t.bytesValue);case 7:return function(u,h){const d=u.split("/"),p=h.split("/");for(let g=0;g<d.length&&g<p.length;g++){const v=Pt(d[g],p[g]);if(v!==0)return v}return Pt(d.length,p.length)}(n.referenceValue,t.referenceValue);case 8:return function(u,h){const d=Pt(Ae(u.latitude),Ae(h.latitude));return d!==0?d:Pt(Ae(u.longitude),Ae(h.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return QT(n.arrayValue,t.arrayValue);case 10:return function(u,h){var A,C,P,j;const d=u.fields||{},p=h.fields||{},g=(A=d[Th])==null?void 0:A.arrayValue,v=(C=p[Th])==null?void 0:C.arrayValue,E=Pt(((P=g==null?void 0:g.values)==null?void 0:P.length)||0,((j=v==null?void 0:v.values)==null?void 0:j.length)||0);return E!==0?E:QT(g,v)}(n.mapValue,t.mapValue);case 11:return function(u,h){if(u===Zc.mapValue&&h===Zc.mapValue)return 0;if(u===Zc.mapValue)return 1;if(h===Zc.mapValue)return-1;const d=u.fields||{},p=Object.keys(d),g=h.fields||{},v=Object.keys(g);p.sort(),v.sort();for(let E=0;E<p.length&&E<v.length;++E){const A=rp(p[E],v[E]);if(A!==0)return A;const C=fo(d[p[E]],g[v[E]]);if(C!==0)return C}return Pt(p.length,v.length)}(n.mapValue,t.mapValue);default:throw St(23264,{he:i})}}function YT(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return Pt(n,t);const i=Js(n),r=Js(t),o=Pt(i.seconds,r.seconds);return o!==0?o:Pt(i.nanos,r.nanos)}function QT(n,t){const i=n.values||[],r=t.values||[];for(let o=0;o<i.length&&o<r.length;++o){const u=fo(i[o],r[o]);if(u)return u}return Pt(i.length,r.length)}function mo(n){return ap(n)}function ap(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=Js(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(i){return tr(i).toBase64()}(n.bytesValue):"referenceValue"in n?function(i){return vt.fromName(i).toString()}(n.referenceValue):"geoPointValue"in n?function(i){return`geo(${i.latitude},${i.longitude})`}(n.geoPointValue):"arrayValue"in n?function(i){let r="[",o=!0;for(const u of i.values||[])o?o=!1:r+=",",r+=ap(u);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let o="{",u=!0;for(const h of r)u?u=!1:o+=",",o+=`${h}:${ap(i.fields[h])}`;return o+"}"}(n.mapValue):St(61005,{value:n})}function ah(n){switch(er(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Uh(n);return t?16+ah(t):16;case 5:return 2*n.stringValue.length;case 6:return tr(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((o,u)=>o+ah(u),0)}(n.arrayValue);case 10:case 11:return function(r){let o=0;return ar(r.fields,(u,h)=>{o+=u.length+ah(h)}),o}(n.mapValue);default:throw St(13486,{value:n})}}function op(n){return!!n&&"integerValue"in n}function dg(n){return!!n&&"arrayValue"in n}function XT(n){return!!n&&"nullValue"in n}function $T(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function oh(n){return!!n&&"mapValue"in n}function JI(n){var i,r;return((r=(((i=n==null?void 0:n.mapValue)==null?void 0:i.fields)||{})[KA])==null?void 0:r.stringValue)===YA}function Fl(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const t={mapValue:{fields:{}}};return ar(n.mapValue.fields,(i,r)=>t.mapValue.fields[i]=Fl(r)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(n.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Fl(n.arrayValue.values[i]);return t}return{...n}}function tM(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===WI}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(t){this.value=t}static empty(){return new _n({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let r=0;r<t.length-1;++r)if(i=(i.mapValue.fields||{})[t.get(r)],!oh(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Fl(i)}setAll(t){let i=We.emptyPath(),r={},o=[];t.forEach((h,d)=>{if(!i.isImmediateParentOf(d)){const p=this.getFieldsMap(i);this.applyChanges(p,r,o),r={},o=[],i=d.popLast()}h?r[d.lastSegment()]=Fl(h):o.push(d.lastSegment())});const u=this.getFieldsMap(i);this.applyChanges(u,r,o)}delete(t){const i=this.field(t.popLast());oh(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Mi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<t.length;++r){let o=i.mapValue.fields[t.get(r)];oh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[t.get(r)]=o),i=o}return i.mapValue.fields}applyChanges(t,i,r){ar(i,(o,u)=>t[o]=u);for(const o of r)delete t[o]}clone(){return new _n(Fl(this.value))}}function QA(n){const t=[];return ar(n.fields,(i,r)=>{const o=new We([i]);if(oh(r)){const u=QA(r.mapValue).fields;if(u.length===0)t.push(o);else for(const h of u)t.push(o.child(h))}else t.push(o)}),new In(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(t,i,r,o,u,h,d){this.key=t,this.documentType=i,this.version=r,this.readTime=o,this.createTime=u,this.data=h,this.documentState=d}static newInvalidDocument(t){return new ln(t,0,Rt.min(),Rt.min(),Rt.min(),_n.empty(),0)}static newFoundDocument(t,i,r,o){return new ln(t,1,i,Rt.min(),r,o,0)}static newNoDocument(t,i){return new ln(t,2,i,Rt.min(),Rt.min(),_n.empty(),0)}static newUnknownDocument(t,i){return new ln(t,3,i,Rt.min(),Rt.min(),_n.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(Rt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=_n.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=_n.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Rt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof ln&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new ln(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(t,i){this.position=t,this.inclusive=i}}function ZT(n,t,i){let r=0;for(let o=0;o<n.position.length;o++){const u=t[o],h=n.position[o];if(u.field.isKeyField()?r=vt.comparator(vt.fromName(h.referenceValue),i.key):r=fo(h,i.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function WT(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let i=0;i<n.position.length;i++)if(!Mi(n.position[i],t.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(t,i="asc"){this.field=t,this.dir=i}}function eM(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{}class Le extends XA{constructor(t,i,r){super(),this.field=t,this.op=i,this.value=r}static create(t,i,r){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,r):new iM(t,i,r):i==="array-contains"?new aM(t,r):i==="in"?new oM(t,r):i==="not-in"?new lM(t,r):i==="array-contains-any"?new uM(t,r):new Le(t,i,r)}static createKeyFieldInFilter(t,i,r){return i==="in"?new sM(t,r):new rM(t,r)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(fo(i,this.value)):i!==null&&er(this.value)===er(i)&&this.matchesComparison(fo(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return St(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ni extends XA{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Ni(t,i)}matches(t){return $A(this)?this.filters.find(i=>!i.matches(t))===void 0:this.filters.find(i=>i.matches(t))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((t,i)=>t.concat(i.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function $A(n){return n.op==="and"}function ZA(n){return nM(n)&&$A(n)}function nM(n){for(const t of n.filters)if(t instanceof Ni)return!1;return!0}function lp(n){if(n instanceof Le)return n.field.canonicalString()+n.op.toString()+mo(n.value);if(ZA(n))return n.filters.map(t=>lp(t)).join(",");{const t=n.filters.map(i=>lp(i)).join(",");return`${n.op}(${t})`}}function WA(n,t){return n instanceof Le?function(r,o){return o instanceof Le&&r.op===o.op&&r.field.isEqual(o.field)&&Mi(r.value,o.value)}(n,t):n instanceof Ni?function(r,o){return o instanceof Ni&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce((u,h,d)=>u&&WA(h,o.filters[d]),!0):!1}(n,t):void St(19439)}function JA(n){return n instanceof Le?function(i){return`${i.field.canonicalString()} ${i.op} ${mo(i.value)}`}(n):n instanceof Ni?function(i){return i.op.toString()+" {"+i.getFilters().map(JA).join(" ,")+"}"}(n):"Filter"}class iM extends Le{constructor(t,i,r){super(t,i,r),this.key=vt.fromName(r.referenceValue)}matches(t){const i=vt.comparator(t.key,this.key);return this.matchesComparison(i)}}class sM extends Le{constructor(t,i){super(t,"in",i),this.keys=tS("in",i)}matches(t){return this.keys.some(i=>i.isEqual(t.key))}}class rM extends Le{constructor(t,i){super(t,"not-in",i),this.keys=tS("not-in",i)}matches(t){return!this.keys.some(i=>i.isEqual(t.key))}}function tS(n,t){var i;return(((i=t.arrayValue)==null?void 0:i.values)||[]).map(r=>vt.fromName(r.referenceValue))}class aM extends Le{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return dg(i)&&au(i.arrayValue,this.value)}}class oM extends Le{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&au(this.value.arrayValue,i)}}class lM extends Le{constructor(t,i){super(t,"not-in",i)}matches(t){if(au(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!au(this.value.arrayValue,i)}}class uM extends Le{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!dg(i)||!i.arrayValue.values)&&i.arrayValue.values.some(r=>au(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cM{constructor(t,i=null,r=[],o=[],u=null,h=null,d=null){this.path=t,this.collectionGroup=i,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=h,this.endAt=d,this.Te=null}}function JT(n,t=null,i=[],r=[],o=null,u=null,h=null){return new cM(n,t,i,r,o,u,h)}function mg(n){const t=Ct(n);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map(r=>lp(r)).join(","),i+="|ob:",i+=t.orderBy.map(r=>function(u){return u.field.canonicalString()+u.dir}(r)).join(","),Lh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(r=>mo(r)).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(r=>mo(r)).join(",")),t.Te=i}return t.Te}function pg(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!eM(n.orderBy[i],t.orderBy[i]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if(!WA(n.filters[i],t.filters[i]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!WT(n.startAt,t.startAt)&&WT(n.endAt,t.endAt)}function up(n){return vt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(t,i=null,r=[],o=[],u=null,h="F",d=null,p=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=h,this.startAt=d,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function hM(n,t,i,r,o,u,h,d){return new kh(n,t,i,r,o,u,h,d)}function eS(n){return new kh(n)}function tE(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function fM(n){return n.collectionGroup!==null}function Hl(n){const t=Ct(n);if(t.Ie===null){t.Ie=[];const i=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),i.add(u.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(h){let d=new Ue(We.comparator);return h.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(d=d.add(g.field))})}),d})(t).forEach(u=>{i.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new Ah(u,r))}),i.has(We.keyField().canonicalString())||t.Ie.push(new Ah(We.keyField(),r))}return t.Ie}function Ri(n){const t=Ct(n);return t.Ee||(t.Ee=dM(t,Hl(n))),t.Ee}function dM(n,t){if(n.limitType==="F")return JT(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Ah(o.field,u)});const i=n.endAt?new Eh(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Eh(n.startAt.position,n.startAt.inclusive):null;return JT(n.path,n.collectionGroup,t,n.filters,n.limit,i,r)}}function cp(n,t,i){return new kh(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,i,n.startAt,n.endAt)}function Bh(n,t){return pg(Ri(n),Ri(t))&&n.limitType===t.limitType}function nS(n){return`${mg(Ri(n))}|lt:${n.limitType}`}function $a(n){return`Query(target=${function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map(o=>JA(o)).join(", ")}]`),Lh(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map(o=>mo(o)).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map(o=>mo(o)).join(",")),`Target(${r})`}(Ri(n))}; limitType=${n.limitType})`}function zh(n,t){return t.isFoundDocument()&&function(r,o){const u=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):vt.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)}(n,t)&&function(r,o){for(const u of Hl(r))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(n,t)&&function(r,o){for(const u of r.filters)if(!u.matches(o))return!1;return!0}(n,t)&&function(r,o){return!(r.startAt&&!function(h,d,p){const g=ZT(h,d,p);return h.inclusive?g<=0:g<0}(r.startAt,Hl(r),o)||r.endAt&&!function(h,d,p){const g=ZT(h,d,p);return h.inclusive?g>=0:g>0}(r.endAt,Hl(r),o))}(n,t)}function mM(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function iS(n){return(t,i)=>{let r=!1;for(const o of Hl(n)){const u=pM(o,t,i);if(u!==0)return u;r=r||o.field.isKeyField()}return 0}}function pM(n,t,i){const r=n.field.isKeyField()?vt.comparator(t.key,i.key):function(u,h,d){const p=h.data.field(u),g=d.data.field(u);return p!==null&&g!==null?fo(p,g):St(42886)}(n.field,t,i);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return St(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r!==void 0){for(const[o,u]of r)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,i){const r=this.mapKeyFn(t),o=this.inner[r];if(o===void 0)return this.inner[r]=[[t,i]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,i]);o.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return r.length===1?delete this.inner[i]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(t){ar(this.inner,(i,r)=>{for(const[o,u]of r)t(o,u)})}isEmpty(){return zA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gM=new he(vt.comparator);function fs(){return gM}const sS=new he(vt.comparator);function Pl(...n){let t=sS;for(const i of n)t=t.insert(i.key,i);return t}function rS(n){let t=sS;return n.forEach((i,r)=>t=t.insert(i,r.overlayedDocument)),t}function Qr(){return Gl()}function aS(){return Gl()}function Gl(){return new na(n=>n.toString(),(n,t)=>n.isEqual(t))}const yM=new he(vt.comparator),vM=new Ue(vt.comparator);function Lt(...n){let t=vM;for(const i of n)t=t.add(i);return t}const _M=new Ue(Pt);function TM(){return _M}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gg(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vh(t)?"-0":t}}function oS(n){return{integerValue:""+n}}function lS(n,t){return YI(t)?oS(t):gg(n,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(){this._=void 0}}function EM(n,t,i){return n instanceof ou?function(o,u){const h={fields:{[FA]:{stringValue:qA},[GA]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&fg(u)&&(u=Uh(u)),u&&(h.fields[HA]=u),{mapValue:h}}(i,t):n instanceof lu?cS(n,t):n instanceof uu?hS(n,t):function(o,u){const h=uS(o,u),d=eE(h)+eE(o.Ae);return op(h)&&op(o.Ae)?oS(d):gg(o.serializer,d)}(n,t)}function AM(n,t,i){return n instanceof lu?cS(n,t):n instanceof uu?hS(n,t):i}function uS(n,t){return n instanceof cu?function(r){return op(r)||function(u){return!!u&&"doubleValue"in u}(r)}(t)?t:{integerValue:0}:null}class ou extends jh{}class lu extends jh{constructor(t){super(),this.elements=t}}function cS(n,t){const i=fS(t);for(const r of n.elements)i.some(o=>Mi(o,r))||i.push(r);return{arrayValue:{values:i}}}class uu extends jh{constructor(t){super(),this.elements=t}}function hS(n,t){let i=fS(t);for(const r of n.elements)i=i.filter(o=>!Mi(o,r));return{arrayValue:{values:i}}}class cu extends jh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function eE(n){return Ae(n.integerValue||n.doubleValue)}function fS(n){return dg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(t,i){this.field=t,this.transform=i}}function SM(n,t){return n.field.isEqual(t.field)&&function(r,o){return r instanceof lu&&o instanceof lu||r instanceof uu&&o instanceof uu?co(r.elements,o.elements,Mi):r instanceof cu&&o instanceof cu?Mi(r.Ae,o.Ae):r instanceof ou&&o instanceof ou}(n.transform,t.transform)}class bM{constructor(t,i){this.version=t,this.transformResults=i}}class Ci{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Ci}static exists(t){return new Ci(void 0,t)}static updateTime(t){return new Ci(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function lh(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class qh{}function mS(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new gS(n.key,Ci.none()):new yu(n.key,n.data,Ci.none());{const i=n.data,r=_n.empty();let o=new Ue(We.comparator);for(let u of t.fields)if(!o.has(u)){let h=i.field(u);h===null&&u.length>1&&(u=u.popLast(),h=i.field(u)),h===null?r.delete(u):r.set(u,h),o=o.add(u)}return new or(n.key,r,new In(o.toArray()),Ci.none())}}function wM(n,t,i){n instanceof yu?function(o,u,h){const d=o.value.clone(),p=iE(o.fieldTransforms,u,h.transformResults);d.setAll(p),u.convertToFoundDocument(h.version,d).setHasCommittedMutations()}(n,t,i):n instanceof or?function(o,u,h){if(!lh(o.precondition,u))return void u.convertToUnknownDocument(h.version);const d=iE(o.fieldTransforms,u,h.transformResults),p=u.data;p.setAll(pS(o)),p.setAll(d),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()}(n,t,i):function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()}(0,t,i)}function Kl(n,t,i,r){return n instanceof yu?function(u,h,d,p){if(!lh(u.precondition,h))return d;const g=u.value.clone(),v=sE(u.fieldTransforms,p,h);return g.setAll(v),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null}(n,t,i,r):n instanceof or?function(u,h,d,p){if(!lh(u.precondition,h))return d;const g=sE(u.fieldTransforms,p,h),v=h.data;return v.setAll(pS(u)),v.setAll(g),h.convertToFoundDocument(h.version,v).setHasLocalMutations(),d===null?null:d.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(E=>E.field))}(n,t,i,r):function(u,h,d){return lh(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):d}(n,t,i)}function RM(n,t){let i=null;for(const r of n.fieldTransforms){const o=t.data.field(r.field),u=uS(r.transform,o||null);u!=null&&(i===null&&(i=_n.empty()),i.set(r.field,u))}return i||null}function nE(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&co(r,o,(u,h)=>SM(u,h))}(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class yu extends qh{constructor(t,i,r,o=[]){super(),this.key=t,this.value=i,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class or extends qh{constructor(t,i,r,o,u=[]){super(),this.key=t,this.data=i,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function pS(n){const t=new Map;return n.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const r=n.data.field(i);t.set(i,r)}}),t}function iE(n,t,i){const r=new Map;Gt(n.length===i.length,32656,{Re:i.length,Ve:n.length});for(let o=0;o<i.length;o++){const u=n[o],h=u.transform,d=t.data.field(u.field);r.set(u.field,AM(h,d,i[o]))}return r}function sE(n,t,i){const r=new Map;for(const o of n){const u=o.transform,h=i.data.field(o.field);r.set(o.field,EM(u,h,t))}return r}class gS extends qh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class CM extends qh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xM{constructor(t,i,r,o){this.batchId=t,this.localWriteTime=i,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(t,i){const r=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&wM(u,t,r[o])}}applyToLocalView(t,i){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(i=Kl(r,t,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(i=Kl(r,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const r=aS();return this.mutations.forEach(o=>{const u=t.get(o.key),h=u.overlayedDocument;let d=this.applyToLocalView(h,u.mutatedFields);d=i.has(o.key)?null:d;const p=mS(h,d);p!==null&&r.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(Rt.min())}),r}keys(){return this.mutations.reduce((t,i)=>t.add(i.key),Lt())}isEqual(t){return this.batchId===t.batchId&&co(this.mutations,t.mutations,(i,r)=>nE(i,r))&&co(this.baseMutations,t.baseMutations,(i,r)=>nE(i,r))}}class yg{constructor(t,i,r,o){this.batch=t,this.commitVersion=i,this.mutationResults=r,this.docVersions=o}static from(t,i,r){Gt(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let o=function(){return yM}();const u=t.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,r[h].version);return new yg(t,i,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DM{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VM{constructor(t,i){this.count=t,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xe,zt;function IM(n){switch(n){case et.OK:return St(64938);case et.CANCELLED:case et.UNKNOWN:case et.DEADLINE_EXCEEDED:case et.RESOURCE_EXHAUSTED:case et.INTERNAL:case et.UNAVAILABLE:case et.UNAUTHENTICATED:return!1;case et.INVALID_ARGUMENT:case et.NOT_FOUND:case et.ALREADY_EXISTS:case et.PERMISSION_DENIED:case et.FAILED_PRECONDITION:case et.ABORTED:case et.OUT_OF_RANGE:case et.UNIMPLEMENTED:case et.DATA_LOSS:return!0;default:return St(15467,{code:n})}}function yS(n){if(n===void 0)return hs("GRPC error has no .code"),et.UNKNOWN;switch(n){case xe.OK:return et.OK;case xe.CANCELLED:return et.CANCELLED;case xe.UNKNOWN:return et.UNKNOWN;case xe.DEADLINE_EXCEEDED:return et.DEADLINE_EXCEEDED;case xe.RESOURCE_EXHAUSTED:return et.RESOURCE_EXHAUSTED;case xe.INTERNAL:return et.INTERNAL;case xe.UNAVAILABLE:return et.UNAVAILABLE;case xe.UNAUTHENTICATED:return et.UNAUTHENTICATED;case xe.INVALID_ARGUMENT:return et.INVALID_ARGUMENT;case xe.NOT_FOUND:return et.NOT_FOUND;case xe.ALREADY_EXISTS:return et.ALREADY_EXISTS;case xe.PERMISSION_DENIED:return et.PERMISSION_DENIED;case xe.FAILED_PRECONDITION:return et.FAILED_PRECONDITION;case xe.ABORTED:return et.ABORTED;case xe.OUT_OF_RANGE:return et.OUT_OF_RANGE;case xe.UNIMPLEMENTED:return et.UNIMPLEMENTED;case xe.DATA_LOSS:return et.DATA_LOSS;default:return St(39323,{code:n})}}(zt=xe||(xe={}))[zt.OK=0]="OK",zt[zt.CANCELLED=1]="CANCELLED",zt[zt.UNKNOWN=2]="UNKNOWN",zt[zt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",zt[zt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",zt[zt.NOT_FOUND=5]="NOT_FOUND",zt[zt.ALREADY_EXISTS=6]="ALREADY_EXISTS",zt[zt.PERMISSION_DENIED=7]="PERMISSION_DENIED",zt[zt.UNAUTHENTICATED=16]="UNAUTHENTICATED",zt[zt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",zt[zt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",zt[zt.ABORTED=10]="ABORTED",zt[zt.OUT_OF_RANGE=11]="OUT_OF_RANGE",zt[zt.UNIMPLEMENTED=12]="UNIMPLEMENTED",zt[zt.INTERNAL=13]="INTERNAL",zt[zt.UNAVAILABLE=14]="UNAVAILABLE",zt[zt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MM(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NM=new Ks([4294967295,4294967295],0);function rE(n){const t=MM().encode(n),i=new DA;return i.update(t),new Uint8Array(i.digest())}function aE(n){const t=new DataView(n.buffer),i=t.getUint32(0,!0),r=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new Ks([i,r],0),new Ks([o,u],0)]}class vg{constructor(t,i,r){if(this.bitmap=t,this.padding=i,this.hashCount=r,i<0||i>=8)throw new Ll(`Invalid padding: ${i}`);if(r<0)throw new Ll(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new Ll(`Invalid hash count: ${r}`);if(t.length===0&&i!==0)throw new Ll(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Ks.fromNumber(this.ge)}ye(t,i,r){let o=t.add(i.multiply(Ks.fromNumber(r)));return o.compare(NM)===1&&(o=new Ks([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=rE(t),[r,o]=aE(i);for(let u=0;u<this.hashCount;u++){const h=this.ye(r,o,u);if(!this.we(h))return!1}return!0}static create(t,i,r){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),h=new vg(u,o,i);return r.forEach(d=>h.insert(d)),h}insert(t){if(this.ge===0)return;const i=rE(t),[r,o]=aE(i);for(let u=0;u<this.hashCount;u++){const h=this.ye(r,o,u);this.Se(h)}}Se(t){const i=Math.floor(t/8),r=t%8;this.bitmap[i]|=1<<r}}class Ll extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(t,i,r,o,u){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,i,r){const o=new Map;return o.set(t,vu.createSynthesizedTargetChangeForCurrentChange(t,i,r)),new Fh(Rt.min(),o,new he(Pt),fs(),Lt())}}class vu{constructor(t,i,r,o,u){this.resumeToken=t,this.current=i,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,i,r){return new vu(r,i,Lt(),Lt(),Lt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(t,i,r,o){this.be=t,this.removedTargetIds=i,this.key=r,this.De=o}}class vS{constructor(t,i){this.targetId=t,this.Ce=i}}class _S{constructor(t,i,r=Je.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=i,this.resumeToken=r,this.cause=o}}class oE{constructor(){this.ve=0,this.Fe=lE(),this.Me=Je.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Lt(),i=Lt(),r=Lt();return this.Fe.forEach((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:i=i.add(o);break;case 1:r=r.add(o);break;default:St(38017,{changeType:u})}}),new vu(this.Me,this.xe,t,i,r)}qe(){this.Oe=!1,this.Fe=lE()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Gt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class OM{constructor(t){this.Ge=t,this.ze=new Map,this.je=fs(),this.Je=Wc(),this.He=Wc(),this.Ye=new he(Pt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,i=>{const r=this.nt(i);switch(t.state){case 0:this.rt(i)&&r.Le(t.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(t.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.We(),r.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(t.resumeToken));break;default:St(56790,{state:t.state})}})}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach((r,o)=>{this.rt(o)&&i(o)})}st(t){const i=t.targetId,r=t.Ce.count,o=this.ot(i);if(o){const u=o.target;if(up(u))if(r===0){const h=new vt(u.path);this.et(i,h,ln.newNoDocument(h,Rt.min()))}else Gt(r===1,20013,{expectedCount:r});else{const h=this._t(i);if(h!==r){const d=this.ut(t),p=d?this.ct(d,t,h):1;if(p!==0){this.it(i);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,g)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:u=0}=i;let h,d;try{h=tr(r).toUint8Array()}catch(p){if(p instanceof jA)return uo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new vg(h,o,u)}catch(p){return uo(p instanceof Ll?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.ge===0?null:d}ct(t,i,r){return i.Ce.count===r-this.Pt(t,i.targetId)?0:2}Pt(t,i){const r=this.Ge.getRemoteKeysForTarget(i);let o=0;return r.forEach(u=>{const h=this.Ge.ht(),d=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;t.mightContain(d)||(this.et(i,u,null),o++)}),o}Tt(t){const i=new Map;this.ze.forEach((u,h)=>{const d=this.ot(h);if(d){if(u.current&&up(d.target)){const p=new vt(d.target.path);this.It(p).has(h)||this.Et(h,p)||this.et(h,p,ln.newNoDocument(p,t))}u.Be&&(i.set(h,u.ke()),u.qe())}});let r=Lt();this.He.forEach((u,h)=>{let d=!0;h.forEachWhile(p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(r=r.add(u))}),this.je.forEach((u,h)=>h.setReadTime(t));const o=new Fh(t,i,this.Ye,this.je,r);return this.je=fs(),this.Je=Wc(),this.He=Wc(),this.Ye=new he(Pt),o}Xe(t,i){if(!this.rt(t))return;const r=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,r),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,r){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),r&&(this.je=this.je.insert(i,r))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new oE,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new Ue(Pt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new Ue(Pt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||ht("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new oE),this.Ge.getRemoteKeysForTarget(t).forEach(i=>{this.et(t,i,null)})}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Wc(){return new he(vt.comparator)}function lE(){return new he(vt.comparator)}const PM={asc:"ASCENDING",desc:"DESCENDING"},LM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},UM={and:"AND",or:"OR"};class kM{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function hp(n,t){return n.useProto3Json||Lh(t)?t:{value:t}}function Sh(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function TS(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function BM(n,t){return Sh(n,t.toTimestamp())}function xi(n){return Gt(!!n,49232),Rt.fromTimestamp(function(i){const r=Js(i);return new se(r.seconds,r.nanos)}(n))}function _g(n,t){return fp(n,t).canonicalString()}function fp(n,t){const i=function(o){return new ie(["projects",o.projectId,"databases",o.database])}(n).child("documents");return t===void 0?i:i.child(t)}function ES(n){const t=ie.fromString(n);return Gt(RS(t),10190,{key:t.toString()}),t}function dp(n,t){return _g(n.databaseId,t.path)}function wm(n,t){const i=ES(t);if(i.get(1)!==n.databaseId.projectId)throw new mt(et.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+n.databaseId.projectId);if(i.get(3)!==n.databaseId.database)throw new mt(et.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+n.databaseId.database);return new vt(SS(i))}function AS(n,t){return _g(n.databaseId,t)}function zM(n){const t=ES(n);return t.length===4?ie.emptyPath():SS(t)}function mp(n){return new ie(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function SS(n){return Gt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function uE(n,t,i){return{name:dp(n,t),fields:i.value.mapValue.fields}}function jM(n,t){let i;if("targetChange"in t){t.targetChange;const r=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:St(39313,{state:g})}(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=function(g,v){return g.useProto3Json?(Gt(v===void 0||typeof v=="string",58123),Je.fromBase64String(v||"")):(Gt(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),Je.fromUint8Array(v||new Uint8Array))}(n,t.targetChange.resumeToken),h=t.targetChange.cause,d=h&&function(g){const v=g.code===void 0?et.UNKNOWN:yS(g.code);return new mt(v,g.message||"")}(h);i=new _S(r,o,u,d||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const o=wm(n,r.document.name),u=xi(r.document.updateTime),h=r.document.createTime?xi(r.document.createTime):Rt.min(),d=new _n({mapValue:{fields:r.document.fields}}),p=ln.newFoundDocument(o,u,h,d),g=r.targetIds||[],v=r.removedTargetIds||[];i=new uh(g,v,p.key,p)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const o=wm(n,r.document),u=r.readTime?xi(r.readTime):Rt.min(),h=ln.newNoDocument(o,u),d=r.removedTargetIds||[];i=new uh([],d,h.key,h)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const o=wm(n,r.document),u=r.removedTargetIds||[];i=new uh([],u,o,null)}else{if(!("filter"in t))return St(11601,{Rt:t});{t.filter;const r=t.filter;r.targetId;const{count:o=0,unchangedNames:u}=r,h=new VM(o,u),d=r.targetId;i=new vS(d,h)}}return i}function qM(n,t){let i;if(t instanceof yu)i={update:uE(n,t.key,t.value)};else if(t instanceof gS)i={delete:dp(n,t.key)};else if(t instanceof or)i={update:uE(n,t.key,t.data),updateMask:ZM(t.fieldMask)};else{if(!(t instanceof CM))return St(16599,{Vt:t.type});i={verify:dp(n,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map(r=>function(u,h){const d=h.transform;if(d instanceof ou)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof lu)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof uu)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof cu)return{fieldPath:h.field.canonicalString(),increment:d.Ae};throw St(20930,{transform:h.transform})}(0,r))),t.precondition.isNone||(i.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:BM(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:St(27497)}(n,t.precondition)),i}function FM(n,t){return n&&n.length>0?(Gt(t!==void 0,14353),n.map(i=>function(o,u){let h=o.updateTime?xi(o.updateTime):xi(u);return h.isEqual(Rt.min())&&(h=xi(u)),new bM(h,o.transformResults||[])}(i,t))):[]}function HM(n,t){return{documents:[AS(n,t.path)]}}function GM(n,t){const i={structuredQuery:{}},r=t.path;let o;t.collectionGroup!==null?(o=r,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=AS(n,o);const u=function(g){if(g.length!==0)return wS(Ni.create(g,"and"))}(t.filters);u&&(i.structuredQuery.where=u);const h=function(g){if(g.length!==0)return g.map(v=>function(A){return{field:Za(A.field),direction:QM(A.dir)}}(v))}(t.orderBy);h&&(i.structuredQuery.orderBy=h);const d=hp(n,t.limit);return d!==null&&(i.structuredQuery.limit=d),t.startAt&&(i.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(t.startAt)),t.endAt&&(i.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(t.endAt)),{ft:i,parent:o}}function KM(n){let t=zM(n.parent);const i=n.structuredQuery,r=i.from?i.from.length:0;let o=null;if(r>0){Gt(r===1,65062);const v=i.from[0];v.allDescendants?o=v.collectionId:t=t.child(v.collectionId)}let u=[];i.where&&(u=function(E){const A=bS(E);return A instanceof Ni&&ZA(A)?A.getFilters():[A]}(i.where));let h=[];i.orderBy&&(h=function(E){return E.map(A=>function(P){return new Ah(Wa(P.field),function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(P.direction))}(A))}(i.orderBy));let d=null;i.limit&&(d=function(E){let A;return A=typeof E=="object"?E.value:E,Lh(A)?null:A}(i.limit));let p=null;i.startAt&&(p=function(E){const A=!!E.before,C=E.values||[];return new Eh(C,A)}(i.startAt));let g=null;return i.endAt&&(g=function(E){const A=!E.before,C=E.values||[];return new Eh(C,A)}(i.endAt)),hM(t,o,h,u,d,"F",p,g)}function YM(n,t){const i=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return St(28987,{purpose:o})}}(t.purpose);return i==null?null:{"goog-listen-tags":i}}function bS(n){return n.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=Wa(i.unaryFilter.field);return Le.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Wa(i.unaryFilter.field);return Le.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Wa(i.unaryFilter.field);return Le.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=Wa(i.unaryFilter.field);return Le.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return St(61313);default:return St(60726)}}(n):n.fieldFilter!==void 0?function(i){return Le.create(Wa(i.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return St(58110);default:return St(50506)}}(i.fieldFilter.op),i.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(i){return Ni.create(i.compositeFilter.filters.map(r=>bS(r)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return St(1026)}}(i.compositeFilter.op))}(n):St(30097,{filter:n})}function QM(n){return PM[n]}function XM(n){return LM[n]}function $M(n){return UM[n]}function Za(n){return{fieldPath:n.canonicalString()}}function Wa(n){return We.fromServerFormat(n.fieldPath)}function wS(n){return n instanceof Le?function(i){if(i.op==="=="){if($T(i.value))return{unaryFilter:{field:Za(i.field),op:"IS_NAN"}};if(XT(i.value))return{unaryFilter:{field:Za(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if($T(i.value))return{unaryFilter:{field:Za(i.field),op:"IS_NOT_NAN"}};if(XT(i.value))return{unaryFilter:{field:Za(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Za(i.field),op:XM(i.op),value:i.value}}}(n):n instanceof Ni?function(i){const r=i.getFilters().map(o=>wS(o));return r.length===1?r[0]:{compositeFilter:{op:$M(i.op),filters:r}}}(n):St(54877,{filter:n})}function ZM(n){const t=[];return n.fields.forEach(i=>t.push(i.canonicalString())),{fieldPaths:t}}function RS(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(t,i,r,o,u=Rt.min(),h=Rt.min(),d=Je.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=i,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(t){return new Fs(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Fs(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Fs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Fs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WM{constructor(t){this.yt=t}}function JM(n){const t=KM({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?cp(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t4{constructor(){this.Cn=new e4}addToCollectionParentIndex(t,i){return this.Cn.add(i),J.resolve()}getCollectionParents(t,i){return J.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return J.resolve()}deleteFieldIndex(t,i){return J.resolve()}deleteAllFieldIndexes(t){return J.resolve()}createTargetIndexes(t,i){return J.resolve()}getDocumentsMatchingTarget(t,i){return J.resolve(null)}getIndexType(t,i){return J.resolve(0)}getFieldIndexes(t,i){return J.resolve([])}getNextCollectionGroupToUpdate(t){return J.resolve(null)}getMinOffset(t,i){return J.resolve(Ws.min())}getMinOffsetFromCollectionGroup(t,i){return J.resolve(Ws.min())}updateCollectionGroup(t,i,r){return J.resolve()}updateIndexEntries(t,i){return J.resolve()}}class e4{constructor(){this.index={}}add(t){const i=t.lastSegment(),r=t.popLast(),o=this.index[i]||new Ue(ie.comparator),u=!o.has(r);return this.index[i]=o.add(r),u}has(t){const i=t.lastSegment(),r=t.popLast(),o=this.index[i];return o&&o.has(r)}getEntries(t){return(this.index[t]||new Ue(ie.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},CS=41943040;class vn{static withCacheSize(t){return new vn(t,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vn.DEFAULT_COLLECTION_PERCENTILE=10,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vn.DEFAULT=new vn(CS,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vn.DISABLED=new vn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new po(0)}static cr(){return new po(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hE="LruGarbageCollector",n4=1048576;function fE([n,t],[i,r]){const o=Pt(n,i);return o===0?Pt(t,r):o}class i4{constructor(t){this.Ir=t,this.buffer=new Ue(fE),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();fE(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class s4{constructor(t,i,r){this.garbageCollector=t,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ht(hE,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Ao(i)?ht(hE,"Ignoring IndexedDB error during garbage collection: ",i):await Eo(i)}await this.Vr(3e5)})}}class r4{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next(r=>Math.floor(i/100*r))}nthSequenceNumber(t,i){if(i===0)return J.resolve(Ph.ce);const r=new i4(i);return this.mr.forEachTarget(t,o=>r.Ar(o.sequenceNumber)).next(()=>this.mr.pr(t,o=>r.Ar(o))).next(()=>r.maxValue)}removeTargets(t,i,r){return this.mr.removeTargets(t,i,r)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(ht("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(cE)):this.getCacheSize(t).next(r=>r<this.params.cacheSizeCollectionThreshold?(ht("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),cE):this.yr(t,i))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let r,o,u,h,d,p,g;const v=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(E=>(E>this.params.maximumSequenceNumbersToCollect?(ht("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),o=this.params.maximumSequenceNumbersToCollect):o=E,h=Date.now(),this.nthSequenceNumber(t,o))).next(E=>(r=E,d=Date.now(),this.removeTargets(t,r,i))).next(E=>(u=E,p=Date.now(),this.removeOrphanedDocuments(t,r))).next(E=>(g=Date.now(),Xa()<=jt.DEBUG&&ht("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-v}ms
	Determined least recently used ${o} in `+(d-h)+`ms
	Removed ${u} targets in `+(p-d)+`ms
	Removed ${E} documents in `+(g-p)+`ms
Total Duration: ${g-v}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:E})))}}function a4(n,t){return new r4(n,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o4{constructor(){this.changes=new na(t=>t.toString(),(t,i)=>t.isEqual(i)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,ln.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?J.resolve(r):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l4{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u4{constructor(t,i,r,o){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=o}getDocument(t,i){let r=null;return this.documentOverlayCache.getOverlay(t,i).next(o=>(r=o,this.remoteDocumentCache.getEntry(t,i))).next(o=>(r!==null&&Kl(r.mutation,o,In.empty(),se.now()),o))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next(r=>this.getLocalViewOfDocuments(t,r,Lt()).next(()=>r))}getLocalViewOfDocuments(t,i,r=Lt()){const o=Qr();return this.populateOverlays(t,o,i).next(()=>this.computeViews(t,i,o,r).next(u=>{let h=Pl();return u.forEach((d,p)=>{h=h.insert(d,p.overlayedDocument)}),h}))}getOverlayedDocuments(t,i){const r=Qr();return this.populateOverlays(t,r,i).next(()=>this.computeViews(t,i,r,Lt()))}populateOverlays(t,i,r){const o=[];return r.forEach(u=>{i.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(t,o).next(u=>{u.forEach((h,d)=>{i.set(h,d)})})}computeViews(t,i,r,o){let u=fs();const h=Gl(),d=function(){return Gl()}();return i.forEach((p,g)=>{const v=r.get(g.key);o.has(g.key)&&(v===void 0||v.mutation instanceof or)?u=u.insert(g.key,g):v!==void 0?(h.set(g.key,v.mutation.getFieldMask()),Kl(v.mutation,g,v.mutation.getFieldMask(),se.now())):h.set(g.key,In.empty())}),this.recalculateAndSaveOverlays(t,u).next(p=>(p.forEach((g,v)=>h.set(g,v)),i.forEach((g,v)=>d.set(g,new l4(v,h.get(g)??null))),d))}recalculateAndSaveOverlays(t,i){const r=Gl();let o=new he((h,d)=>h-d),u=Lt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next(h=>{for(const d of h)d.keys().forEach(p=>{const g=i.get(p);if(g===null)return;let v=r.get(p)||In.empty();v=d.applyToLocalView(g,v),r.set(p,v);const E=(o.get(d.batchId)||Lt()).add(p);o=o.insert(d.batchId,E)})}).next(()=>{const h=[],d=o.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),g=p.key,v=p.value,E=aS();v.forEach(A=>{if(!u.has(A)){const C=mS(i.get(A),r.get(A));C!==null&&E.set(A,C),u=u.add(A)}}),h.push(this.documentOverlayCache.saveOverlays(t,g,E))}return J.waitFor(h)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,i,r,o){return function(h){return vt.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):fM(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,r,o):this.getDocumentsMatchingCollectionQuery(t,i,r,o)}getNextDocuments(t,i,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,r,o).next(u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,r.largestBatchId,o-u.size):J.resolve(Qr());let d=iu,p=u;return h.next(g=>J.forEach(g,(v,E)=>(d<E.largestBatchId&&(d=E.largestBatchId),u.get(v)?J.resolve():this.remoteDocumentCache.getEntry(t,v).next(A=>{p=p.insert(v,A)}))).next(()=>this.populateOverlays(t,g,u)).next(()=>this.computeViews(t,p,g,Lt())).next(v=>({batchId:d,changes:rS(v)})))})}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new vt(i)).next(r=>{let o=Pl();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}getDocumentsMatchingCollectionGroupQuery(t,i,r,o){const u=i.collectionGroup;let h=Pl();return this.indexManager.getCollectionParents(t,u).next(d=>J.forEach(d,p=>{const g=function(E,A){return new kh(A,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)}(i,p.child(u));return this.getDocumentsMatchingCollectionQuery(t,g,r,o).next(v=>{v.forEach((E,A)=>{h=h.insert(E,A)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(t,i,r,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,r.largestBatchId).next(h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,r,u,o))).next(h=>{u.forEach((p,g)=>{const v=g.getKey();h.get(v)===null&&(h=h.insert(v,ln.newInvalidDocument(v)))});let d=Pl();return h.forEach((p,g)=>{const v=u.get(p);v!==void 0&&Kl(v.mutation,g,In.empty(),se.now()),zh(i,g)&&(d=d.insert(p,g))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c4{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return J.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,function(o){return{id:o.id,version:o.version,createTime:xi(o.createTime)}}(i)),J.resolve()}getNamedQuery(t,i){return J.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,function(o){return{name:o.name,query:JM(o.bundledQuery),readTime:xi(o.readTime)}}(i)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h4{constructor(){this.overlays=new he(vt.comparator),this.qr=new Map}getOverlay(t,i){return J.resolve(this.overlays.get(i))}getOverlays(t,i){const r=Qr();return J.forEach(i,o=>this.getOverlay(t,o).next(u=>{u!==null&&r.set(o,u)})).next(()=>r)}saveOverlays(t,i,r){return r.forEach((o,u)=>{this.St(t,i,u)}),J.resolve()}removeOverlaysForBatchId(t,i,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.qr.delete(r)),J.resolve()}getOverlaysForCollection(t,i,r){const o=Qr(),u=i.length+1,h=new vt(i.child("")),d=this.overlays.getIteratorFrom(h);for(;d.hasNext();){const p=d.getNext().value,g=p.getKey();if(!i.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>r&&o.set(p.getKey(),p)}return J.resolve(o)}getOverlaysForCollectionGroup(t,i,r,o){let u=new he((g,v)=>g-v);const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===i&&g.largestBatchId>r){let v=u.get(g.largestBatchId);v===null&&(v=Qr(),u=u.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const d=Qr(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,v)=>d.set(g,v)),!(d.size()>=o)););return J.resolve(d)}St(t,i,r){const o=this.overlays.get(r.key);if(o!==null){const h=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(r.key,new DM(i,r));let u=this.qr.get(i);u===void 0&&(u=Lt(),this.qr.set(i,u)),this.qr.set(i,u.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f4{constructor(){this.sessionToken=Je.EMPTY_BYTE_STRING}getSessionToken(t){return J.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{constructor(){this.Qr=new Ue(Fe.$r),this.Ur=new Ue(Fe.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const r=new Fe(t,i);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(t,i){t.forEach(r=>this.addReference(r,i))}removeReference(t,i){this.Gr(new Fe(t,i))}zr(t,i){t.forEach(r=>this.removeReference(r,i))}jr(t){const i=new vt(new ie([])),r=new Fe(i,t),o=new Fe(i,t+1),u=[];return this.Ur.forEachInRange([r,o],h=>{this.Gr(h),u.push(h.key)}),u}Jr(){this.Qr.forEach(t=>this.Gr(t))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new vt(new ie([])),r=new Fe(i,t),o=new Fe(i,t+1);let u=Lt();return this.Ur.forEachInRange([r,o],h=>{u=u.add(h.key)}),u}containsKey(t){const i=new Fe(t,0),r=this.Qr.firstAfterOrEqual(i);return r!==null&&t.isEqual(r.key)}}class Fe{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return vt.comparator(t.key,i.key)||Pt(t.Yr,i.Yr)}static Kr(t,i){return Pt(t.Yr,i.Yr)||vt.comparator(t.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d4{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Ue(Fe.$r)}checkEmpty(t){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,r,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new xM(u,i,r,o);this.mutationQueue.push(h);for(const d of o)this.Zr=this.Zr.add(new Fe(d.key,u)),this.indexManager.addToCollectionParentIndex(t,d.key.path.popLast());return J.resolve(h)}lookupMutationBatch(t,i){return J.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const r=i+1,o=this.ei(r),u=o<0?0:o;return J.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?hg:this.tr-1)}getAllMutationBatches(t){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const r=new Fe(i,0),o=new Fe(i,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([r,o],h=>{const d=this.Xr(h.Yr);u.push(d)}),J.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,i){let r=new Ue(Pt);return i.forEach(o=>{const u=new Fe(o,0),h=new Fe(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,h],d=>{r=r.add(d.Yr)})}),J.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(t,i){const r=i.path,o=r.length+1;let u=r;vt.isDocumentKey(u)||(u=u.child(""));const h=new Fe(new vt(u),0);let d=new Ue(Pt);return this.Zr.forEachWhile(p=>{const g=p.key.path;return!!r.isPrefixOf(g)&&(g.length===o&&(d=d.add(p.Yr)),!0)},h),J.resolve(this.ti(d))}ti(t){const i=[];return t.forEach(r=>{const o=this.Xr(r);o!==null&&i.push(o)}),i}removeMutationBatch(t,i){Gt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return J.forEach(i.mutations,o=>{const u=new Fe(o.key,i.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)}).next(()=>{this.Zr=r})}ir(t){}containsKey(t,i){const r=new Fe(i,0),o=this.Zr.firstAfterOrEqual(r);return J.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,J.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m4{constructor(t){this.ri=t,this.docs=function(){return new he(vt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const r=i.key,o=this.docs.get(r),u=o?o.size:0,h=this.ri(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const r=this.docs.get(i);return J.resolve(r?r.document.mutableCopy():ln.newInvalidDocument(i))}getEntries(t,i){let r=fs();return i.forEach(o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():ln.newInvalidDocument(o))}),J.resolve(r)}getDocumentsMatchingQuery(t,i,r,o){let u=fs();const h=i.path,d=new vt(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:g,value:{document:v}}=p.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||FI(qI(v),r)<=0||(o.has(v.key)||zh(i,v))&&(u=u.insert(v.key,v.mutableCopy()))}return J.resolve(u)}getAllFromCollectionGroup(t,i,r,o){St(9500)}ii(t,i){return J.forEach(this.docs,r=>i(r))}newChangeBuffer(t){return new p4(this)}getSize(t){return J.resolve(this.size)}}class p4 extends o4{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(r)}),J.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g4{constructor(t){this.persistence=t,this.si=new na(i=>mg(i),pg),this.lastRemoteSnapshotVersion=Rt.min(),this.highestTargetId=0,this.oi=0,this._i=new Tg,this.targetCount=0,this.ai=po.ur()}forEachTarget(t,i){return this.si.forEach((r,o)=>i(o)),J.resolve()}getLastRemoteSnapshotVersion(t){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return J.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(t,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.oi&&(this.oi=i),J.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new po(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,J.resolve()}updateTargetData(t,i){return this.Pr(i),J.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,J.resolve()}removeTargets(t,i,r){let o=0;const u=[];return this.si.forEach((h,d)=>{d.sequenceNumber<=i&&r.get(d.targetId)===null&&(this.si.delete(h),u.push(this.removeMatchingKeysForTargetId(t,d.targetId)),o++)}),J.waitFor(u).next(()=>o)}getTargetCount(t){return J.resolve(this.targetCount)}getTargetData(t,i){const r=this.si.get(i)||null;return J.resolve(r)}addMatchingKeys(t,i,r){return this._i.Wr(i,r),J.resolve()}removeMatchingKeys(t,i,r){this._i.zr(i,r);const o=this.persistence.referenceDelegate,u=[];return o&&i.forEach(h=>{u.push(o.markPotentiallyOrphaned(t,h))}),J.waitFor(u)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),J.resolve()}getMatchingKeysForTargetId(t,i){const r=this._i.Hr(i);return J.resolve(r)}containsKey(t,i){return J.resolve(this._i.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(t,i){this.ui={},this.overlays={},this.ci=new Ph(0),this.li=!1,this.li=!0,this.hi=new f4,this.referenceDelegate=t(this),this.Pi=new g4(this),this.indexManager=new t4,this.remoteDocumentCache=function(o){return new m4(o)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new WM(i),this.Ii=new c4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new h4,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let r=this.ui[t.toKey()];return r||(r=new d4(i,this.referenceDelegate),this.ui[t.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,r){ht("MemoryPersistence","Starting transaction:",t);const o=new y4(this.ci.next());return this.referenceDelegate.Ei(),r(o).next(u=>this.referenceDelegate.di(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ai(t,i){return J.or(Object.values(this.ui).map(r=>()=>r.containsKey(t,i)))}}class y4 extends GI{constructor(t){super(),this.currentSequenceNumber=t}}class Eg{constructor(t){this.persistence=t,this.Ri=new Tg,this.Vi=null}static mi(t){return new Eg(t)}get fi(){if(this.Vi)return this.Vi;throw St(60996)}addReference(t,i,r){return this.Ri.addReference(r,i),this.fi.delete(r.toString()),J.resolve()}removeReference(t,i,r){return this.Ri.removeReference(r,i),this.fi.add(r.toString()),J.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),J.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach(o=>this.fi.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,i.targetId).next(o=>{o.forEach(u=>this.fi.add(u.toString()))}).next(()=>r.removeTargetData(t,i))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.fi,r=>{const o=vt.fromPath(r);return this.gi(t,o).next(u=>{u||i.removeEntry(o,Rt.min())})}).next(()=>(this.Vi=null,i.apply(t)))}updateLimboDocument(t,i){return this.gi(t,i).next(r=>{r?this.fi.delete(i.toString()):this.fi.add(i.toString())})}Ti(t){return 0}gi(t,i){return J.or([()=>J.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class bh{constructor(t,i){this.persistence=t,this.pi=new na(r=>QI(r.path),(r,o)=>r.isEqual(o)),this.garbageCollector=a4(this,i)}static mi(t,i){return new bh(t,i)}Ei(){}di(t){return J.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next(r=>i.next(o=>r+o))}wr(t){let i=0;return this.pr(t,r=>{i++}).next(()=>i)}pr(t,i){return J.forEach(this.pi,(r,o)=>this.br(t,r,o).next(u=>u?J.resolve():i(o)))}removeTargets(t,i,r){return this.persistence.getTargetCache().removeTargets(t,i,r)}removeOrphanedDocuments(t,i){let r=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(t,h=>this.br(t,h,i).next(d=>{d||(r++,u.removeEntry(h,Rt.min()))})).next(()=>u.apply(t)).next(()=>r)}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),J.resolve()}removeTarget(t,i){const r=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,i,r){return this.pi.set(r,t.currentSequenceNumber),J.resolve()}removeReference(t,i,r){return this.pi.set(r,t.currentSequenceNumber),J.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),J.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=ah(t.data.value)),i}br(t,i,r){return J.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const o=this.pi.get(i);return J.resolve(o!==void 0&&o>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{constructor(t,i,r,o){this.targetId=t,this.fromCache=i,this.Es=r,this.ds=o}static As(t,i){let r=Lt(),o=Lt();for(const u of i.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Ag(t,i.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _4{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return fV()?8:KI(uV())>0?6:4}()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,r,o){const u={result:null};return this.ys(t,i).next(h=>{u.result=h}).next(()=>{if(!u.result)return this.ws(t,i,o,r).next(h=>{u.result=h})}).next(()=>{if(u.result)return;const h=new v4;return this.Ss(t,i,h).next(d=>{if(u.result=d,this.Vs)return this.bs(t,i,h,d.size)})}).next(()=>u.result)}bs(t,i,r,o){return r.documentReadCount<this.fs?(Xa()<=jt.DEBUG&&ht("QueryEngine","SDK will not create cache indexes for query:",$a(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),J.resolve()):(Xa()<=jt.DEBUG&&ht("QueryEngine","Query:",$a(i),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(Xa()<=jt.DEBUG&&ht("QueryEngine","The SDK decides to create cache indexes for query:",$a(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ri(i))):J.resolve())}ys(t,i){if(tE(i))return J.resolve(null);let r=Ri(i);return this.indexManager.getIndexType(t,r).next(o=>o===0?null:(i.limit!==null&&o===1&&(i=cp(i,null,"F"),r=Ri(i)),this.indexManager.getDocumentsMatchingTarget(t,r).next(u=>{const h=Lt(...u);return this.ps.getDocuments(t,h).next(d=>this.indexManager.getMinOffset(t,r).next(p=>{const g=this.Ds(i,d);return this.Cs(i,g,h,p.readTime)?this.ys(t,cp(i,null,"F")):this.vs(t,g,i,p)}))})))}ws(t,i,r,o){return tE(i)||o.isEqual(Rt.min())?J.resolve(null):this.ps.getDocuments(t,r).next(u=>{const h=this.Ds(i,u);return this.Cs(i,h,r,o)?J.resolve(null):(Xa()<=jt.DEBUG&&ht("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),$a(i)),this.vs(t,h,i,jI(o,iu)).next(d=>d))})}Ds(t,i){let r=new Ue(iS(t));return i.forEach((o,u)=>{zh(t,u)&&(r=r.add(u))}),r}Cs(t,i,r,o){if(t.limit===null)return!1;if(r.size!==i.size)return!0;const u=t.limitType==="F"?i.last():i.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(t,i,r){return Xa()<=jt.DEBUG&&ht("QueryEngine","Using full collection scan to execute query:",$a(i)),this.ps.getDocumentsMatchingQuery(t,i,Ws.min(),r)}vs(t,i,r,o){return this.ps.getDocumentsMatchingQuery(t,r,o).next(u=>(i.forEach(h=>{u=u.insert(h.key,h)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sg="LocalStore",T4=3e8;class E4{constructor(t,i,r,o){this.persistence=t,this.Fs=i,this.serializer=o,this.Ms=new he(Pt),this.xs=new na(u=>mg(u),pg),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new u4(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>t.collect(i,this.Ms))}}function A4(n,t,i,r){return new E4(n,t,i,r)}async function DS(n,t){const i=Ct(n);return await i.persistence.runTransaction("Handle user change","readonly",r=>{let o;return i.mutationQueue.getAllMutationBatches(r).next(u=>(o=u,i.Bs(t),i.mutationQueue.getAllMutationBatches(r))).next(u=>{const h=[],d=[];let p=Lt();for(const g of o){h.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}for(const g of u){d.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}return i.localDocuments.getDocuments(r,p).next(g=>({Ls:g,removedBatchIds:h,addedBatchIds:d}))})})}function S4(n,t){const i=Ct(n);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=t.batch.keys(),u=i.Ns.newChangeBuffer({trackRemovals:!0});return function(d,p,g,v){const E=g.batch,A=E.keys();let C=J.resolve();return A.forEach(P=>{C=C.next(()=>v.getEntry(p,P)).next(j=>{const F=g.docVersions.get(P);Gt(F!==null,48541),j.version.compareTo(F)<0&&(E.applyToRemoteDocument(j,g),j.isValidDocument()&&(j.setReadTime(g.commitVersion),v.addEntry(j)))})}),C.next(()=>d.mutationQueue.removeMutationBatch(p,E))}(i,r,t,u).next(()=>u.apply(r)).next(()=>i.mutationQueue.performConsistencyCheck(r)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(r,o,t.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(d){let p=Lt();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(p=p.add(d.batch.mutations[g].key));return p}(t))).next(()=>i.localDocuments.getDocuments(r,o))})}function VS(n){const t=Ct(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",i=>t.Pi.getLastRemoteSnapshotVersion(i))}function b4(n,t){const i=Ct(n),r=t.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const d=[];t.targetChanges.forEach((v,E)=>{const A=o.get(E);if(!A)return;d.push(i.Pi.removeMatchingKeys(u,v.removedDocuments,E).next(()=>i.Pi.addMatchingKeys(u,v.addedDocuments,E)));let C=A.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(E)!==null?C=C.withResumeToken(Je.EMPTY_BYTE_STRING,Rt.min()).withLastLimboFreeSnapshotVersion(Rt.min()):v.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(v.resumeToken,r)),o=o.insert(E,C),function(j,F,$){return j.resumeToken.approximateByteSize()===0||F.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=T4?!0:$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0}(A,C,v)&&d.push(i.Pi.updateTargetData(u,C))});let p=fs(),g=Lt();if(t.documentUpdates.forEach(v=>{t.resolvedLimboDocuments.has(v)&&d.push(i.persistence.referenceDelegate.updateLimboDocument(u,v))}),d.push(w4(u,h,t.documentUpdates).next(v=>{p=v.ks,g=v.qs})),!r.isEqual(Rt.min())){const v=i.Pi.getLastRemoteSnapshotVersion(u).next(E=>i.Pi.setTargetsMetadata(u,u.currentSequenceNumber,r));d.push(v)}return J.waitFor(d).next(()=>h.apply(u)).next(()=>i.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(i.Ms=o,u))}function w4(n,t,i){let r=Lt(),o=Lt();return i.forEach(u=>r=r.add(u)),t.getEntries(n,r).next(u=>{let h=fs();return i.forEach((d,p)=>{const g=u.get(d);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(d)),p.isNoDocument()&&p.version.isEqual(Rt.min())?(t.removeEntry(d,p.readTime),h=h.insert(d,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(p),h=h.insert(d,p)):ht(Sg,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",p.version)}),{ks:h,qs:o}})}function R4(n,t){const i=Ct(n);return i.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=hg),i.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function C4(n,t){const i=Ct(n);return i.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return i.Pi.getTargetData(r,t).next(u=>u?(o=u,J.resolve(o)):i.Pi.allocateTargetId(r).next(h=>(o=new Fs(t,h,"TargetPurposeListen",r.currentSequenceNumber),i.Pi.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=i.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(r.targetId,r),i.xs.set(t,r.targetId)),r})}async function pp(n,t,i){const r=Ct(n),o=r.Ms.get(t),u=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",u,h=>r.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!Ao(h))throw h;ht(Sg,`Failed to update sequence numbers for target ${t}: ${h}`)}r.Ms=r.Ms.remove(t),r.xs.delete(o.target)}function dE(n,t,i){const r=Ct(n);let o=Rt.min(),u=Lt();return r.persistence.runTransaction("Execute query","readwrite",h=>function(p,g,v){const E=Ct(p),A=E.xs.get(v);return A!==void 0?J.resolve(E.Ms.get(A)):E.Pi.getTargetData(g,v)}(r,h,Ri(t)).next(d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(h,d.targetId).next(p=>{u=p})}).next(()=>r.Fs.getDocumentsMatchingQuery(h,t,i?o:Rt.min(),i?u:Lt())).next(d=>(x4(r,mM(t),d),{documents:d,Qs:u})))}function x4(n,t,i){let r=n.Os.get(t)||Rt.min();i.forEach((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)}),n.Os.set(t,r)}class mE{constructor(){this.activeTargetIds=TM()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class D4{constructor(){this.Mo=new mE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,r){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,r){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new mE,Promise.resolve()}handleUserChange(t,i,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V4{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pE="ConnectivityMonitor";class gE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ht(pE,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ht(pE,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jc=null;function gp(){return Jc===null?Jc=function(){return 268435456+Math.round(2147483648*Math.random())}():Jc++,"0x"+Jc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rm="RestConnection",I4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class M4{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===_h?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(t,i,r,o,u){const h=gp(),d=this.zo(t,i.toUriEncodedString());ht(Rm,`Sending RPC '${t}' ${h}:`,d,r);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:g}=new URL(d),v=rg(g);return this.Jo(t,d,p,r,v).then(E=>(ht(Rm,`Received RPC '${t}' ${h}: `,E),E),E=>{throw uo(Rm,`RPC '${t}' ${h} failed with error: `,E,"url: ",d,"request:",r),E})}Ho(t,i,r,o,u,h){return this.Go(t,i,r,o,u)}jo(t,i,r){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+To}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,u)=>t[u]=o),r&&r.headers.forEach((o,u)=>t[u]=o)}zo(t,i){const r=I4[t];return`${this.Uo}/v1/${i}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N4{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const an="WebChannelConnection";class O4 extends M4{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,r,o,u){const h=gp();return new Promise((d,p)=>{const g=new VA;g.setWithCredentials(!0),g.listenOnce(IA.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case rh.NO_ERROR:const E=g.getResponseJson();ht(an,`XHR for RPC '${t}' ${h} received:`,JSON.stringify(E)),d(E);break;case rh.TIMEOUT:ht(an,`RPC '${t}' ${h} timed out`),p(new mt(et.DEADLINE_EXCEEDED,"Request time out"));break;case rh.HTTP_ERROR:const A=g.getStatus();if(ht(an,`RPC '${t}' ${h} failed with status:`,A,"response text:",g.getResponseText()),A>0){let C=g.getResponseJson();Array.isArray(C)&&(C=C[0]);const P=C==null?void 0:C.error;if(P&&P.status&&P.message){const j=function($){const Z=$.toLowerCase().replace(/_/g,"-");return Object.values(et).indexOf(Z)>=0?Z:et.UNKNOWN}(P.status);p(new mt(j,P.message))}else p(new mt(et.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new mt(et.UNAVAILABLE,"Connection failed."));break;default:St(9055,{l_:t,streamId:h,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ht(an,`RPC '${t}' ${h} completed.`)}});const v=JSON.stringify(o);ht(an,`RPC '${t}' ${h} sending request:`,o),g.send(i,"POST",v,r,15)})}T_(t,i,r){const o=gp(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],h=OA(),d=NA(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,i,r),p.encodeInitMessageHeaders=!0;const v=u.join("");ht(an,`Creating RPC '${t}' stream ${o}: ${v}`,p);const E=h.createWebChannel(v,p);this.I_(E);let A=!1,C=!1;const P=new N4({Yo:F=>{C?ht(an,`Not sending because RPC '${t}' stream ${o} is closed:`,F):(A||(ht(an,`Opening RPC '${t}' stream ${o} transport.`),E.open(),A=!0),ht(an,`RPC '${t}' stream ${o} sending:`,F),E.send(F))},Zo:()=>E.close()}),j=(F,$,Z)=>{F.listen($,Q=>{try{Z(Q)}catch(ut){setTimeout(()=>{throw ut},0)}})};return j(E,Ol.EventType.OPEN,()=>{C||(ht(an,`RPC '${t}' stream ${o} transport opened.`),P.o_())}),j(E,Ol.EventType.CLOSE,()=>{C||(C=!0,ht(an,`RPC '${t}' stream ${o} transport closed`),P.a_(),this.E_(E))}),j(E,Ol.EventType.ERROR,F=>{C||(C=!0,uo(an,`RPC '${t}' stream ${o} transport errored. Name:`,F.name,"Message:",F.message),P.a_(new mt(et.UNAVAILABLE,"The operation could not be completed")))}),j(E,Ol.EventType.MESSAGE,F=>{var $;if(!C){const Z=F.data[0];Gt(!!Z,16349);const Q=Z,ut=(Q==null?void 0:Q.error)||(($=Q[0])==null?void 0:$.error);if(ut){ht(an,`RPC '${t}' stream ${o} received error:`,ut);const it=ut.status;let ct=function(R){const M=xe[R];if(M!==void 0)return yS(M)}(it),V=ut.message;ct===void 0&&(ct=et.INTERNAL,V="Unknown error status: "+it+" with message "+ut.message),C=!0,P.a_(new mt(ct,V)),E.close()}else ht(an,`RPC '${t}' stream ${o} received:`,Z),P.u_(Z)}}),j(d,MA.STAT_EVENT,F=>{F.stat===sp.PROXY?ht(an,`RPC '${t}' stream ${o} detected buffering proxy`):F.stat===sp.NOPROXY&&ht(an,`RPC '${t}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{P.__()},0),P}terminate(){this.c_.forEach(t=>t.close()),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter(i=>i===t)}}function Cm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hh(n){return new kM(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(t,i,r=1e3,o=1.5,u=6e4){this.Mi=t,this.timerId=i,this.d_=r,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-r);o>0&&ht("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,()=>(this.f_=Date.now(),t())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yE="PersistentStream";class MS{constructor(t,i,r,o,u,h,d,p){this.Mi=t,this.S_=r,this.b_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new IS(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===et.RESOURCE_EXHAUSTED?(hs(i.toString()),hs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===et.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.D_===i&&this.G_(r,o)},r=>{t(()=>{const o=new mt(et.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)})})}G_(t,i){const r=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(o=>{r(()=>this.z_(o))}),this.stream.onMessage(o=>{r(()=>++this.F_==1?this.J_(o):this.onNext(o))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(t){return ht(yE,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget(()=>this.D_===t?i():(ht(yE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class P4 extends MS{constructor(t,i,r,o,u,h){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,o,h),this.serializer=u}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=jM(this.serializer,t),r=function(u){if(!("targetChange"in u))return Rt.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Rt.min():h.readTime?xi(h.readTime):Rt.min()}(t);return this.listener.H_(i,r)}Y_(t){const i={};i.database=mp(this.serializer),i.addTarget=function(u,h){let d;const p=h.target;if(d=up(p)?{documents:HM(u,p)}:{query:GM(u,p).ft},d.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){d.resumeToken=TS(u,h.resumeToken);const g=hp(u,h.expectedCount);g!==null&&(d.expectedCount=g)}else if(h.snapshotVersion.compareTo(Rt.min())>0){d.readTime=Sh(u,h.snapshotVersion.toTimestamp());const g=hp(u,h.expectedCount);g!==null&&(d.expectedCount=g)}return d}(this.serializer,t);const r=YM(this.serializer,t);r&&(i.labels=r),this.q_(i)}Z_(t){const i={};i.database=mp(this.serializer),i.removeTarget=t,this.q_(i)}}class L4 extends MS{constructor(t,i,r,o,u,h){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,o,h),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return Gt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Gt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Gt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=FM(t.writeResults,t.commitTime),r=xi(t.commitTime);return this.listener.na(r,i)}ra(){const t={};t.database=mp(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map(r=>qM(this.serializer,r))};this.q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U4{}class k4 extends U4{constructor(t,i,r,o){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new mt(et.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Go(t,fp(i,r),o,u,h)).catch(u=>{throw u.name==="FirebaseError"?(u.code===et.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new mt(et.UNKNOWN,u.toString())})}Ho(t,i,r,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.Ho(t,fp(i,r),o,h,d,u)).catch(h=>{throw h.name==="FirebaseError"?(h.code===et.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new mt(et.UNKNOWN,h.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class B4{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(hs(i),this.aa=!1):ht("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jr="RemoteStore";class z4{constructor(t,i,r,o,u){this.localStore=t,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo(h=>{r.enqueueAndForget(async()=>{ia(this)&&(ht(Jr,"Restarting streams for network reachability change."),await async function(p){const g=Ct(p);g.Ea.add(4),await _u(g),g.Ra.set("Unknown"),g.Ea.delete(4),await Gh(g)}(this))})}),this.Ra=new B4(r,o)}}async function Gh(n){if(ia(n))for(const t of n.da)await t(!0)}async function _u(n){for(const t of n.da)await t(!1)}function NS(n,t){const i=Ct(n);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),Cg(i)?Rg(i):So(i).O_()&&wg(i,t))}function bg(n,t){const i=Ct(n),r=So(i);i.Ia.delete(t),r.O_()&&OS(i,t),i.Ia.size===0&&(r.O_()?r.L_():ia(i)&&i.Ra.set("Unknown"))}function wg(n,t){if(n.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Rt.min())>0){const i=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}So(n).Y_(t)}function OS(n,t){n.Va.Ue(t),So(n).Z_(t)}function Rg(n){n.Va=new OM({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),At:t=>n.Ia.get(t)||null,ht:()=>n.datastore.serializer.databaseId}),So(n).start(),n.Ra.ua()}function Cg(n){return ia(n)&&!So(n).x_()&&n.Ia.size>0}function ia(n){return Ct(n).Ea.size===0}function PS(n){n.Va=void 0}async function j4(n){n.Ra.set("Online")}async function q4(n){n.Ia.forEach((t,i)=>{wg(n,t)})}async function F4(n,t){PS(n),Cg(n)?(n.Ra.ha(t),Rg(n)):n.Ra.set("Unknown")}async function H4(n,t,i){if(n.Ra.set("Online"),t instanceof _S&&t.state===2&&t.cause)try{await async function(o,u){const h=u.cause;for(const d of u.targetIds)o.Ia.has(d)&&(await o.remoteSyncer.rejectListen(d,h),o.Ia.delete(d),o.Va.removeTarget(d))}(n,t)}catch(r){ht(Jr,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await wh(n,r)}else if(t instanceof uh?n.Va.Ze(t):t instanceof vS?n.Va.st(t):n.Va.tt(t),!i.isEqual(Rt.min()))try{const r=await VS(n.localStore);i.compareTo(r)>=0&&await function(u,h){const d=u.Va.Tt(h);return d.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const v=u.Ia.get(g);v&&u.Ia.set(g,v.withResumeToken(p.resumeToken,h))}}),d.targetMismatches.forEach((p,g)=>{const v=u.Ia.get(p);if(!v)return;u.Ia.set(p,v.withResumeToken(Je.EMPTY_BYTE_STRING,v.snapshotVersion)),OS(u,p);const E=new Fs(v.target,p,g,v.sequenceNumber);wg(u,E)}),u.remoteSyncer.applyRemoteEvent(d)}(n,i)}catch(r){ht(Jr,"Failed to raise snapshot:",r),await wh(n,r)}}async function wh(n,t,i){if(!Ao(t))throw t;n.Ea.add(1),await _u(n),n.Ra.set("Offline"),i||(i=()=>VS(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ht(Jr,"Retrying IndexedDB access"),await i(),n.Ea.delete(1),await Gh(n)})}function LS(n,t){return t().catch(i=>wh(n,i,t))}async function Kh(n){const t=Ct(n),i=nr(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:hg;for(;G4(t);)try{const o=await R4(t.localStore,r);if(o===null){t.Ta.length===0&&i.L_();break}r=o.batchId,K4(t,o)}catch(o){await wh(t,o)}US(t)&&kS(t)}function G4(n){return ia(n)&&n.Ta.length<10}function K4(n,t){n.Ta.push(t);const i=nr(n);i.O_()&&i.X_&&i.ea(t.mutations)}function US(n){return ia(n)&&!nr(n).x_()&&n.Ta.length>0}function kS(n){nr(n).start()}async function Y4(n){nr(n).ra()}async function Q4(n){const t=nr(n);for(const i of n.Ta)t.ea(i.mutations)}async function X4(n,t,i){const r=n.Ta.shift(),o=yg.from(r,t,i);await LS(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),await Kh(n)}async function $4(n,t){t&&nr(n).X_&&await async function(r,o){if(function(h){return IM(h)&&h!==et.ABORTED}(o.code)){const u=r.Ta.shift();nr(r).B_(),await LS(r,()=>r.remoteSyncer.rejectFailedWrite(u.batchId,o)),await Kh(r)}}(n,t),US(n)&&kS(n)}async function vE(n,t){const i=Ct(n);i.asyncQueue.verifyOperationInProgress(),ht(Jr,"RemoteStore received new credentials");const r=ia(i);i.Ea.add(3),await _u(i),r&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await Gh(i)}async function Z4(n,t){const i=Ct(n);t?(i.Ea.delete(2),await Gh(i)):t||(i.Ea.add(2),await _u(i),i.Ra.set("Unknown"))}function So(n){return n.ma||(n.ma=function(i,r,o){const u=Ct(i);return u.sa(),new P4(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(n.datastore,n.asyncQueue,{Xo:j4.bind(null,n),t_:q4.bind(null,n),r_:F4.bind(null,n),H_:H4.bind(null,n)}),n.da.push(async t=>{t?(n.ma.B_(),Cg(n)?Rg(n):n.Ra.set("Unknown")):(await n.ma.stop(),PS(n))})),n.ma}function nr(n){return n.fa||(n.fa=function(i,r,o){const u=Ct(i);return u.sa(),new L4(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:Y4.bind(null,n),r_:$4.bind(null,n),ta:Q4.bind(null,n),na:X4.bind(null,n)}),n.da.push(async t=>{t?(n.fa.B_(),await Kh(n)):(await n.fa.stop(),n.Ta.length>0&&(ht(Jr,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))})),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xg{constructor(t,i,r,o,u){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new Ys,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,i,r,o,u){const h=Date.now()+r,d=new xg(t,i,h,o,u);return d.start(r),d}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new mt(et.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Dg(n,t){if(hs("AsyncQueue",`${t}: ${n}`),Ao(n))return new mt(et.UNAVAILABLE,`${t}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{static emptySet(t){return new so(t.comparator)}constructor(t){this.comparator=t?(i,r)=>t(i,r)||vt.comparator(i.key,r.key):(i,r)=>vt.comparator(i.key,r.key),this.keyedMap=Pl(),this.sortedSet=new he(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((i,r)=>(t(i),!1))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof so)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach(i=>{t.push(i.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const r=new so;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=i,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _E{constructor(){this.ga=new he(vt.comparator)}track(t){const i=t.doc.key,r=this.ga.get(i);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(i,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(i):t.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):St(63341,{Rt:t,pa:r}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal((i,r)=>{t.push(r)}),t}}class go{constructor(t,i,r,o,u,h,d,p,g){this.query=t,this.docs=i,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(t,i,r,o,u){const h=[];return i.forEach(d=>{h.push({type:0,doc:d})}),new go(t,i,so.emptySet(i),h,r,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Bh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,r=t.docChanges;if(i.length!==r.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==r[o].type||!i[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W4{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(t=>t.Da())}}class J4{constructor(){this.queries=TE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const o=Ct(i),u=o.queries;o.queries=TE(),u.forEach((h,d)=>{for(const p of d.Sa)p.onError(r)})})(this,new mt(et.ABORTED,"Firestore shutting down"))}}function TE(){return new na(n=>nS(n),Bh)}async function tN(n,t){const i=Ct(n);let r=3;const o=t.query;let u=i.queries.get(o);u?!u.ba()&&t.Da()&&(r=2):(u=new W4,r=t.Da()?0:1);try{switch(r){case 0:u.wa=await i.onListen(o,!0);break;case 1:u.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(h){const d=Dg(h,`Initialization of query '${$a(t.query)}' failed`);return void t.onError(d)}i.queries.set(o,u),u.Sa.push(t),t.va(i.onlineState),u.wa&&t.Fa(u.wa)&&Vg(i)}async function eN(n,t){const i=Ct(n),r=t.query;let o=3;const u=i.queries.get(r);if(u){const h=u.Sa.indexOf(t);h>=0&&(u.Sa.splice(h,1),u.Sa.length===0?o=t.Da()?0:1:!u.ba()&&t.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function nN(n,t){const i=Ct(n);let r=!1;for(const o of t){const u=o.query,h=i.queries.get(u);if(h){for(const d of h.Sa)d.Fa(o)&&(r=!0);h.wa=o}}r&&Vg(i)}function iN(n,t,i){const r=Ct(n),o=r.queries.get(t);if(o)for(const u of o.Sa)u.onError(i);r.queries.delete(t)}function Vg(n){n.Ca.forEach(t=>{t.next()})}var yp,EE;(EE=yp||(yp={})).Ma="default",EE.Cache="cache";class sN{constructor(t,i,r){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const o of t.docChanges)o.type!==3&&r.push(o);t=new go(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=go.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==yp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{constructor(t){this.key=t}}class zS{constructor(t){this.key=t}}class rN{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Lt(),this.mutatedKeys=Lt(),this.eu=iS(t),this.tu=new so(this.eu)}get nu(){return this.Ya}ru(t,i){const r=i?i.iu:new _E,o=i?i.tu:this.tu;let u=i?i.mutatedKeys:this.mutatedKeys,h=o,d=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal((v,E)=>{const A=o.get(v),C=zh(this.query,E)?E:null,P=!!A&&this.mutatedKeys.has(A.key),j=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let F=!1;A&&C?A.data.isEqual(C.data)?P!==j&&(r.track({type:3,doc:C}),F=!0):this.su(A,C)||(r.track({type:2,doc:C}),F=!0,(p&&this.eu(C,p)>0||g&&this.eu(C,g)<0)&&(d=!0)):!A&&C?(r.track({type:0,doc:C}),F=!0):A&&!C&&(r.track({type:1,doc:A}),F=!0,(p||g)&&(d=!0)),F&&(C?(h=h.add(C),u=j?u.add(v):u.delete(v)):(h=h.delete(v),u=u.delete(v)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const v=this.query.limitType==="F"?h.last():h.first();h=h.delete(v.key),u=u.delete(v.key),r.track({type:1,doc:v})}return{tu:h,iu:r,Cs:d,mutatedKeys:u}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,r,o){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const h=t.iu.ya();h.sort((v,E)=>function(C,P){const j=F=>{switch(F){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return St(20277,{Rt:F})}};return j(C)-j(P)}(v.type,E.type)||this.eu(v.doc,E.doc)),this.ou(r),o=o??!1;const d=i&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,h.length!==0||g?{snapshot:new go(this.query,t.tu,u,h,t.mutatedKeys,p===0,g,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new _E,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach(i=>this.Ya=this.Ya.add(i)),t.modifiedDocuments.forEach(i=>{}),t.removedDocuments.forEach(i=>this.Ya=this.Ya.delete(i)),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Lt(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const i=[];return t.forEach(r=>{this.Xa.has(r)||i.push(new zS(r))}),this.Xa.forEach(r=>{t.has(r)||i.push(new BS(r))}),i}cu(t){this.Ya=t.Qs,this.Xa=Lt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return go.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Ig="SyncEngine";class aN{constructor(t,i,r){this.query=t,this.targetId=i,this.view=r}}class oN{constructor(t){this.key=t,this.hu=!1}}class lN{constructor(t,i,r,o,u,h){this.localStore=t,this.remoteStore=i,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new na(d=>nS(d),Bh),this.Iu=new Map,this.Eu=new Set,this.du=new he(vt.comparator),this.Au=new Map,this.Ru=new Tg,this.Vu={},this.mu=new Map,this.fu=po.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function uN(n,t,i=!0){const r=KS(n);let o;const u=r.Tu.get(t);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await jS(r,t,i,!0),o}async function cN(n,t){const i=KS(n);await jS(i,t,!0,!1)}async function jS(n,t,i,r){const o=await C4(n.localStore,Ri(t)),u=o.targetId,h=n.sharedClientState.addLocalQueryTarget(u,i);let d;return r&&(d=await hN(n,t,u,h==="current",o.resumeToken)),n.isPrimaryClient&&i&&NS(n.remoteStore,o),d}async function hN(n,t,i,r,o){n.pu=(E,A,C)=>async function(j,F,$,Z){let Q=F.view.ru($);Q.Cs&&(Q=await dE(j.localStore,F.query,!1).then(({documents:V})=>F.view.ru(V,Q)));const ut=Z&&Z.targetChanges.get(F.targetId),it=Z&&Z.targetMismatches.get(F.targetId)!=null,ct=F.view.applyChanges(Q,j.isPrimaryClient,ut,it);return SE(j,F.targetId,ct.au),ct.snapshot}(n,E,A,C);const u=await dE(n.localStore,t,!0),h=new rN(t,u.Qs),d=h.ru(u.documents),p=vu.createSynthesizedTargetChangeForCurrentChange(i,r&&n.onlineState!=="Offline",o),g=h.applyChanges(d,n.isPrimaryClient,p);SE(n,i,g.au);const v=new aN(t,i,h);return n.Tu.set(t,v),n.Iu.has(i)?n.Iu.get(i).push(t):n.Iu.set(i,[t]),g.snapshot}async function fN(n,t,i){const r=Ct(n),o=r.Tu.get(t),u=r.Iu.get(o.targetId);if(u.length>1)return r.Iu.set(o.targetId,u.filter(h=>!Bh(h,t))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await pp(r.localStore,o.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(o.targetId),i&&bg(r.remoteStore,o.targetId),vp(r,o.targetId)}).catch(Eo)):(vp(r,o.targetId),await pp(r.localStore,o.targetId,!0))}async function dN(n,t){const i=Ct(n),r=i.Tu.get(t),o=i.Iu.get(r.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),bg(i.remoteStore,r.targetId))}async function mN(n,t,i){const r=EN(n);try{const o=await function(h,d){const p=Ct(h),g=se.now(),v=d.reduce((C,P)=>C.add(P.key),Lt());let E,A;return p.persistence.runTransaction("Locally write mutations","readwrite",C=>{let P=fs(),j=Lt();return p.Ns.getEntries(C,v).next(F=>{P=F,P.forEach(($,Z)=>{Z.isValidDocument()||(j=j.add($))})}).next(()=>p.localDocuments.getOverlayedDocuments(C,P)).next(F=>{E=F;const $=[];for(const Z of d){const Q=RM(Z,E.get(Z.key).overlayedDocument);Q!=null&&$.push(new or(Z.key,Q,QA(Q.value.mapValue),Ci.exists(!0)))}return p.mutationQueue.addMutationBatch(C,g,$,d)}).next(F=>{A=F;const $=F.applyToLocalDocumentSet(E,j);return p.documentOverlayCache.saveOverlays(C,F.batchId,$)})}).then(()=>({batchId:A.batchId,changes:rS(E)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(o.batchId),function(h,d,p){let g=h.Vu[h.currentUser.toKey()];g||(g=new he(Pt)),g=g.insert(d,p),h.Vu[h.currentUser.toKey()]=g}(r,o.batchId,i),await Tu(r,o.changes),await Kh(r.remoteStore)}catch(o){const u=Dg(o,"Failed to persist write");i.reject(u)}}async function qS(n,t){const i=Ct(n);try{const r=await b4(i.localStore,t);t.targetChanges.forEach((o,u)=>{const h=i.Au.get(u);h&&(Gt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?Gt(h.hu,14607):o.removedDocuments.size>0&&(Gt(h.hu,42227),h.hu=!1))}),await Tu(i,r,t)}catch(r){await Eo(r)}}function AE(n,t,i){const r=Ct(n);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const o=[];r.Tu.forEach((u,h)=>{const d=h.view.va(t);d.snapshot&&o.push(d.snapshot)}),function(h,d){const p=Ct(h);p.onlineState=d;let g=!1;p.queries.forEach((v,E)=>{for(const A of E.Sa)A.va(d)&&(g=!0)}),g&&Vg(p)}(r.eventManager,t),o.length&&r.Pu.H_(o),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function pN(n,t,i){const r=Ct(n);r.sharedClientState.updateQueryState(t,"rejected",i);const o=r.Au.get(t),u=o&&o.key;if(u){let h=new he(vt.comparator);h=h.insert(u,ln.newNoDocument(u,Rt.min()));const d=Lt().add(u),p=new Fh(Rt.min(),new Map,new he(Pt),h,d);await qS(r,p),r.du=r.du.remove(u),r.Au.delete(t),Mg(r)}else await pp(r.localStore,t,!1).then(()=>vp(r,t,i)).catch(Eo)}async function gN(n,t){const i=Ct(n),r=t.batch.batchId;try{const o=await S4(i.localStore,t);HS(i,r,null),FS(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await Tu(i,o)}catch(o){await Eo(o)}}async function yN(n,t,i){const r=Ct(n);try{const o=await function(h,d){const p=Ct(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let v;return p.mutationQueue.lookupMutationBatch(g,d).next(E=>(Gt(E!==null,37113),v=E.keys(),p.mutationQueue.removeMutationBatch(g,E))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,v,d)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v)).next(()=>p.localDocuments.getDocuments(g,v))})}(r.localStore,t);HS(r,t,i),FS(r,t),r.sharedClientState.updateMutationState(t,"rejected",i),await Tu(r,o)}catch(o){await Eo(o)}}function FS(n,t){(n.mu.get(t)||[]).forEach(i=>{i.resolve()}),n.mu.delete(t)}function HS(n,t,i){const r=Ct(n);let o=r.Vu[r.currentUser.toKey()];if(o){const u=o.get(t);u&&(i?u.reject(i):u.resolve(),o=o.remove(t)),r.Vu[r.currentUser.toKey()]=o}}function vp(n,t,i=null){n.sharedClientState.removeLocalQueryTarget(t);for(const r of n.Iu.get(t))n.Tu.delete(r),i&&n.Pu.yu(r,i);n.Iu.delete(t),n.isPrimaryClient&&n.Ru.jr(t).forEach(r=>{n.Ru.containsKey(r)||GS(n,r)})}function GS(n,t){n.Eu.delete(t.path.canonicalString());const i=n.du.get(t);i!==null&&(bg(n.remoteStore,i),n.du=n.du.remove(t),n.Au.delete(i),Mg(n))}function SE(n,t,i){for(const r of i)r instanceof BS?(n.Ru.addReference(r.key,t),vN(n,r)):r instanceof zS?(ht(Ig,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,t),n.Ru.containsKey(r.key)||GS(n,r.key)):St(19791,{wu:r})}function vN(n,t){const i=t.key,r=i.path.canonicalString();n.du.get(i)||n.Eu.has(r)||(ht(Ig,"New document in limbo: "+i),n.Eu.add(r),Mg(n))}function Mg(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const t=n.Eu.values().next().value;n.Eu.delete(t);const i=new vt(ie.fromString(t)),r=n.fu.next();n.Au.set(r,new oN(i)),n.du=n.du.insert(i,r),NS(n.remoteStore,new Fs(Ri(eS(i.path)),r,"TargetPurposeLimboResolution",Ph.ce))}}async function Tu(n,t,i){const r=Ct(n),o=[],u=[],h=[];r.Tu.isEmpty()||(r.Tu.forEach((d,p)=>{h.push(r.pu(p,t,i).then(g=>{var v;if((g||i)&&r.isPrimaryClient){const E=g?!g.fromCache:(v=i==null?void 0:i.targetChanges.get(p.targetId))==null?void 0:v.current;r.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(g){o.push(g);const E=Ag.As(p.targetId,g);u.push(E)}}))}),await Promise.all(h),r.Pu.H_(o),await async function(p,g){const v=Ct(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",E=>J.forEach(g,A=>J.forEach(A.Es,C=>v.persistence.referenceDelegate.addReference(E,A.targetId,C)).next(()=>J.forEach(A.ds,C=>v.persistence.referenceDelegate.removeReference(E,A.targetId,C)))))}catch(E){if(!Ao(E))throw E;ht(Sg,"Failed to update sequence numbers: "+E)}for(const E of g){const A=E.targetId;if(!E.fromCache){const C=v.Ms.get(A),P=C.snapshotVersion,j=C.withLastLimboFreeSnapshotVersion(P);v.Ms=v.Ms.insert(A,j)}}}(r.localStore,u))}async function _N(n,t){const i=Ct(n);if(!i.currentUser.isEqual(t)){ht(Ig,"User change. New user:",t.toKey());const r=await DS(i.localStore,t);i.currentUser=t,function(u,h){u.mu.forEach(d=>{d.forEach(p=>{p.reject(new mt(et.CANCELLED,h))})}),u.mu.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await Tu(i,r.Ls)}}function TN(n,t){const i=Ct(n),r=i.Au.get(t);if(r&&r.hu)return Lt().add(r.key);{let o=Lt();const u=i.Iu.get(t);if(!u)return o;for(const h of u){const d=i.Tu.get(h);o=o.unionWith(d.view.nu)}return o}}function KS(n){const t=Ct(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=qS.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=TN.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=pN.bind(null,t),t.Pu.H_=nN.bind(null,t.eventManager),t.Pu.yu=iN.bind(null,t.eventManager),t}function EN(n){const t=Ct(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=gN.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=yN.bind(null,t),t}class Rh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Hh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return A4(this.persistence,new _4,t.initialUser,this.serializer)}Cu(t){return new xS(Eg.mi,this.serializer)}Du(t){return new D4}async terminate(){var t,i;(t=this.gcScheduler)==null||t.stop(),(i=this.indexBackfillerScheduler)==null||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Rh.provider={build:()=>new Rh};class AN extends Rh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Gt(this.persistence.referenceDelegate instanceof bh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new s4(r,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?vn.withCacheSize(this.cacheSizeBytes):vn.DEFAULT;return new xS(r=>bh.mi(r,i),this.serializer)}}class _p{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>AE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=_N.bind(null,this.syncEngine),await Z4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new J4}()}createDatastore(t){const i=Hh(t.databaseInfo.databaseId),r=function(u){return new O4(u)}(t.databaseInfo);return function(u,h,d,p){return new k4(u,h,d,p)}(t.authCredentials,t.appCheckCredentials,r,i)}createRemoteStore(t){return function(r,o,u,h,d){return new z4(r,o,u,h,d)}(this.localStore,this.datastore,t.asyncQueue,i=>AE(this.syncEngine,i,0),function(){return gE.v()?new gE:new V4}())}createSyncEngine(t,i){return function(o,u,h,d,p,g,v){const E=new lN(o,u,h,d,p,g);return v&&(E.gu=!0),E}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){var t,i;await async function(o){const u=Ct(o);ht(Jr,"RemoteStore shutting down."),u.Ea.add(5),await _u(u),u.Aa.shutdown(),u.Ra.set("Unknown")}(this.remoteStore),(t=this.datastore)==null||t.terminate(),(i=this.eventManager)==null||i.terminate()}}_p.provider={build:()=>new _p};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SN{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):hs("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout(()=>{this.muted||t(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ir="FirestoreClient";class bN{constructor(t,i,r,o,u){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=o,this.user=on.UNAUTHENTICATED,this.clientId=ug.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,async h=>{ht(ir,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(r,h=>(ht(ir,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ys;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=Dg(i,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function xm(n,t){n.asyncQueue.verifyOperationInProgress(),ht(ir,"Initializing OfflineComponentProvider");const i=n.configuration;await t.initialize(i);let r=i.initialUser;n.setCredentialChangeListener(async o=>{r.isEqual(o)||(await DS(t.localStore,o),r=o)}),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=t}async function bE(n,t){n.asyncQueue.verifyOperationInProgress();const i=await wN(n);ht(ir,"Initializing OnlineComponentProvider"),await t.initialize(i,n.configuration),n.setCredentialChangeListener(r=>vE(t.remoteStore,r)),n.setAppCheckTokenChangeListener((r,o)=>vE(t.remoteStore,o)),n._onlineComponents=t}async function wN(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ht(ir,"Using user provided OfflineComponentProvider");try{await xm(n,n._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!function(o){return o.name==="FirebaseError"?o.code===et.FAILED_PRECONDITION||o.code===et.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(i))throw i;uo("Error using user provided cache. Falling back to memory cache: "+i),await xm(n,new Rh)}}else ht(ir,"Using default OfflineComponentProvider"),await xm(n,new AN(void 0));return n._offlineComponents}async function YS(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ht(ir,"Using user provided OnlineComponentProvider"),await bE(n,n._uninitializedComponentsProvider._online)):(ht(ir,"Using default OnlineComponentProvider"),await bE(n,new _p))),n._onlineComponents}function RN(n){return YS(n).then(t=>t.syncEngine)}async function CN(n){const t=await YS(n),i=t.eventManager;return i.onListen=uN.bind(null,t.syncEngine),i.onUnlisten=fN.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=cN.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=dN.bind(null,t.syncEngine),i}function xN(n,t,i={}){const r=new Ys;return n.asyncQueue.enqueueAndForget(async()=>function(u,h,d,p,g){const v=new SN({next:A=>{v.Nu(),h.enqueueAndForget(()=>eN(u,E)),A.fromCache&&p.source==="server"?g.reject(new mt(et.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(A)},error:A=>g.reject(A)}),E=new sN(d,v,{includeMetadataChanges:!0,qa:!0});return tN(u,E)}(await CN(n),n.asyncQueue,t,i,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QS(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XS="firestore.googleapis.com",RE=!0;class CE{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new mt(et.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=XS,this.ssl=RE}else this.host=t.host,this.ssl=t.ssl??RE;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=CS;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<n4)throw new mt(et.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}zI("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=QS(t.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new mt(et.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new mt(et.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new mt(et.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,o){return r.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Yh{constructor(t,i,r,o){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new CE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new mt(et.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new mt(et.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new CE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new VI;switch(r.type){case"firstParty":return new OI(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new mt(et.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const r=wE.get(i);r&&(ht("ComponentProvider","Removing Datastore"),wE.delete(i),r.terminate())}(this),Promise.resolve()}}function DN(n,t,i,r={}){var g;n=ho(n,Yh);const o=rg(t),u=n._getSettings(),h={...u,emulatorOptions:n._getEmulatorOptions()},d=`${t}:${i}`;o&&(sV(`https://${d}`),lV("Firestore",!0)),u.host!==XS&&u.host!==d&&uo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:d,ssl:o,emulatorOptions:r};if(!eu(p,h)&&(n._setSettings(p),r.mockUserToken)){let v,E;if(typeof r.mockUserToken=="string")v=r.mockUserToken,E=on.MOCK_USER;else{v=rV(r.mockUserToken,(g=n._app)==null?void 0:g.options.projectId);const A=r.mockUserToken.sub||r.mockUserToken.user_id;if(!A)throw new mt(et.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new on(A)}n._authCredentials=new II(new LA(v,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(t,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Qh(this.firestore,t,this._query)}}class He{constructor(t,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Qs(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new He(this.firestore,t,this._key)}toJSON(){return{type:He._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,r){if(gu(i,He._jsonSchema))return new He(t,r||null,new vt(ie.fromString(i.referencePath)))}}He._jsonSchemaVersion="firestore/documentReference/1.0",He._jsonSchema={type:Ve("string",He._jsonSchemaVersion),referencePath:Ve("string")};class Qs extends Qh{constructor(t,i,r){super(t,i,eS(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new He(this.firestore,null,new vt(t))}withConverter(t){return new Qs(this.firestore,t,this._path)}}function xE(n,t,...i){if(n=Ii(n),UA("collection","path",t),n instanceof Yh){const r=ie.fromString(t,...i);return jT(r),new Qs(n,null,r)}{if(!(n instanceof He||n instanceof Qs))throw new mt(et.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ie.fromString(t,...i));return jT(r),new Qs(n.firestore,null,r)}}function $S(n,t,...i){if(n=Ii(n),arguments.length===1&&(t=ug.newId()),UA("doc","path",t),n instanceof Yh){const r=ie.fromString(t,...i);return zT(r),new He(n,null,new vt(r))}{if(!(n instanceof He||n instanceof Qs))throw new mt(et.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ie.fromString(t,...i));return zT(r),new He(n.firestore,n instanceof Qs?n.converter:null,new vt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DE="AsyncQueue";class VE{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new IS(this,"async_queue_retry"),this._c=()=>{const r=Cm();r&&ht(DE,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const i=Cm();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Cm();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise(()=>{});const i=new Ys;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Xu.push(t),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Ao(t))throw t;ht(DE,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(t){const i=this.ac.then(()=>(this.rc=!0,t().catch(r=>{throw this.nc=r,this.rc=!1,hs("INTERNAL UNHANDLED ERROR: ",IE(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=i,i}enqueueAfterDelay(t,i,r){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const o=xg.createAndSchedule(this,t,i,r,u=>this.hc(u));return this.tc.push(o),o}uc(){this.nc&&St(47125,{Pc:IE(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then(()=>{this.tc.sort((i,r)=>i.targetTimeMs-r.targetTimeMs);for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()})}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function IE(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}class Xh extends Yh{constructor(t,i,r,o){super(t,i,r,o),this.type="firestore",this._queue=new VE,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new VE(t),this._firestoreClient=void 0,await t}}}function VN(n,t){const i=typeof n=="object"?n:RA(),r=typeof n=="string"?n:_h,o=pu(i,"firestore").getImmediate({identifier:r});if(!o._initialized){const u=nV("firestore");u&&DN(o,...u)}return o}function ZS(n){if(n._terminated)throw new mt(et.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||IN(n),n._firestoreClient}function IN(n){var r,o,u;const t=n._freezeSettings(),i=function(d,p,g,v){return new ZI(d,p,g,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,QS(v.experimentalLongPollingOptions),v.useFetchStreams,v.isUsingEmulator)}(n._databaseId,((r=n._app)==null?void 0:r.options.appId)||"",n._persistenceKey,t);n._componentsProvider||(o=t.localCache)!=null&&o._offlineComponentProvider&&((u=t.localCache)!=null&&u._onlineComponentProvider)&&(n._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),n._firestoreClient=new bN(n._authCredentials,n._appCheckCredentials,n._queue,i,n._componentsProvider&&function(d){const p=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(p),_online:p}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Yn(Je.fromBase64String(t))}catch(i){throw new mt(et.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Yn(Je.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Yn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(gu(t,Yn._jsonSchema))return Yn.fromBase64String(t.bytes)}}Yn._jsonSchemaVersion="firestore/bytes/1.0",Yn._jsonSchema={type:Ve("string",Yn._jsonSchemaVersion),bytes:Ve("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new mt(et.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new We(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new mt(et.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new mt(et.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Pt(this._lat,t._lat)||Pt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Di._jsonSchemaVersion}}static fromJSON(t){if(gu(t,Di._jsonSchema))return new Di(t.latitude,t.longitude)}}Di._jsonSchemaVersion="firestore/geoPoint/1.0",Di._jsonSchema={type:Ve("string",Di._jsonSchemaVersion),latitude:Ve("number"),longitude:Ve("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi{constructor(t){this._values=(t||[]).map(i=>i)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(r,o){if(r.length!==o.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==o[u])return!1;return!0}(this._values,t._values)}toJSON(){return{type:Vi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(gu(t,Vi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(i=>typeof i=="number"))return new Vi(t.vectorValues);throw new mt(et.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Vi._jsonSchemaVersion="firestore/vectorValue/1.0",Vi._jsonSchema={type:Ve("string",Vi._jsonSchemaVersion),vectorValues:Ve("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MN=/^__.*__$/;class NN{constructor(t,i,r){this.data=t,this.fieldMask=i,this.fieldTransforms=r}toMutation(t,i){return this.fieldMask!==null?new or(t,this.data,this.fieldMask,i,this.fieldTransforms):new yu(t,this.data,i,this.fieldTransforms)}}class WS{constructor(t,i,r){this.data=t,this.fieldMask=i,this.fieldTransforms=r}toMutation(t,i){return new or(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function JS(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw St(40011,{Ac:n})}}class Ng{constructor(t,i,r,o,u,h){this.settings=t,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Ng({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){var o;const i=(o=this.path)==null?void 0:o.child(t),r=this.Vc({path:i,fc:!1});return r.gc(t),r}yc(t){var o;const i=(o=this.path)==null?void 0:o.child(t),r=this.Vc({path:i,fc:!1});return r.Rc(),r}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Ch(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find(i=>t.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>t.isPrefixOf(i.field))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(JS(this.Ac)&&MN.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class ON{constructor(t,i,r){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=r||Hh(t)}Cc(t,i,r,o=!1){return new Ng({Ac:t,methodName:i,Dc:r,path:We.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function tb(n){const t=n._freezeSettings(),i=Hh(n._databaseId);return new ON(n._databaseId,!!t.ignoreUndefinedProperties,i)}function PN(n,t,i,r,o,u={}){const h=n.Cc(u.merge||u.mergeFields?2:0,t,i,o);Lg("Data must be an object, but it was:",h,r);const d=eb(r,h);let p,g;if(u.merge)p=new In(h.fieldMask),g=h.fieldTransforms;else if(u.mergeFields){const v=[];for(const E of u.mergeFields){const A=Tp(t,E,i);if(!h.contains(A))throw new mt(et.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);ib(v,A)||v.push(A)}p=new In(v),g=h.fieldTransforms.filter(E=>p.covers(E.field))}else p=null,g=h.fieldTransforms;return new NN(new _n(d),p,g)}class Zh extends Eu{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Zh}}class Og extends Eu{_toFieldTransform(t){return new dS(t.path,new ou)}isEqual(t){return t instanceof Og}}class Pg extends Eu{constructor(t,i){super(t),this.Fc=i}_toFieldTransform(t){const i=new cu(t.serializer,lS(t.serializer,this.Fc));return new dS(t.path,i)}isEqual(t){return t instanceof Pg&&this.Fc===t.Fc}}function LN(n,t,i,r){const o=n.Cc(1,t,i);Lg("Data must be an object, but it was:",o,r);const u=[],h=_n.empty();ar(r,(p,g)=>{const v=Ug(t,p,i);g=Ii(g);const E=o.yc(v);if(g instanceof Zh)u.push(v);else{const A=Wh(g,E);A!=null&&(u.push(v),h.set(v,A))}});const d=new In(u);return new WS(h,d,o.fieldTransforms)}function UN(n,t,i,r,o,u){const h=n.Cc(1,t,i),d=[Tp(t,r,i)],p=[o];if(u.length%2!=0)throw new mt(et.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<u.length;A+=2)d.push(Tp(t,u[A])),p.push(u[A+1]);const g=[],v=_n.empty();for(let A=d.length-1;A>=0;--A)if(!ib(g,d[A])){const C=d[A];let P=p[A];P=Ii(P);const j=h.yc(C);if(P instanceof Zh)g.push(C);else{const F=Wh(P,j);F!=null&&(g.push(C),v.set(C,F))}}const E=new In(g);return new WS(v,E,h.fieldTransforms)}function Wh(n,t){if(nb(n=Ii(n)))return Lg("Unsupported field value:",t,n),eb(n,t);if(n instanceof Eu)return function(r,o){if(!JS(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return function(r,o){const u=[];let h=0;for(const d of r){let p=Wh(d,o.wc(h));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),h++}return{arrayValue:{values:u}}}(n,t)}return function(r,o){if((r=Ii(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return lS(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=se.fromDate(r);return{timestampValue:Sh(o.serializer,u)}}if(r instanceof se){const u=new se(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Sh(o.serializer,u)}}if(r instanceof Di)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Yn)return{bytesValue:TS(o.serializer,r._byteString)};if(r instanceof He){const u=o.databaseId,h=r.firestore._databaseId;if(!h.isEqual(u))throw o.Sc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:_g(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof Vi)return function(h,d){return{mapValue:{fields:{[KA]:{stringValue:YA},[Th]:{arrayValue:{values:h.toArray().map(g=>{if(typeof g!="number")throw d.Sc("VectorValues must only contain numeric values.");return gg(d.serializer,g)})}}}}}}(r,o);throw o.Sc(`Unsupported field value: ${cg(r)}`)}(n,t)}function eb(n,t){const i={};return zA(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ar(n,(r,o)=>{const u=Wh(o,t.mc(r));u!=null&&(i[r]=u)}),{mapValue:{fields:i}}}function nb(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof se||n instanceof Di||n instanceof Yn||n instanceof He||n instanceof Eu||n instanceof Vi)}function Lg(n,t,i){if(!nb(i)||!kA(i)){const r=cg(i);throw r==="an object"?t.Sc(n+" a custom object"):t.Sc(n+" "+r)}}function Tp(n,t,i){if((t=Ii(t))instanceof $h)return t._internalPath;if(typeof t=="string")return Ug(n,t);throw Ch("Field path arguments must be of type string or ",n,!1,void 0,i)}const kN=new RegExp("[~\\*/\\[\\]]");function Ug(n,t,i){if(t.search(kN)>=0)throw Ch(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,i);try{return new $h(...t.split("."))._internalPath}catch{throw Ch(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,i)}}function Ch(n,t,i,r,o){const u=r&&!r.isEmpty(),h=o!==void 0;let d=`Function ${t}() called with invalid data`;i&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(u||h)&&(p+=" (found",u&&(p+=` in field ${r}`),h&&(p+=` in document ${o}`),p+=")"),new mt(et.INVALID_ARGUMENT,d+n+p)}function ib(n,t){return n.some(i=>i.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sb{constructor(t,i,r,o,u){this._firestore=t,this._userDataWriter=i,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new He(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new BN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(rb("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class BN extends sb{data(){return super.data()}}function rb(n,t){return typeof t=="string"?Ug(n,t):t instanceof $h?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zN(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new mt(et.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class jN{convertValue(t,i="none"){switch(er(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ae(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(tr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw St(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const r={};return ar(t,(o,u)=>{r[o]=this.convertValue(u,i)}),r}convertVectorValue(t){var r,o,u;const i=(u=(o=(r=t.fields)==null?void 0:r[Th].arrayValue)==null?void 0:o.values)==null?void 0:u.map(h=>Ae(h.doubleValue));return new Vi(i)}convertGeoPoint(t){return new Di(Ae(t.latitude),Ae(t.longitude))}convertArray(t,i){return(t.values||[]).map(r=>this.convertValue(r,i))}convertServerTimestamp(t,i){switch(i){case"previous":const r=Uh(t);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(su(t));default:return null}}convertTimestamp(t){const i=Js(t);return new se(i.seconds,i.nanos)}convertDocumentKey(t,i){const r=ie.fromString(t);Gt(RS(r),9688,{name:t});const o=new ru(r.get(1),r.get(3)),u=new vt(r.popFirst(5));return o.isEqual(i)||hs(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qN(n,t,i){let r;return r=n?n.toFirestore(t):t,r}class th{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class ro extends sb{constructor(t,i,r,o,u,h){super(t,i,r,o,h),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new ch(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const r=this._document.data.field(rb("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new mt(et.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=ro._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}ro._jsonSchemaVersion="firestore/documentSnapshot/1.0",ro._jsonSchema={type:Ve("string",ro._jsonSchemaVersion),bundleSource:Ve("string","DocumentSnapshot"),bundleName:Ve("string"),bundle:Ve("string")};class ch extends ro{data(t={}){return super.data(t)}}class ao{constructor(t,i,r,o){this._firestore=t,this._userDataWriter=i,this._snapshot=o,this.metadata=new th(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const t=[];return this.forEach(i=>t.push(i)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach(r=>{t.call(i,new ch(this._firestore,this._userDataWriter,r.key,r,new th(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new mt(et.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(d=>{const p=new ch(o._firestore,o._userDataWriter,d.doc.key,d.doc,new th(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}})}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(d=>u||d.type!==3).map(d=>{const p=new ch(o._firestore,o._userDataWriter,d.doc.key,d.doc,new th(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,v=-1;return d.type!==0&&(g=h.indexOf(d.doc.key),h=h.delete(d.doc.key)),d.type!==1&&(h=h.add(d.doc),v=h.indexOf(d.doc.key)),{type:FN(d.type),doc:p,oldIndex:g,newIndex:v}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new mt(et.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=ao._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=ug.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],o=[];return this.docs.forEach(u=>{u._document!==null&&(i.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function FN(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return St(61501,{type:n})}}ao._jsonSchemaVersion="firestore/querySnapshot/1.0",ao._jsonSchema={type:Ve("string",ao._jsonSchemaVersion),bundleSource:Ve("string","QuerySnapshot"),bundleName:Ve("string"),bundle:Ve("string")};class HN extends jN{constructor(t){super(),this.firestore=t}convertBytes(t){return new Yn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new He(this.firestore,null,i)}}function GN(n){n=ho(n,Qh);const t=ho(n.firestore,Xh),i=ZS(t),r=new HN(t);return zN(n._query),xN(i,n._query).then(o=>new ao(t,r,n,o))}function KN(n,t,i,...r){n=ho(n,He);const o=ho(n.firestore,Xh),u=tb(o);let h;return h=typeof(t=Ii(t))=="string"||t instanceof $h?UN(u,"updateDoc",n._key,t,i,r):LN(u,"updateDoc",n._key,t),ab(o,[h.toMutation(n._key,Ci.exists(!0))])}function YN(n,t){const i=ho(n.firestore,Xh),r=$S(n),o=qN(n.converter,t);return ab(i,[PN(tb(n.firestore),"addDoc",r._key,o,n.converter!==null,{}).toMutation(r._key,Ci.exists(!1))]).then(()=>r)}function ab(n,t){return function(r,o){const u=new Ys;return r.asyncQueue.enqueueAndForget(async()=>mN(await RN(r),o,u)),u.promise}(ZS(n),t)}function QN(){return new Og("serverTimestamp")}function XN(n){return new Pg("increment",n)}(function(t,i=!0){(function(o){To=o})(_I),Zs(new us("firestore",(r,{instanceIdentifier:o,options:u})=>{const h=r.getProvider("app").getImmediate(),d=new Xh(new MI(r.getProvider("auth-internal")),new PI(h,r.getProvider("app-check-internal")),function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new mt(et.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ru(g.options.projectId,v)}(h,o),h);return u={useFetchStreams:i,...u},d._setSettings(u),d},"PUBLIC").setMultipleInstances(!0)),wi(LT,UT,t),wi(LT,UT,"esm2020")})();var $N="firebase",ZN="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */wi($N,ZN,"app");const ob="@firebase/installations",kg="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lb=1e4,ub=`w:${kg}`,cb="FIS_v2",WN="https://firebaseinstallations.googleapis.com/v1",JN=60*60*1e3,tO="installations",eO="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nO={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ta=new Oh(tO,eO,nO);function hb(n){return n instanceof rr&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fb({projectId:n}){return`${WN}/projects/${n}/installations`}function db(n){return{token:n.token,requestStatus:2,expiresIn:sO(n.expiresIn),creationTime:Date.now()}}async function mb(n,t){const r=(await t.json()).error;return ta.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function pb({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function iO(n,{refreshToken:t}){const i=pb(n);return i.append("Authorization",rO(t)),i}async function gb(n){const t=await n();return t.status>=500&&t.status<600?n():t}function sO(n){return Number(n.replace("s","000"))}function rO(n){return`${cb} ${n}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aO({appConfig:n,heartbeatServiceProvider:t},{fid:i}){const r=fb(n),o=pb(n),u=t.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const h={fid:i,authVersion:cb,appId:n.appId,sdkVersion:ub},d={method:"POST",headers:o,body:JSON.stringify(h)},p=await gb(()=>fetch(r,d));if(p.ok){const g=await p.json();return{fid:g.fid||i,registrationStatus:2,refreshToken:g.refreshToken,authToken:db(g.authToken)}}else throw await mb("Create Installation",p)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yb(n){return new Promise(t=>{setTimeout(t,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oO(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lO=/^[cdef][\w-]{21}$/,Ep="";function uO(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const i=cO(n);return lO.test(i)?i:Ep}catch{return Ep}}function cO(n){return oO(n).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jh(n){return`${n.appName}!${n.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vb=new Map;function _b(n,t){const i=Jh(n);Tb(i,t),hO(i,t)}function Tb(n,t){const i=vb.get(n);if(i)for(const r of i)r(t)}function hO(n,t){const i=fO();i&&i.postMessage({key:n,fid:t}),dO()}let Xr=null;function fO(){return!Xr&&"BroadcastChannel"in self&&(Xr=new BroadcastChannel("[Firebase] FID Change"),Xr.onmessage=n=>{Tb(n.data.key,n.data.fid)}),Xr}function dO(){vb.size===0&&Xr&&(Xr.close(),Xr=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mO="firebase-installations-database",pO=1,ea="firebase-installations-store";let Dm=null;function Bg(){return Dm||(Dm=bA(mO,pO,{upgrade:(n,t)=>{switch(t){case 0:n.createObjectStore(ea)}}})),Dm}async function xh(n,t){const i=Jh(n),o=(await Bg()).transaction(ea,"readwrite"),u=o.objectStore(ea),h=await u.get(i);return await u.put(t,i),await o.done,(!h||h.fid!==t.fid)&&_b(n,t.fid),t}async function Eb(n){const t=Jh(n),r=(await Bg()).transaction(ea,"readwrite");await r.objectStore(ea).delete(t),await r.done}async function tf(n,t){const i=Jh(n),o=(await Bg()).transaction(ea,"readwrite"),u=o.objectStore(ea),h=await u.get(i),d=t(h);return d===void 0?await u.delete(i):await u.put(d,i),await o.done,d&&(!h||h.fid!==d.fid)&&_b(n,d.fid),d}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zg(n){let t;const i=await tf(n.appConfig,r=>{const o=gO(r),u=yO(n,o);return t=u.registrationPromise,u.installationEntry});return i.fid===Ep?{installationEntry:await t}:{installationEntry:i,registrationPromise:t}}function gO(n){const t=n||{fid:uO(),registrationStatus:0};return Ab(t)}function yO(n,t){if(t.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(ta.create("app-offline"));return{installationEntry:t,registrationPromise:o}}const i={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=vO(n,i);return{installationEntry:i,registrationPromise:r}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:_O(n)}:{installationEntry:t}}async function vO(n,t){try{const i=await aO(n,t);return xh(n.appConfig,i)}catch(i){throw hb(i)&&i.customData.serverCode===409?await Eb(n.appConfig):await xh(n.appConfig,{fid:t.fid,registrationStatus:0}),i}}async function _O(n){let t=await ME(n.appConfig);for(;t.registrationStatus===1;)await yb(100),t=await ME(n.appConfig);if(t.registrationStatus===0){const{installationEntry:i,registrationPromise:r}=await zg(n);return r||i}return t}function ME(n){return tf(n,t=>{if(!t)throw ta.create("installation-not-found");return Ab(t)})}function Ab(n){return TO(n)?{fid:n.fid,registrationStatus:0}:n}function TO(n){return n.registrationStatus===1&&n.registrationTime+lb<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EO({appConfig:n,heartbeatServiceProvider:t},i){const r=AO(n,i),o=iO(n,i),u=t.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const h={installation:{sdkVersion:ub,appId:n.appId}},d={method:"POST",headers:o,body:JSON.stringify(h)},p=await gb(()=>fetch(r,d));if(p.ok){const g=await p.json();return db(g)}else throw await mb("Generate Auth Token",p)}function AO(n,{fid:t}){return`${fb(n)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jg(n,t=!1){let i;const r=await tf(n.appConfig,u=>{if(!Sb(u))throw ta.create("not-registered");const h=u.authToken;if(!t&&wO(h))return u;if(h.requestStatus===1)return i=SO(n,t),u;{if(!navigator.onLine)throw ta.create("app-offline");const d=CO(u);return i=bO(n,d),d}});return i?await i:r.authToken}async function SO(n,t){let i=await NE(n.appConfig);for(;i.authToken.requestStatus===1;)await yb(100),i=await NE(n.appConfig);const r=i.authToken;return r.requestStatus===0?jg(n,t):r}function NE(n){return tf(n,t=>{if(!Sb(t))throw ta.create("not-registered");const i=t.authToken;return xO(i)?{...t,authToken:{requestStatus:0}}:t})}async function bO(n,t){try{const i=await EO(n,t),r={...t,authToken:i};return await xh(n.appConfig,r),i}catch(i){if(hb(i)&&(i.customData.serverCode===401||i.customData.serverCode===404))await Eb(n.appConfig);else{const r={...t,authToken:{requestStatus:0}};await xh(n.appConfig,r)}throw i}}function Sb(n){return n!==void 0&&n.registrationStatus===2}function wO(n){return n.requestStatus===2&&!RO(n)}function RO(n){const t=Date.now();return t<n.creationTime||n.creationTime+n.expiresIn<t+JN}function CO(n){const t={requestStatus:1,requestTime:Date.now()};return{...n,authToken:t}}function xO(n){return n.requestStatus===1&&n.requestTime+lb<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DO(n){const t=n,{installationEntry:i,registrationPromise:r}=await zg(t);return r?r.catch(console.error):jg(t).catch(console.error),i.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VO(n,t=!1){const i=n;return await IO(i),(await jg(i,t)).token}async function IO(n){const{registrationPromise:t}=await zg(n);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MO(n){if(!n||!n.options)throw Vm("App Configuration");if(!n.name)throw Vm("App Name");const t=["projectId","apiKey","appId"];for(const i of t)if(!n.options[i])throw Vm(i);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function Vm(n){return ta.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bb="installations",NO="installations-internal",OO=n=>{const t=n.getProvider("app").getImmediate(),i=MO(t),r=pu(t,"heartbeat");return{app:t,appConfig:i,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},PO=n=>{const t=n.getProvider("app").getImmediate(),i=pu(t,bb).getImmediate();return{getId:()=>DO(i),getToken:o=>VO(i,o)}};function LO(){Zs(new us(bb,OO,"PUBLIC")),Zs(new us(NO,PO,"PRIVATE"))}LO();wi(ob,kg);wi(ob,kg,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dh="analytics",UO="firebase_id",kO="origin",BO=60*1e3,zO="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",qg="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const En=new ag("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jO={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Mn=new Oh("analytics","Analytics",jO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qO(n){if(!n.startsWith(qg)){const t=Mn.create("invalid-gtag-resource",{gtagURL:n});return En.warn(t.message),""}return n}function wb(n){return Promise.all(n.map(t=>t.catch(i=>i)))}function FO(n,t){let i;return window.trustedTypes&&(i=window.trustedTypes.createPolicy(n,t)),i}function HO(n,t){const i=FO("firebase-js-sdk-policy",{createScriptURL:qO}),r=document.createElement("script"),o=`${qg}?l=${n}&id=${t}`;r.src=i?i==null?void 0:i.createScriptURL(o):o,r.async=!0,document.head.appendChild(r)}function GO(n){let t=[];return Array.isArray(window[n])?t=window[n]:window[n]=t,t}async function KO(n,t,i,r,o,u){const h=r[o];try{if(h)await t[h];else{const p=(await wb(i)).find(g=>g.measurementId===o);p&&await t[p.appId]}}catch(d){En.error(d)}n("config",o,u)}async function YO(n,t,i,r,o){try{let u=[];if(o&&o.send_to){let h=o.send_to;Array.isArray(h)||(h=[h]);const d=await wb(i);for(const p of h){const g=d.find(E=>E.measurementId===p),v=g&&t[g.appId];if(v)u.push(v);else{u=[];break}}}u.length===0&&(u=Object.values(t)),await Promise.all(u),n("event",r,o||{})}catch(u){En.error(u)}}function QO(n,t,i,r){async function o(u,...h){try{if(u==="event"){const[d,p]=h;await YO(n,t,i,d,p)}else if(u==="config"){const[d,p]=h;await KO(n,t,i,r,d,p)}else if(u==="consent"){const[d,p]=h;n("consent",d,p)}else if(u==="get"){const[d,p,g]=h;n("get",d,p,g)}else if(u==="set"){const[d]=h;n("set",d)}else n(u,...h)}catch(d){En.error(d)}}return o}function XO(n,t,i,r,o){let u=function(...h){window[r].push(arguments)};return window[o]&&typeof window[o]=="function"&&(u=window[o]),window[o]=QO(u,n,t,i),{gtagCore:u,wrappedGtag:window[o]}}function $O(n){const t=window.document.getElementsByTagName("script");for(const i of Object.values(t))if(i.src&&i.src.includes(qg)&&i.src.includes(n))return i;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZO=30,WO=1e3;class JO{constructor(t={},i=WO){this.throttleMetadata=t,this.intervalMillis=i}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,i){this.throttleMetadata[t]=i}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const Rb=new JO;function t6(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function e6(n){var h;const{appId:t,apiKey:i}=n,r={method:"GET",headers:t6(i)},o=zO.replace("{app-id}",t),u=await fetch(o,r);if(u.status!==200&&u.status!==304){let d="";try{const p=await u.json();(h=p.error)!=null&&h.message&&(d=p.error.message)}catch{}throw Mn.create("config-fetch-failed",{httpStatus:u.status,responseMessage:d})}return u.json()}async function n6(n,t=Rb,i){const{appId:r,apiKey:o,measurementId:u}=n.options;if(!r)throw Mn.create("no-app-id");if(!o){if(u)return{measurementId:u,appId:r};throw Mn.create("no-api-key")}const h=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},d=new r6;return setTimeout(async()=>{d.abort()},BO),Cb({appId:r,apiKey:o,measurementId:u},h,d,t)}async function Cb(n,{throttleEndTimeMillis:t,backoffCount:i},r,o=Rb){var d;const{appId:u,measurementId:h}=n;try{await i6(r,t)}catch(p){if(h)return En.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${h} provided in the "measurementId" field in the local Firebase config. [${p==null?void 0:p.message}]`),{appId:u,measurementId:h};throw p}try{const p=await e6(n);return o.deleteThrottleMetadata(u),p}catch(p){const g=p;if(!s6(g)){if(o.deleteThrottleMetadata(u),h)return En.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${h} provided in the "measurementId" field in the local Firebase config. [${g==null?void 0:g.message}]`),{appId:u,measurementId:h};throw p}const v=Number((d=g==null?void 0:g.customData)==null?void 0:d.httpStatus)===503?RT(i,o.intervalMillis,ZO):RT(i,o.intervalMillis),E={throttleEndTimeMillis:Date.now()+v,backoffCount:i+1};return o.setThrottleMetadata(u,E),En.debug(`Calling attemptFetch again in ${v} millis`),Cb(n,E,r,o)}}function i6(n,t){return new Promise((i,r)=>{const o=Math.max(t-Date.now(),0),u=setTimeout(i,o);n.addEventListener(()=>{clearTimeout(u),r(Mn.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function s6(n){if(!(n instanceof rr)||!n.customData)return!1;const t=Number(n.customData.httpStatus);return t===429||t===500||t===503||t===504}class r6{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function a6(n,t,i,r,o){if(o&&o.global){n("event",i,r);return}else{const u=await t,h={...r,send_to:u};n("event",i,h)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o6(){if(TA())try{await EA()}catch(n){return En.warn(Mn.create("indexeddb-unavailable",{errorInfo:n==null?void 0:n.toString()}).message),!1}else return En.warn(Mn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function l6(n,t,i,r,o,u,h){const d=n6(n);d.then(A=>{i[A.measurementId]=A.appId,n.options.measurementId&&A.measurementId!==n.options.measurementId&&En.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${A.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(A=>En.error(A)),t.push(d);const p=o6().then(A=>{if(A)return r.getId()}),[g,v]=await Promise.all([d,p]);$O(u)||HO(u,g.measurementId),o("js",new Date);const E=(h==null?void 0:h.config)??{};return E[kO]="firebase",E.update=!0,v!=null&&(E[UO]=v),o("config",g.measurementId,E),g.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u6{constructor(t){this.app=t}_delete(){return delete Yl[this.app.options.appId],Promise.resolve()}}let Yl={},OE=[];const PE={};let Im="dataLayer",c6="gtag",LE,xb,UE=!1;function h6(){const n=[];if(hV()&&n.push("This is a browser extension environment."),dV()||n.push("Cookies are not available."),n.length>0){const t=n.map((r,o)=>`(${o+1}) ${r}`).join(" "),i=Mn.create("invalid-analytics-context",{errorInfo:t});En.warn(i.message)}}function f6(n,t,i){h6();const r=n.options.appId;if(!r)throw Mn.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)En.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Mn.create("no-api-key");if(Yl[r]!=null)throw Mn.create("already-exists",{id:r});if(!UE){GO(Im);const{wrappedGtag:u,gtagCore:h}=XO(Yl,OE,PE,Im,c6);xb=u,LE=h,UE=!0}return Yl[r]=l6(n,OE,PE,t,LE,Im,i),new u6(n)}function d6(n=RA()){n=Ii(n);const t=pu(n,Dh);return t.isInitialized()?t.getImmediate():m6(n)}function m6(n,t={}){const i=pu(n,Dh);if(i.isInitialized()){const o=i.getImmediate();if(eu(t,i.getOptions()))return o;throw Mn.create("already-initialized")}return i.initialize({options:t})}function p6(n,t,i,r){n=Ii(n),a6(xb,Yl[n.app.options.appId],t,i,r).catch(o=>En.error(o))}const kE="@firebase/analytics",BE="0.10.18";function g6(){Zs(new us(Dh,(t,{options:i})=>{const r=t.getProvider("app").getImmediate(),o=t.getProvider("installations-internal").getImmediate();return f6(r,o,i)},"PUBLIC")),Zs(new us("analytics-internal",n,"PRIVATE")),wi(kE,BE),wi(kE,BE,"esm2020");function n(t){try{const i=t.getProvider(Dh).getImmediate();return{logEvent:(r,o,u)=>p6(i,r,o,u)}}catch(i){throw Mn.create("interop-component-reg-failed",{reason:i})}}}g6();const y6={apiKey:"AIzaSyCyJPQrXT-r7gBL94xKf7zdPU2ygjktMho",authDomain:"omairi-app.firebaseapp.com",projectId:"omairi-app",storageBucket:"omairi-app.firebasestorage.app",messagingSenderId:"320081611622",appId:"1:320081611622:web:39986811072db6fe7356a7",measurementId:"G-DHDT19YH80"},Db=wA(y6);d6(Db);const Mm=VN(Db);function Ap(n){return Array.isArray(n)?n.map(Ap):n&&typeof n=="object"?Object.fromEntries(Object.entries(n).filter(([t,i])=>i!==void 0).map(([t,i])=>[t,Ap(i)])):n}const v6=()=>{const[n,t]=at.useState(1),[i,r]=at.useState(""),[o,u]=at.useState(""),[h,d]=at.useState(""),[p,g]=at.useState(""),[v,E]=at.useState(!1),[A,C]=at.useState(null),[P,j]=at.useState([]),[F,$]=at.useState(!0),[Z,Q]=at.useState(""),ut=at.useRef(null),it=at.useRef(null),ct=at.useRef(null),[V,w]=at.useState(new Set),[R,M]=at.useState(!1),[O,L]=at.useState([]),[D,fe]=at.useState([]);at.useEffect(()=>{const yt=localStorage.getItem("userEmas");localStorage.getItem("emaLikes");const le=localStorage.getItem("likedSet");yt&&L(JSON.parse(yt)),le&&w(new Set(JSON.parse(le)))},[]);const ne=yt=>{localStorage.setItem("likedSet",JSON.stringify([...yt]))};at.useEffect(()=>{(async()=>{try{const ye=(await(await fetch("/omairi_app/characters.csv")).text()).split(`
`),en=ye[0].split(","),ds=ye.slice(1).filter(Pi=>Pi.trim()).map(Pi=>{const $n=Pi.split(",");return{id:parseInt($n[0]),name:$n[1],image_path:$n[2],description:$n[3]}});j(ds),$(!1)}catch(le){console.error("CSV:",le),j([{id:1,name:"",image_path:"assets/character.png",description:""},{id:2,name:"",image_path:"assets/character.png",description:""},{id:3,name:"",image_path:"assets/character.png",description:""},{id:4,name:"",image_path:"assets/character.png",description:""}]),$(!1)}})()},[]);const K=async()=>{const yt=xE(Mm,"emas"),le=await GN(yt);fe(le.docs.map(At=>({id:At.id,...At.data()})))};at.useEffect(()=>{n===7&&K()},[n]),at.useEffect(()=>{n===3&&it.current&&it.current.focus()},[n]),at.useEffect(()=>{n===3&&ct.current&&(ct.current.currentTime=0,ct.current.play().catch(()=>{}))},[n]);const st=()=>{t(2)},ft=()=>{t(3)},Mt=()=>{ut.current&&ut.current.play().catch(yt=>console.log("Audio play failed:",yt)),E(!0)},I=yt=>{yt.preventDefault(),d(i),g(o),t(4)},tt=async yt=>{C(yt),t(6);try{const le=yt?Ap(yt):{},{description:At,...ye}=le;console.log("character before save:",yt),console.log("cleanCharacter:",le),await YN(xE(Mm,"emas"),{wish:h,name:p,character:ye,created_at:QN(),likes:0})}catch(le){console.error("",le)}},lt=()=>{t(5)},rt=()=>{t(7)},gt=()=>{t(1),r(""),u(""),d(""),g("")},Dt=()=>{t(6)},Tt=P.filter(yt=>yt.name&&yt.name.toLowerCase().includes(Z.toLowerCase())||yt.description&&yt.description.toLowerCase().includes(Z.toLowerCase())),Se=yt=>yt?yt.length<=7?"1.2rem":yt.length<=16?"1.1rem":yt.length<=30?"1rem":yt.length<=40?"0.9rem":"0.8rem":"1rem",Xt=yt=>!yt||yt.length<=4?"1rem":yt.length<=5?"0.9rem":yt.length<=6?"0.8rem":yt.length<=7?"0.7rem":yt.length<=8?"0.6rem":"0.5rem",[tn,si]=at.useState(window.innerWidth<640);at.useEffect(()=>{const yt=()=>si(window.innerWidth<640);return window.addEventListener("resize",yt),()=>window.removeEventListener("resize",yt)},[]);const Xn=yt=>yt?yt.length<=8?"1.1rem":yt.length<=14?"1rem":yt.length<=20?"0.9rem":yt.length<=30?"0.8rem":"0.7rem":"1rem",Oi=()=>{switch(n){case 1:return nt.jsx("div",{className:"fixed inset-0 w-screen h-screen overflow-hidden",onClick:st,children:nt.jsx("img",{src:"assets/character-CsFcZeIK.png",alt:"Character",className:"fs-img"})});case 2:return nt.jsx("div",{className:"fixed inset-0 w-screen h-screen overflow-hidden",onClick:At=>{At.stopPropagation(),ft()},children:nt.jsx("img",{src:"assets/torii-B6uLCy4r.gif",alt:"Torii",className:"fs-img"})});case 3:return nt.jsxs(Fr.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.6,ease:"easeInOut"},className:"fixed inset-0 w-screen h-screen overflow-hidden",children:[nt.jsx("img",{src:"assets/keidai-C4Gy5nKi.gif",alt:"Keidai",className:"fs-img"}),nt.jsx("div",{className:"absolute cursor-pointer bg-transparent",onClick:Mt,style:{top:"60%",left:"50%",width:"10%",height:"15%",transform:"translate(-50%, -50%)",zIndex:10}}),nt.jsx("audio",{ref:ut,src:"assets/-CfX4AAZh.mp3",preload:"auto"}),nt.jsx("audio",{ref:ct,src:"assets/.mp3",preload:"auto"}),v&&nt.jsx("div",{className:"fixed inset-0 flex justify-center items-end pointer-events-none z-0 pb-3",children:nt.jsx(Fr.img,{src:"assets/minna_no_ema-DuqMoW9J.png",alt:"",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.7,ease:"easeOut"},className:"w-[80vw] max-w-[900px] h-auto",draggable:!1})}),v&&nt.jsx("div",{className:"fixed inset-0 flex justify-center items-end pb-10 pointer-events-none z-10",children:nt.jsxs(Fr.form,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.7,ease:"easeOut"},onSubmit:I,className:"p-4 rounded-lg shadow-lg w-full max-w-md bg-transparent pointer-events-auto",children:[nt.jsx("textarea",{ref:it,className:"block w-full p-2 mb-2 border border-gray-300 rounded-md resize-none focus:outline-none focus:ring-2 focus:ring-white text-black",rows:"4",placeholder:"...",value:i,onChange:At=>r(At.target.value),required:!0}),nt.jsx("input",{type:"text",className:"block w-full p-2 mb-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-black",placeholder:"...",value:o,onChange:At=>u(At.target.value)}),nt.jsx("button",{type:"submit",className:"block w-full bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-4 rounded-md transition duration-300",children:""})]})})]});case 4:return nt.jsx("div",{className:"fixed inset-0 w-screen h-screen overflow-hidden",onClick:lt,children:nt.jsx("img",{src:"assets/emakake-DeXitYVn.png",alt:"",className:"fs-img"})});case 5:return nt.jsx(Fr.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.6,ease:"easeInOut"},className:"fixed inset-0 w-screen h-screen overflow-hidden bg-gradient-to-b from-orange-200 to-orange-400",children:nt.jsxs("div",{className:"absolute inset-0 p-4 sm:p-6 md:p-8 overflow-y-auto",children:[nt.jsx("h1",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-center text-white mb-4 sm:mb-6 md:mb-8 drop-shadow-lg",children:""}),nt.jsxs("div",{className:"max-w-md mx-auto mb-4 sm:mb-6 md:mb-8",children:[nt.jsxs("div",{className:"relative",children:[nt.jsx("input",{type:"text",placeholder:"...",value:Z,onChange:At=>Q(At.target.value),className:"w-full px-4 py-3 pl-12 bg-white rounded-lg shadow-lg focus:outline-none focus:ring-2 focus:ring-orange-500 text-gray-800"}),nt.jsx("div",{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400",children:""}),Z&&nt.jsx("button",{onClick:()=>Q(""),className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:""})]}),Z&&nt.jsxs("p",{className:"text-white text-sm mt-2 text-center",children:[Tt.length,""]})]}),F?nt.jsx("div",{className:"flex justify-center items-center h-64",children:nt.jsx("div",{className:"text-white text-xl",children:"..."})}):nt.jsx(nt.Fragment,{children:Tt.length===0?nt.jsxs("div",{className:"text-center text-white",children:[nt.jsx("div",{className:"text-2xl mb-4",children:""}),nt.jsx("p",{className:"text-lg mb-2",children:""}),nt.jsx("p",{className:"text-sm opacity-80",children:""})]}):nt.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-2 sm:gap-3 md:gap-4 max-w-6xl mx-auto",children:Tt.map(At=>nt.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-2 sm:p-3 md:p-4 cursor-pointer transform hover:scale-105 transition-transform duration-300 flex flex-col items-center aspect-[3/4] h-48 sm:h-56 md:h-64 w-32 sm:w-36 md:w-44",onClick:()=>tt(At),children:[nt.jsx("div",{className:"w-full h-4/5 flex items-center justify-center mb-3",children:nt.jsx("img",{src:At.image_path,alt:At.name,className:"h-full w-full object-contain",onError:ye=>{ye.target.src="assets/character.png"}})}),nt.jsx("p",{className:"text-center text-xs sm:text-sm font-bold text-gray-800 mb-1",children:At.name})]},At.id))})})]})});case 6:return nt.jsxs(Fr.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.6,ease:"easeInOut"},className:"fixed inset-0 w-screen h-screen overflow-hidden",children:[nt.jsx("img",{src:"assets/ema-B7JpMnqw.png",alt:"Ema",className:"fs-img"}),A&&nt.jsx("div",{className:"absolute z-0 hidden sm:block",style:{bottom:"80px",right:"320px"},children:nt.jsx("img",{src:A.image_path,alt:A.name,style:{width:"480px",height:"560px",objectFit:"contain"}})}),A&&nt.jsx("div",{className:"absolute z-0 sm:hidden",style:{bottom:"20px",right:"20px"},children:nt.jsx("img",{src:A.image_path,alt:A.name,style:{width:"120px",height:"140px",objectFit:"contain"}})}),nt.jsx("p",{className:"absolute text-black text-lg sm:text-3xl md:text-5xl font-handwriting z-10",style:{top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"80%",textAlign:"center",whiteSpace:"pre-wrap",fontFamily:'"Klee One", "Hina Mincho", "Noto Sans JP", cursive',textShadow:"2px 2px 4px rgba(255,255,255,0.9)"},children:h}),nt.jsx("p",{className:"absolute text-black text-lg sm:text-2xl md:text-4xl font-handwriting z-10",style:{bottom:"15%",right:"70%",transform:"translateX(50%)",fontFamily:'"Klee One", "Hina Mincho", "Noto Sans JP", cursive',textShadow:"2px 2px 4px rgba(255,255,255,0.9)"},children:p}),nt.jsxs("button",{onClick:rt,className:"absolute custom-outline-btn z-10",style:{top:"5%",right:"5%",minWidth:"220px"},children:[nt.jsx("span",{className:"btn-label-highlight",children:""}),nt.jsx("span",{className:"btn-arrow-highlight",children:">"})]})]});case 7:const yt=[...D].sort((At,ye)=>{var en,ds;return R?(ye.likes||0)-(At.likes||0):(((en=ye.created_at)==null?void 0:en.seconds)||0)-(((ds=At.created_at)==null?void 0:ds.seconds)||0)}),le=async At=>{if(!V.has(At))try{const ye=$S(Mm,"emas",At);console.log("like update: id",At,"emaRef.path",ye.path),await KN(ye,{likes:XN(1)}),w(new Set([...V,At])),ne(new Set([...V,At])),await K(),console.log("after update, emas:",D)}catch(ye){console.error("",ye)}};return nt.jsxs(Fr.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.6,ease:"easeInOut"},className:"fixed inset-0 w-screen h-screen overflow-hidden",children:[nt.jsx("img",{src:"assets/everyones-ema-background.png",alt:"",className:"absolute inset-0 w-full h-full object-cover z-0 blur-sm",draggable:!1}),nt.jsxs("div",{className:"absolute inset-0 overflow-y-auto p-4 sm:p-6 md:p-8",children:[nt.jsx("h1",{className:"text-3xl font-bold text-center text-white mb-8 drop-shadow-lg",children:"  "}),nt.jsxs("div",{className:"flex justify-center items-center mb-4",children:[nt.jsx("span",{className:"text-white mr-2 text-sm",children:""}),nt.jsx("button",{onClick:()=>M(!R),className:`relative w-14 h-7 rounded-full transition-colors duration-300 focus:outline-none ${R?"bg-pink-400":"bg-gray-300"}`,"aria-label":"",style:{minWidth:"56px"},children:nt.jsx("span",{className:`absolute left-1 top-1 w-5 h-5 rounded-full bg-white shadow transition-transform duration-300 ${R?"translate-x-7":""}`,style:{transform:R?"translateX(28px)":"none"}})}),nt.jsx("span",{className:"text-white ml-2 text-sm",children:""})]}),nt.jsxs("div",{className:"flex flex-col items-center gap-4 mb-6",children:[nt.jsxs("a",{href:"https://newrona.jp/melofinity",target:"_blank",rel:"noopener noreferrer",className:"custom-outline-btn mx-auto mb-2",style:{textDecoration:"none",textShadow:"0 0 3px #fff, 0 0 3px #fff"},children:[nt.jsx("span",{className:"btn-label-highlight",children:""}),nt.jsx("span",{className:"btn-arrow-highlight",children:">"})]}),nt.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 justify-center",children:[nt.jsxs("button",{onClick:Dt,className:"custom-outline-btn mx-auto mb-2",children:[nt.jsx("span",{className:"btn-label-highlight",children:""}),nt.jsx("span",{className:"btn-arrow-highlight",children:">"})]}),nt.jsxs("button",{onClick:gt,className:"custom-outline-btn mx-auto mb-2",children:[nt.jsx("span",{className:"btn-label-highlight",children:""}),nt.jsx("span",{className:"btn-arrow-highlight",children:">"})]})]})]}),nt.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 max-w-7xl mx-auto",children:yt.length===0?nt.jsxs("div",{className:"col-span-4 text-center text-white text-xl py-8",children:["",nt.jsx("br",{}),""]}):yt.map(At=>nt.jsxs("div",{className:"relative transform hover:scale-105 transition-transform duration-300 bg-transparent",children:[nt.jsx("img",{src:"assets/minna_no_ema-DuqMoW9J.png",alt:"",className:"w-full h-48 object-cover rounded-md bg-transparent",style:{backgroundColor:"transparent"}}),nt.jsxs("div",{className:"absolute inset-0 flex flex-col justify-center items-center p-4 pointer-events-none",children:[nt.jsx("p",{className:"text-lg text-black mb-3 font-medium text-center leading-tight",style:{fontFamily:'"Hina Mincho", serif',textShadow:"2px 2px 4px rgba(255,255,255,0.9)",maxWidth:"70%",position:"absolute",top:"60%",left:"50%",transform:"translate(-50%, -50%)",fontSize:tn?Xn(At.wish):Se(At.wish),wordBreak:"break-word",whiteSpace:"pre-wrap"},children:At.wish}),nt.jsx("p",{className:"text-sm text-black font-medium",style:{fontFamily:'"Hina Mincho", serif',textShadow:"2px 2px 4px rgba(255,255,255,0.9)",position:"absolute",bottom:tn?"20%":"10%",right:"65%",transform:"translateX(50%)",fontSize:Xt(At.name),maxWidth:"60%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:At.name}),At.character&&nt.jsx("img",{src:At.character.image_path,alt:At.character.name,className:"absolute w-16 h-16 object-contain",style:tn?{bottom:"20%",right:"-2%"}:{bottom:"4%",right:"18%"},onError:ye=>{ye.target.src="assets/character.png"}}),!tn&&nt.jsxs("button",{type:"button",className:"absolute flex items-center gap-1 px-2 py-1 rounded-full bg-white bg-opacity-80 shadow text-pink-600 text-sm font-bold pointer-events-auto hover:bg-pink-100 transition",style:{bottom:"8%",left:"8%"},onClick:()=>le(At.id),disabled:V.has(At.id),"aria-label":"",children:[nt.jsx("span",{role:"img","aria-label":"like",children:""}),At.likes||0]})]}),tn&&nt.jsx("div",{className:"flex justify-center mt-2",children:nt.jsxs("button",{type:"button",className:"flex items-center gap-1 px-2 py-1 rounded-full bg-white bg-opacity-80 shadow text-pink-600 text-sm font-bold pointer-events-auto hover:bg-pink-100 transition",onClick:()=>le(At.id),disabled:V.has(At.id),"aria-label":"",children:[nt.jsx("span",{role:"img","aria-label":"like",children:""}),At.likes||0]})})]},At.id))})]})]});default:return null}};return nt.jsx(cC,{children:nt.jsx(Fr.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.6,ease:"easeInOut"},className:"fixed inset-0 w-screen h-screen",children:Oi()},n)})};uR.createRoot(document.getElementById("root")).render(nt.jsx(at.StrictMode,{children:nt.jsx(v6,{})}));
